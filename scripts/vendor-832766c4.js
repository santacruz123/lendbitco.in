/*!
 * jQuery JavaScript Library v2.1.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:11Z
 */
!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=Q.type(t);return"function"===n||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ae.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return G.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=de[t]={};return Q.each(t.match(pe)||[],function(t,n){e[n]=!0}),e}function s(){Z.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Q.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+Math.random()}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(_e,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Q.parseJSON(n):n}catch(i){}ye.set(t,e,n)}else n=void 0;return n}function c(){return!0}function l(){return!1}function f(){try{return Z.activeElement}catch(t){}}function h(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function d(t){var e=Re.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n=0,r=t.length;r>n;n++)ge.set(t[n],"globalEval",!e||ge.get(e[n],"globalEval"))}function m(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(ge.hasData(t)&&(o=ge.access(t),s=ge.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)Q.event.add(e,i,c[i][n])}ye.hasData(t)&&(a=ye.access(t),u=Q.extend({},a),ye.set(e,u))}}function g(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ee.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var r,i=Q(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function _(t){var e=Z,n=Fe[t];return n||(n=b(t,e),"none"!==n&&n||(Me=(Me||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Me[0].contentDocument,e.write(),e.close(),n=b(t,e),Me.detach()),Fe[t]=n),n}function w(t,e,n){var r,i,o,s,a=t.style;return n=n||He(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||Q.contains(t.ownerDocument,t)||(s=Q.style(t,e)),Ue.test(s)&&Pe.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function $(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function x(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Xe.length;i--;)if(e=Xe[i]+n,e in t)return e;return r}function E(t,e,n){var r=Ve.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function S(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Q.css(t,n+$e[o],!0,i)),r?("content"===n&&(s-=Q.css(t,"padding"+$e[o],!0,i)),"margin"!==n&&(s-=Q.css(t,"border"+$e[o]+"Width",!0,i))):(s+=Q.css(t,"padding"+$e[o],!0,i),"padding"!==n&&(s+=Q.css(t,"border"+$e[o]+"Width",!0,i)));return s}function A(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=He(t),s="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(t,e,o),(0>i||null==i)&&(i=t.style[e]),Ue.test(i))return i;r=s&&(J.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,n||(s?"border":"content"),r,o)+"px"}function T(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=ge.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&xe(r)&&(o[s]=ge.access(r,"olddisplay",_(r.nodeName)))):(i=xe(r),"none"===n&&i||ge.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function k(t,e,n,r,i){return new k.prototype.init(t,e,n,r,i)}function C(){return setTimeout(function(){Je=void 0}),Je=Q.now()}function j(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=$e[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function I(t,e,n){for(var r,i=(nn[e]||[]).concat(nn["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function O(t,e,n){var r,i,o,s,a,u,c,l,f=this,h={},p=t.style,d=t.nodeType&&xe(t),v=ge.get(t,"fxshow");n.queue||(a=Q._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,Q.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=Q.css(t,"display"),l="none"===c?ge.get(t,"olddisplay")||_(t.nodeName):c,"inline"===l&&"none"===Q.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Ye.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;d=!0}h[r]=v&&v[r]||Q.style(t,r)}else c=void 0;if(Q.isEmptyObject(h))"inline"===("none"===c?_(t.nodeName):c)&&(p.display=c);else{v?"hidden"in v&&(d=v.hidden):v=ge.access(t,"fxshow",{}),o&&(v.hidden=!d),d?Q(t).show():f.done(function(){Q(t).hide()}),f.done(function(){var e;ge.remove(t,"fxshow");for(e in h)Q.style(t,e,h[e])});for(r in h)s=I(d?v[r]:0,r,f),r in v||(v[r]=s.start,d&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function B(t,e){var n,r,i,o,s;for(n in t)if(r=Q.camelCase(n),i=e[r],o=t[n],Q.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=Q.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function D(t,e,n){var r,i,o=0,s=en.length,a=Q.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Je||C(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Je||C(),duration:n.duration,tweens:[],createTween:function(e,n){var r=Q.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),l=c.props;for(B(l,c.opts.specialEasing);s>o;o++)if(r=en[o].call(c,t,l,c.opts))return r;return Q.map(l,I,c),Q.isFunction(c.opts.start)&&c.opts.start.call(t,c),Q.fx.timer(Q.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function N(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(pe)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function R(t,e,n,r){function i(a){var u;return o[a]=!0,Q.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===$n;return i(e.dataTypes[0])||!o["*"]&&i("*")}function L(t,e){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&Q.extend(!0,t,r),t}function q(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function M(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function F(t,e,n,r){var i;if(Q.isArray(e))Q.each(e,function(e,i){n||An.test(t)?r(t,i):F(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==Q.type(e))r(t,e);else for(i in e)F(t+"["+i+"]",e[i],n,r)}function P(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var U=[],H=U.slice,z=U.concat,V=U.push,G=U.indexOf,W={},K=W.toString,X=W.hasOwnProperty,J={},Z=t.document,Y="2.1.1",Q=function(t,e){return new Q.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,re=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:Y,constructor:Q,selector:"",length:0,toArray:function(){return H.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:H.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:U.sort,splice:U.splice},Q.extend=Q.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||Q.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(c&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},s[e]=Q.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},Q.extend({expando:"jQuery"+(Y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!X.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?W[K.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=Z.createElement("script"),e.text=t,Z.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,re)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,s=t.length,a=n(t);if(r){if(a)for(;s>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(a)for(;s>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?Q.merge(r,"string"==typeof t?[t]:t):V.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:G.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;s>o;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,s=t.length,a=n(t),u=[];if(a)for(;s>o;o++)i=e(t[o],o,r),null!=i&&u.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&u.push(i);return z.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(r=H.call(arguments,2),i=function(){return t.apply(e||this,r.concat(H.call(arguments)))},i.guid=t.guid=t.guid||Q.guid++,i):void 0},now:Date.now,support:J}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){W["[object "+e+"]"]=e.toLowerCase()});var ie=/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */
function(t){function e(t,e,n,r){var i,o,s,a,u,c,f,p,d,v;if((e?e.ownerDocument||e:F)!==O&&I(e),e=e||O,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(D&&!r){if(i=ye.exec(t))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&q(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(w.qsa&&(!N||!N.test(t))){if(p=f=M,d=e,v=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(f=e.getAttribute("id"))?p=f.replace(_e,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=c.length;u--;)c[u]=p+h(c[u]);d=be.test(t)&&l(e.parentNode)||e,v=c.join(",")}if(v)try{return Q.apply(n,d.querySelectorAll(v)),n}catch(m){}finally{f||e.removeAttribute("id")}}}return T(t.replace(ue,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>$.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[M]=!0,t}function i(t){var e=O.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)$.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&typeof t.getElementsByTagName!==W&&t}function f(){}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=U++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,c=[P,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[M]||(e[M]={}),(a=u[r])&&a[0]===P&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function v(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;u>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),c&&e.push(a));return s}function g(t,e,n,i,o,s){return i&&!i[M]&&(i=g(i)),o&&!o[M]&&(o=g(o,s)),r(function(r,s,a,u){var c,l,f,h=[],p=[],d=s.length,g=r||v(e||"*",a.nodeType?[a]:a,[]),y=!t||!r&&e?g:m(g,h,t,a,u),b=n?o||(r?t:d||i)?[]:s:y;if(n&&n(y,b,a,u),i)for(c=m(b,p),i(c,[],a,u),l=c.length;l--;)(f=c[l])&&(b[p[l]]=!(y[p[l]]=f));if(r){if(o||t){if(o){for(c=[],l=b.length;l--;)(f=b[l])&&c.push(y[l]=f);o(null,b=[],c,u)}for(l=b.length;l--;)(f=b[l])&&(c=o?ee.call(r,f):h[l])>-1&&(r[c]=!(s[c]=f))}}else b=m(b===s?b.splice(d,b.length):b),o?o(null,s,b,u):Q.apply(s,b)})}function y(t){for(var e,n,r,i=t.length,o=$.relative[t[0].type],s=o||$.relative[" "],a=o?1:0,u=p(function(t){return t===e},s,!0),c=p(function(t){return ee.call(e,t)>-1},s,!0),l=[function(t,n,r){return!o&&(r||n!==k)||((e=n).nodeType?u(t,n,r):c(t,n,r))}];i>a;a++)if(n=$.relative[t[a].type])l=[p(d(l),n)];else{if(n=$.filter[t[a].type].apply(null,t[a].matches),n[M]){for(r=++a;i>r&&!$.relative[t[r].type];r++);return g(a>1&&d(l),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ue,"$1"),n,r>a&&y(t.slice(a,r)),i>r&&y(t=t.slice(r)),i>r&&h(t))}l.push(n)}return d(l)}function b(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,c){var l,f,h,p=0,d="0",v=r&&[],g=[],y=k,b=r||o&&$.find.TAG("*",c),_=P+=null==y?1:Math.random()||.1,w=b.length;for(c&&(k=s!==O&&s);d!==w&&null!=(l=b[d]);d++){if(o&&l){for(f=0;h=t[f++];)if(h(l,s,a)){u.push(l);break}c&&(P=_)}i&&((l=!h&&l)&&p--,r&&v.push(l))}if(p+=d,i&&d!==p){for(f=0;h=n[f++];)h(v,g,s,a);if(r){if(p>0)for(;d--;)v[d]||g[d]||(g[d]=Z.call(u));g=m(g)}Q.apply(u,g),c&&!r&&g.length>0&&p+n.length>1&&e.uniqueSort(u)}return c&&(P=_,k=y),v};return i?r(s):s}var _,w,$,x,E,S,A,T,k,C,j,I,O,B,D,N,R,L,q,M="sizzle"+-new Date,F=t.document,P=0,U=0,H=n(),z=n(),V=n(),G=function(t,e){return t===e&&(j=!0),0},W="undefined",K=1<<31,X={}.hasOwnProperty,J=[],Z=J.pop,Y=J.push,Q=J.push,te=J.slice,ee=J.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),se="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ce=new RegExp("^"+re+"*,"+re+"*"),le=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+oe+"$"),de={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ve=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),$e=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(J=te.call(F.childNodes),F.childNodes),J[F.childNodes.length].nodeType}catch(xe){Q={apply:J.length?function(t,e){Y.apply(t,te.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},I=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:F,r=n.defaultView;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,B=n.documentElement,D=!E(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){I()},!1):r.attachEvent&&r.attachEvent("onunload",function(){I()})),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(n.getElementsByClassName)&&i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),w.getById=i(function(t){return B.appendChild(t).id=M,!n.getElementsByName||!n.getElementsByName(M).length}),w.getById?($.find.ID=function(t,e){if(typeof e.getElementById!==W&&D){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},$.filter.ID=function(t){var e=t.replace(we,$e);return function(t){return t.getAttribute("id")===e}}):(delete $.find.ID,$.filter.ID=function(t){var e=t.replace(we,$e);return function(t){var n=typeof t.getAttributeNode!==W&&t.getAttributeNode("id");return n&&n.value===e}}),$.find.TAG=w.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==W?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},$.find.CLASS=w.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==W&&D?e.getElementsByClassName(t):void 0},R=[],N=[],(w.qsa=ge.test(n.querySelectorAll))&&(i(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&N.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+re+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||N.push(":checked")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+re+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=ge.test(L=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&i(function(t){w.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),R.push("!=",ae)}),N=N.length&&new RegExp(N.join("|")),R=R.length&&new RegExp(R.join("|")),e=ge.test(B.compareDocumentPosition),q=e||ge.test(B.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return j=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r?r:(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!w.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===F&&q(F,t)?-1:e===n||e.ownerDocument===F&&q(F,e)?1:C?ee.call(C,t)-ee.call(C,e):0:4&r?-1:1)}:function(t,e){if(t===e)return j=!0,0;var r,i=0,o=t.parentNode,a=e.parentNode,u=[t],c=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:C?ee.call(C,t)-ee.call(C,e):0;if(o===a)return s(t,e);for(r=t;r=r.parentNode;)u.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;u[i]===c[i];)i++;return i?s(u[i],c[i]):u[i]===F?-1:c[i]===F?1:0},n):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&I(t),n=n.replace(fe,"='$1']"),!(!w.matchesSelector||!D||R&&R.test(n)||N&&N.test(n)))try{var r=L.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&I(t),q(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&I(t);var n=$.attrHandle[e.toLowerCase()],r=n&&X.call($.attrHandle,e.toLowerCase())?n(t,e,!D):void 0;return void 0!==r?r:w.attributes||!D?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(j=!w.detectDuplicates,C=!w.sortStable&&t.slice(0),t.sort(G),j){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return C=null,t},x=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=x(e);return n},$=e.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,$e),t[3]=(t[3]||t[4]||t[5]||"").replace(we,$e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return de.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,$e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==W&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,h,p,d,v=o!==s?"nextSibling":"previousSibling",m=e.parentNode,g=a&&e.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;v;){for(f=e;f=f[v];)if(a?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;d=v="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&y){for(l=m[M]||(m[M]={}),c=l[t]||[],p=c[0]===P&&c[1],h=c[0]===P&&c[2],f=p&&m.childNodes[p];f=++p&&f&&f[v]||(h=p=0)||d.pop();)if(1===f.nodeType&&++h&&f===e){l[t]=[P,p,h];break}}else if(y&&(c=(e[M]||(e[M]={}))[t])&&c[0]===P)h=c[1];else for(;(f=++p&&f&&f[v]||(h=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++h||(y&&((f[M]||(f[M]={}))[t]=[P,h]),f!==e)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=$.pseudos[t]||$.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[M]?o(n):o.length>1?(i=[t,t,"",n],$.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=ee.call(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=A(t.replace(ue,"$1"));return i[M]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:r(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(we,$e).toLowerCase(),function(e){var n;do if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===B},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!$.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ve.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},$.pseudos.nth=$.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})$.pseudos[_]=u(_);return f.prototype=$.filters=$.pseudos,$.setFilters=new f,S=e.tokenize=function(t,n){var r,i,o,s,a,u,c,l=z[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=$.preFilter;a;){(!r||(i=ce.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=le.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in $.filter)!(i=de[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):z(t,u).slice(0)},A=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=y(e[n]),o[M]?r.push(o):i.push(o);o=V(t,b(i,r)),o.selector=t}return o},T=e.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,f=!r&&S(t=c.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&D&&$.relative[o[1].type]){if(e=($.find.ID(s.matches[0].replace(we,$e),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=de.needsContext.test(t)?0:o.length;i--&&(s=o[i],!$.relative[a=s.type]);)if((u=$.find[a])&&(r=u(s.matches[0].replace(we,$e),be.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return Q.apply(n,r),n;break}}return(c||A(t,f))(r,e,!D,n,be.test(t)&&l(e.parentNode)||e),n},w.sortStable=M.split("").sort(G).join("")===M,w.detectDuplicates=!!j,I(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ne,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);Q.find=ie,Q.expr=ie.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ie.uniqueSort,Q.text=ie.getText,Q.isXMLDoc=ie.isXML,Q.contains=ie.contains;var oe=Q.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Q.find.matchesSelector(r,t)?[r]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(i[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,i[e],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&oe.test(t)?Q(t):t||[],!1).length}});var ue,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,le=Q.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ce.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ue).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),se.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Z.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof ue.ready?ue.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};le.prototype=Q.fn,ue=Q(Z);var fe=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&Q(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=oe.test(t)||"string"!=typeof t?Q(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?G.call(Q(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,r){var i=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(he[t]||Q.unique(i),fe.test(t)&&i.reverse()),this.pushStack(i)}});var pe=/\S+/g,de={};Q.Callbacks=function(t){t="string"==typeof t?de[t]||o(t):Q.extend({},t);var e,n,r,i,s,a,u=[],c=!t.once&&[],l=function(o){for(e=t.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(c?c.length&&l(c.shift()):e?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(e){Q.each(e,function(e,n){var r=Q.type(n);"function"===r?t.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?s=u.length:e&&(i=n,l(e))}return this},remove:function(){return u&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?Q.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||f.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],r?c.push(e):l(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,o){var s=Q.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,r):r}},i={};return r.pipe=r.then,Q.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=H.call(arguments),s=o.length,a=1!==s||t&&Q.isFunction(t.promise)?s:0,u=1===a?t:Q.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?H.call(arguments):i,r===e?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,e)):--a;return a||u.resolveWith(r,o),u.promise()}});var ve;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(ve.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(e){return ve||(ve=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ve.promise(e)},Q.ready.promise();var me=Q.access=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===Q.type(n)){i=!0;for(a in n)Q.access(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(Q(t),n)})),e))for(;u>a;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Q.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=a.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?r=e.concat(e.map(Q.camelCase)):(i=Q.camelCase(e),e in s?r=[e,i]:(r=i,r=r in s?[r]:r.match(pe)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ge=new a,ye=new a,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;Q.extend({hasData:function(t){return ye.hasData(t)||ge.hasData(t)},data:function(t,e,n){return ye.access(t,e,n)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,n){return ge.access(t,e,n)},_removeData:function(t,e){ge.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ge.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),u(o,r,i[r])));ge.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ye.set(this,t)}):me(this,function(e){var n,r=Q.camelCase(t);if(o&&void 0===e){if(n=ye.get(o,t),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=ge.get(t,e),n&&(!r||Q.isArray(n)?r=ge.access(t,e,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),r=n.length,i=n.shift(),o=Q._queueHooks(t,e),s=function(){Q.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ge.get(t,n)||ge.access(t,n,{empty:Q.Callbacks("once memory").add(function(){ge.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=Q.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=ge.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=["Top","Right","Bottom","Left"],xe=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},Ee=/^(?:checkbox|radio)$/i;!function(){var t=Z.createDocumentFragment(),e=t.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),J.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";J.focusinBubbles="onfocusin"in t;var Ae=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,ke=/^(?:focusinfocus|focusoutblur)$/,Ce=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,f,h,p,d,v,m=ge.get(t);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Q.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof Q!==Se&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pe)||[""],c=e.length;c--;)a=Ce.exec(e[c])||[],p=v=a[1],d=(a[2]||"").split(".").sort(),p&&(f=Q.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=Q.event.special[p]||{},l=Q.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||(h=u[p]=[],h.delegateCount=0,f.setup&&f.setup.call(t,r,d,s)!==!1||t.addEventListener&&t.addEventListener(p,s,!1)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),Q.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,f,h,p,d,v,m=ge.hasData(t)&&ge.get(t);if(m&&(u=m.events)){for(e=(e||"").match(pe)||[""],c=e.length;c--;)if(a=Ce.exec(e[c])||[],p=v=a[1],d=(a[2]||"").split(".").sort(),p){for(f=Q.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,h=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)l=h[o],!i&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));s&&!h.length&&(f.teardown&&f.teardown.call(t,d,m.handle)!==!1||Q.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)Q.event.remove(t,p+e[c],n,r,!0);Q.isEmptyObject(u)&&(delete m.handle,ge.remove(t,"events"))}},trigger:function(e,n,r,i){var o,s,a,u,c,l,f,h=[r||Z],p=X.call(e,"type")?e.type:e,d=X.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!ke.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[Q.expando]?e:new Q.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:Q.makeArray(n,[e]),f=Q.event.special[p]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Q.isWindow(r)){for(u=f.delegateType||p,ke.test(u+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;
a===(r.ownerDocument||Z)&&h.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||p,l=(ge.get(s,"events")||{})[e.type]&&ge.get(s,"handle"),l&&l.apply(s,n),l=c&&s[c],l&&l.apply&&Q.acceptData(s)&&(e.result=l.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!Q.acceptData(r)||c&&Q.isFunction(r[p])&&!Q.isWindow(r)&&(a=r[c],a&&(r[c]=null),Q.event.triggered=p,r[p](),Q.event.triggered=void 0,a&&(r[c]=a)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,r,i,o,s=[],a=H.call(arguments),u=(ge.get(this,"events")||{})[t.type]||[],c=Q.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=Q.event.handlers.call(this,t,u),e=0;(i=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;a>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Q(i,this).index(u)>=0:Q.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Z,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Te.test(i)?this.mouseHooks:Ae.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new Q.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,e):Q.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:l):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),J.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=ge.access(r,e);i||r.addEventListener(t,n,!0),ge.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ge.access(r,e)-1;i?ge.access(r,e,i):(r.removeEventListener(t,n,!0),ge.remove(r,e))}}}),Q.fn.extend({on:function(t,e,n,r,i){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=l;else if(!r)return this;return 1===i&&(o=r,r=function(t){return Q().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Q(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=l),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Oe=/<|&#?\w+;/,Be=/<(?:script|style|link)/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,qe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qe.optgroup=qe.option,qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td,Q.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=Q.contains(t.ownerDocument,t);if(!(J.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(s=g(a),o=g(t),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(e)if(n)for(o=o||g(t),s=s||g(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(t,a);return s=g(a,"script"),s.length>0&&v(s,!u&&g(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,u,c,l=e.createDocumentFragment(),f=[],h=0,p=t.length;p>h;h++)if(i=t[h],i||0===i)if("object"===Q.type(i))Q.merge(f,i.nodeType?[i]:i);else if(Oe.test(i)){for(o=o||l.appendChild(e.createElement("div")),s=(Ie.exec(i)||["",""])[1].toLowerCase(),a=qe[s]||qe._default,o.innerHTML=a[1]+i.replace(je,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;Q.merge(f,o.childNodes),o=l.firstChild,o.textContent=""}else f.push(e.createTextNode(i));for(l.textContent="",h=0;i=f[h++];)if((!r||-1===Q.inArray(i,r))&&(u=Q.contains(i.ownerDocument,i),o=g(l.appendChild(i),"script"),u&&v(o),n))for(c=0;i=o[c++];)Ne.test(i.type||"")&&n.push(i);return l},cleanData:function(t){for(var e,n,r,i,o=Q.event.special,s=0;void 0!==(n=t[s]);s++){if(Q.acceptData(n)&&(i=n[ge.expando],i&&(e=ge.cache[i]))){if(e.events)for(r in e.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,e.handle);ge.cache[i]&&delete ge.cache[i]}delete ye.cache[n[ye.expando]]}}}),Q.fn.extend({text:function(t){return me(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?Q.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||Q.cleanData(g(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&v(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Be.test(t)&&!qe[(Ie.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(je,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=z.apply([],t);var n,r,i,o,s,a,u=0,c=this.length,l=this,f=c-1,h=t[0],v=Q.isFunction(h);if(v||c>1&&"string"==typeof h&&!J.checkClone&&De.test(h))return this.each(function(n){var r=l.eq(n);v&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)});if(c&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(g(n,"script"),p),o=i.length;c>u;u++)s=n,u!==f&&(s=Q.clone(s,!0,!0),o&&Q.merge(i,g(s,"script"))),e.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Q.map(i,d),u=0;o>u;u++)s=i[u],Ne.test(s.type||"")&&!ge.access(s,"globalEval")&&Q.contains(a,s)&&(s.src?Q._evalUrl&&Q._evalUrl(s.src):Q.globalEval(s.textContent.replace(Le,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,r=[],i=Q(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Q(i[s])[e](n),V.apply(r,n.get());return this.pushStack(r)}});var Me,Fe={},Pe=/^margin/,Ue=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),He=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(s,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=Z.documentElement,o=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Q.extend(J,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=s.appendChild(Z.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),e}}))}(),Q.swap=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i};var ze=/^(none|table(?!-c[ea]).+)/,Ve=new RegExp("^("+we+")(.*)$","i"),Ge=new RegExp("^([+-])=("+we+")","i"),We={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=Q.camelCase(e),u=t.style;return e=Q.cssProps[a]||(Q.cssProps[a]=x(u,a)),s=Q.cssHooks[e]||Q.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Ge.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[a]||(n+="px"),J.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,s,a=Q.camelCase(e);return e=Q.cssProps[a]||(Q.cssProps[a]=x(t.style,a)),s=Q.cssHooks[e]||Q.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=w(t,e,r)),"normal"===i&&e in Ke&&(i=Ke[e]),""===n||n?(o=parseFloat(i),n===!0||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,r){return n?ze.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,We,function(){return A(t,e,r)}):A(t,e,r):void 0},set:function(t,n,r){var i=r&&He(t);return E(t,n,r?S(t,e,r,"border-box"===Q.css(t,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=$(J.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+$e[r]+e]=o[r]||o[r-2]||o[0];return i}},Pe.test(t)||(Q.cssHooks[t+e].set=E)}),Q.fn.extend({css:function(t,e){return me(this,function(t,e,n){var r,i,o={},s=0;if(Q.isArray(e)){for(r=He(t),i=e.length;i>s;s++)o[e[s]]=Q.css(t,e[s],!1,r);return o}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){xe(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=k,k.prototype={constructor:k,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var t=k.propHooks[this.prop];return t&&t.get?t.get(this):k.propHooks._default.get(this)},run:function(t){var e,n=k.propHooks[this.prop];return this.pos=e=this.options.duration?Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=k.prototype.init,Q.fx.step={};var Je,Ze,Ye=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[O],nn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Qe.exec(e),o=i&&i[3]||(Q.cssNumber[t]?"":"px"),s=(Q.cssNumber[t]||"px"!==o&&+r)&&Qe.exec(Q.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Q.style(n.elem,t,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(D,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),Q.speed=function(t,e,n){var r=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(t,e,n,r){return this.filter(xe).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=Q.isEmptyObject(t),o=Q.speed(e,n,r),s=function(){var e=D(this,Q.extend({},t),o);(i||ge.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=Q.timers,s=ge.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&tn.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ge.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=Q.timers,s=r?r.length:0;for(n.finish=!0,Q.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(j(e,!0),t,r,i)}}),Q.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Je=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Je=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ze||(Ze=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ze),Ze=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=Z.createElement("input"),e=Z.createElement("select"),n=e.appendChild(Z.createElement("option"));t.type="checkbox",J.checkOn=""!==t.value,J.optSelected=n.selected,e.disabled=!0,J.optDisabled=!n.disabled,t=Z.createElement("input"),t.value="t",t.type="radio",J.radioValue="t"===t.value}();var rn,on,sn=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return me(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Se?Q.prop(t,e,n):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),r=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Q.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(pe);if(o&&1===t.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!J.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=sn[e]||Q.find.attr;sn[e]=function(t,e,r){var i,o;return r||(o=sn[e],sn[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,sn[e]=o),i}});var an=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return me(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!Q.isXMLDoc(t),o&&(e=Q.propFix[e]||e,i=Q.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||an.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),J.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,r,i,o,s,a="string"==typeof t&&t,u=0,c=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pe)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Q.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,r,i,o,s,a=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pe)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=t?Q.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Q.isFunction(t)?function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=Q(this),o=t.match(pe)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Se||"boolean"===n)&&(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(e)>=0)return!0;return!1}});var cn=/\r/g;Q.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=Q.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,Q(this).val()):t,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(cn,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=Q.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},J.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ln=Q.now(),fn=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var hn,pn,dn=/#.*$/,vn=/([?&])_=[^&]*/,mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,bn=/^\/\//,_n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wn={},$n={},xn="*/".concat("*");try{pn=location.href}catch(En){pn=Z.createElement("a"),pn.href="",pn=pn.href}hn=_n.exec(pn.toLowerCase())||[],Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pn,type:"GET",isLocal:gn.test(hn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?L(L(t,Q.ajaxSettings),e):L(Q.ajaxSettings,t)},ajaxPrefilter:N(wn),ajaxTransport:N($n),ajax:function(t,e){function n(t,e,n,s){var u,l,g,y,_,$=e;2!==b&&(b=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=q(f,w,n)),y=M(f,y,w,u),u?(f.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(Q.lastModified[i]=_),_=w.getResponseHeader("etag"),_&&(Q.etag[i]=_)),204===t||"HEAD"===f.type?$="nocontent":304===t?$="notmodified":($=y.state,l=y.data,g=y.error,u=!g)):(g=$,(t||!$)&&($="error",0>t&&(t=0))),w.status=t,w.statusText=(e||$)+"",u?d.resolveWith(h,[l,$,w]):d.rejectWith(h,[w,$,g]),w.statusCode(m),m=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?l:g]),v.fireWith(h,[w,$]),c&&(p.trigger("ajaxComplete",[w,f]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,a,u,c,l,f=Q.ajaxSetup({},e),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?Q(h):Q.event,d=Q.Deferred(),v=Q.Callbacks("once memory"),m=f.statusCode||{},g={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=mn.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,g[t]=e),this},overrideMimeType:function(t){return b||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return r&&r.abort(e),n(0,e),this}};if(d.promise(w).complete=v.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||pn)+"").replace(dn,"").replace(bn,hn[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=Q.trim(f.dataType||"*").toLowerCase().match(pe)||[""],null==f.crossDomain&&(u=_n.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===hn[1]&&u[2]===hn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(hn[3]||("http:"===hn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Q.param(f.data,f.traditional)),R(wn,f,e,w),2===b)return w;c=f.global,c&&0===Q.active++&&Q.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!yn.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(fn.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=vn.test(i)?i.replace(vn,"$1_="+ln++):i+(fn.test(i)?"&":"?")+"_="+ln++)),f.ifModified&&(Q.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&w.setRequestHeader("If-None-Match",Q.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+xn+"; q=0.01":""):f.accepts["*"]);for(l in f.headers)w.setRequestHeader(l,f.headers[l]);if(f.beforeSend&&(f.beforeSend.call(h,w,f)===!1||2===b))return w.abort();_="abort";for(l in{success:1,error:1,complete:1})w[l](f[l]);if(r=R($n,f,e,w)){w.readyState=1,c&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,r.send(g,n)}catch($){if(!(2>b))throw $;n(-1,$)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Q.isFunction(t)?function(e){Q(this).wrapInner(t.call(this,e))}:function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var Sn=/%20/g,An=/\[\]$/,Tn=/\r?\n/g,kn=/^(?:submit|button|image|reset|file)$/i,Cn=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,r=[],i=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){i(this.name,this.value)
});else for(n in t)F(n,t[n],e,i);return r.join("&").replace(Sn,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&Cn.test(this.nodeName)&&!kn.test(t)&&(this.checked||!Ee.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(Tn,"\r\n")}}):{name:e.name,value:n.replace(Tn,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var jn=0,In={},On={0:200,1223:204},Bn=Q.ajaxSettings.xhr();t.ActiveXObject&&Q(t).on("unload",function(){for(var t in In)In[t]()}),J.cors=!!Bn&&"withCredentials"in Bn,J.ajax=Bn=!!Bn,Q.ajaxTransport(function(t){var e;return J.cors||Bn&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),s=++jn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete In[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(On[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=In[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Dn=[],Nn=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Dn.pop()||Q.expando+"_"+ln++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=e.jsonp!==!1&&(Nn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nn.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Nn,"$1"+i):e.jsonp!==!1&&(e.url+=(fn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||Q.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Dn.push(i)),s&&Q.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Z;var r=se.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=Q.buildFragment([t],e,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Rn=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&Rn)return Rn.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>=0&&(r=Q.trim(t.slice(a)),t=t.slice(0,a)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&Q.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?Q("<div>").append(Q.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Ln=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=Q.css(t,"position"),f=Q(t),h={};"static"===l&&(t.style.position="relative"),a=f.offset(),o=Q.css(t,"top"),u=Q.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Q.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):f.css(h)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,Q.contains(e,r)?(typeof r.getBoundingClientRect!==Se&&(i=r.getBoundingClientRect()),n=P(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(r=t.offset()),r.top+=Q.css(t[0],"borderTopWidth",!0),r.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-Q.css(n,"marginTop",!0),left:e.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ln;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Ln})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;Q.fn[e]=function(i){return me(this,function(e,i,o){var s=P(e);return void 0===o?s?s[n]:e[i]:void(s?s.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=$(J.pixelPosition,function(t,n){return n?(n=w(t,e),Ue.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return me(this,function(e,n,r){var i;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?Q.css(e,n,s):Q.style(e,n,r,s)},e,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var qn=t.jQuery,Mn=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Mn),e&&t.jQuery===Q&&(t.jQuery=qn),Q},typeof e===Se&&(t.jQuery=t.$=Q),Q}),/**
 * @license AngularJS v1.3.0
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o="["+(t?t+":":"")+i+"] ",s=arguments[1],a=arguments,u=function(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?JSON.stringify(t):t};for(n=o+s.replace(/\{\d+\}/g,function(t){var e,n=+t.slice(1,-1);return n+2<a.length?(e=a[n+2],"function"==typeof e?e.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?U(e):e):t}),n=n+"\nhttp://errors.angularjs.org/1.3.0/"+(t?t+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(u(arguments[r]));return new e(n)}}function i(t){if(null==t||S(t))return!1;var e=t.length;return t.nodeType===oi&&e?!0:_(t)||Qr(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,s;if(t)if(x(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(Qr(t)||i(t)){var a="object"!=typeof t;for(r=0,s=t.length;s>r;r++)(a||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);return t}function s(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e.sort()}function a(t,e,n){for(var r=s(t),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function u(t){return function(e,n){t(n,e)}}function c(){return++Zr}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function f(t){for(var e=t.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),s=0,a=o.length;a>s;s++){var u=o[s];t[u]=i[u]}}return l(t,e),t}function h(t){return parseInt(t,10)}function p(t,e){return f(new(f(function(){},{prototype:t})),e)}function d(){}function v(t){return t}function m(t){return function(){return t}}function g(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function b(t){return null!==t&&"object"==typeof t}function _(t){return"string"==typeof t}function w(t){return"number"==typeof t}function $(t){return"[object Date]"===Kr.call(t)}function x(t){return"function"==typeof t}function E(t){return"[object RegExp]"===Kr.call(t)}function S(t){return t&&t.window===t}function A(t){return t&&t.$evalAsync&&t.$watch}function T(t){return"[object File]"===Kr.call(t)}function k(t){return"[object Blob]"===Kr.call(t)}function C(t){return"boolean"==typeof t}function j(t){return t&&x(t.then)}function I(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function O(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function B(t){return Rr(t.nodeName||t[0].nodeName)}function D(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function N(t,e,n,r){if(S(t)||A(t))throw Xr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw Xr("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],b(t)){var i=n.indexOf(t);if(-1!==i)return r[i];n.push(t),r.push(e)}var s;if(Qr(t)){e.length=0;for(var a=0;a<t.length;a++)s=N(t[a],null,n,r),b(t[a])&&(n.push(t[a]),r.push(s)),e.push(s)}else{var u=e.$$hashKey;Qr(e)?e.length=0:o(e,function(t,n){delete e[n]});for(var c in t)t.hasOwnProperty(c)&&(s=N(t[c],null,n,r),b(t[c])&&(n.push(t[c]),r.push(s)),e[c]=s);l(e,u)}}else if(e=t,t)if(Qr(t))e=N(t,[],n,r);else if($(t))e=new Date(t.getTime());else if(E(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(b(t)){var f=Object.create(Object.getPrototypeOf(t));e=N(t,f,n,r)}return e}function R(t,e){if(Qr(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(b(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function L(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,s=typeof t,a=typeof e;if(s==a&&"object"==s){if(!Qr(t)){if($(t))return $(e)?L(t.getTime(),e.getTime()):!1;if(E(t)&&E(e))return t.toString()==e.toString();if(A(t)||A(e)||S(t)||S(e)||Qr(e))return!1;o={};for(i in t)if("$"!==i.charAt(0)&&!x(t[i])){if(!L(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!x(e[i]))return!1;return!0}if(!Qr(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!L(t[i],e[i]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(Vr.call(e,n))}function M(t,e){return Vr.call(t,e||0)}function F(t,e){var n=arguments.length>2?M(arguments,2):[];return!x(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,n.concat(Vr.call(arguments,0))):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function P(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:S(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":A(r)&&(i="$SCOPE"),i}function U(t,e){return"undefined"==typeof t?n:JSON.stringify(t,P,e?"  ":null)}function H(t){return _(t)?JSON.parse(t):t}function z(t){t=Ur(t).clone();try{t.empty()}catch(e){}var n=Ur("<div>").append(t).html();try{return t[0].nodeType===si?Rr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Rr(e)})}catch(e){return Rr(n)}}function V(t){try{return decodeURIComponent(t)}catch(e){}}function G(t){var e,n,r={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=V(e[0]),y(n))){var i=y(e[1])?V(e[1]):!0;Lr.call(r,n)?Qr(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function W(t){var e=[];return o(t,function(t,n){Qr(t)?o(t,function(t){e.push(X(n,!0)+(t===!0?"":"="+X(t,!0)))}):e.push(X(n,!0)+(t===!0?"":"="+X(t,!0)))}),e.length?e.join("&"):""}function K(t){return X(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function J(t,e){var n,r,i=ni.length;for(t=Ur(t),r=0;i>r;++r)if(n=ni[r]+e,_(n=t.attr(n)))return n;return null}function Z(t,e){var n,r,i={};o(ni,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(ni,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==J(n,"strict-di"),e(n,r?[r]:[],i))}function Y(n,r,i){b(i)||(i={});var s={strictDi:!1};i=f(s,i);var a=function(){if(n=Ur(n),n.injector()){var t=n[0]===e?"document":z(n);throw Xr("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Fe(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!c.test(t.name)?a():(t.name=t.name.replace(c,""),void(Jr.resumeBootstrap=function(t){o(t,function(t){r.push(t)}),a()}))}function Q(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function te(t){return Jr.element(t).injector().get("$$testability")}function ee(t,e){return e=e||"_",t.replace(ri,function(t,n){return(n?e:"")+t.toLowerCase()})}function ne(){var e;ii||(Hr=t.jQuery,Hr&&Hr.fn.on?(Ur=Hr,f(Hr.fn,{scope:Ei.scope,isolateScope:Ei.isolateScope,controller:Ei.controller,injector:Ei.injector,inheritedData:Ei.inheritedData}),e=Hr.cleanData,Hr.cleanData=function(t){var n;if(Yr)Yr=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=Hr._data(r,"events"),n&&n.$destroy&&Hr(r).triggerHandler("$destroy");e(t)}):Ur=ge,Jr.element=Ur,ii=!0)}function re(t,e,n){if(!t)throw Xr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ie(t,e,n){return n&&Qr(t)&&(t=t[t.length-1]),re(x(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function oe(t,e){if("hasOwnProperty"===t)throw Xr("badname","hasOwnProperty is not a valid {0} name",e)}function se(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,s=i.length,a=0;s>a;a++)r=i[a],t&&(t=(o=t)[r]);return!n&&x(t)?F(o,t):t}function ae(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return Ur(r)}function ue(){return Object.create(null)}function ce(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,s){var a=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return a(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],a=[],u=t("$injector","invoke","push",i),c={_invokeQueue:e,_configBlocks:i,_runBlocks:a,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(t){return a.push(t),this}};return s&&u(s),c})}})}function le(e){f(e,{bootstrap:Y,copy:N,extend:f,equals:L,element:Ur,forEach:o,injector:Fe,noop:d,bind:F,toJson:U,fromJson:H,identity:v,isUndefined:g,isDefined:y,isString:_,isFunction:x,isObject:b,isNumber:w,isElement:I,isArray:Qr,version:li,isDate:$,lowercase:Rr,uppercase:qr,callbacks:{counter:0},getTestability:te,$$minErr:r,$$csp:ei,reloadWithDebugInfo:Q}),zr=ce(t);try{zr("ngLocale")}catch(n){zr("ngLocale",[]).provider("$locale",fn)}zr("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Mn}),t.provider("$compile",We).directive({a:uo,input:ko,textarea:ko,form:po,script:bs,select:$s,style:Es,option:xs,ngBind:Wo,ngBindHtml:Xo,ngBindTemplate:Ko,ngClass:Jo,ngClassEven:Yo,ngClassOdd:Zo,ngCloak:Qo,ngController:ts,ngForm:vo,ngHide:ps,ngIf:rs,ngInclude:is,ngInit:ss,ngNonBindable:as,ngPluralize:us,ngRepeat:cs,ngShow:hs,ngStyle:ds,ngSwitch:vs,ngSwitchWhen:ms,ngSwitchDefault:gs,ngOptions:ws,ngTransclude:ys,ngModel:Lo,ngList:Ho,ngChange:qo,pattern:Fo,ngPattern:Fo,required:Mo,ngRequired:Mo,minlength:Uo,ngMinlength:Uo,maxlength:Po,ngMaxlength:Po,ngValue:Vo,ngModelOptions:Go}).directive({ngInclude:os}).directive(co).directive(es),t.provider({$anchorScroll:Pe,$animate:Di,$browser:ze,$cacheFactory:Ve,$controller:Ze,$document:Ye,$exceptionHandler:Qe,$filter:Yn,$interpolate:cn,$interval:ln,$http:on,$httpBackend:an,$location:En,$log:Sn,$parse:Bn,$rootScope:qn,$q:Dn,$$q:Nn,$sce:zn,$sceDelegate:Hn,$sniffer:Vn,$templateCache:Ge,$templateRequest:Gn,$$testability:Wn,$timeout:Kn,$window:Zn,$$rAF:Ln,$$asyncCallback:Ue})}])}function fe(){return++hi}function he(t){return t.replace(vi,function(t,e,n,r){return r?n.toUpperCase():n}).replace(mi,"Moz$1")}function pe(t){return!_i.test(t)}function de(t){var e=t.nodeType;return e===oi||!e||e===ui}function ve(t,e){var n,r,i,s,a=e.createDocumentFragment(),u=[];if(pe(t))u.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),r=(wi.exec(t)||["",""])[1].toLowerCase(),i=xi[r]||xi._default,n.innerHTML=i[1]+t.replace($i,"<$1></$2>")+i[2],s=i[0];s--;)n=n.lastChild;u=q(u,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",o(u,function(t){a.appendChild(t)}),a}function me(t,n){n=n||e;var r;return(r=bi.exec(t))?[n.createElement(r[1])]:(r=ve(t,n))?r.childNodes:[]}function ge(t){if(t instanceof ge)return t;var e;if(_(t)&&(t=ti(t),e=!0),!(this instanceof ge)){if(e&&"<"!=t.charAt(0))throw yi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ge(t)}e?Te(this,me(t)):Te(this,t)}function ye(t){return t.cloneNode(!0)}function be(t,e){if(e||we(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)we(n[r])}function _e(t,e,n,r){if(y(r))throw yi("offargs","jqLite#off() does not support the `selector` argument");var i=$e(t),s=i&&i.events,a=i&&i.handle;if(a)if(e)o(e.split(" "),function(e){if(y(n)){var r=s[e];if(D(r||[],n),r&&r.length>0)return}di(t,e,a),delete s[e]});else for(e in s)"$destroy"!==e&&di(t,e,a),delete s[e]}function we(t,e){var r=t.ng339,i=r&&fi[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),_e(t)),delete fi[r],t.ng339=n}}function $e(t,e){var r=t.ng339,i=r&&fi[r];return e&&!i&&(t.ng339=r=fe(),i=fi[r]={events:{},data:{},handle:n}),i}function xe(t,e,n){if(de(t)){var r=y(n),i=!r&&e&&!b(e),o=!e,s=$e(t,!i),a=s&&s.data;if(r)a[e]=n;else{if(o)return a;if(i)return a&&a[e];f(a,e)}}}function Ee(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Se(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",ti((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ti(e)+" "," ")))})}function Ae(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=ti(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",ti(n))}}function Te(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function ke(t,e){return Ce(t,"$"+(e||"ngController")+"Controller")}function Ce(t,e,r){t.nodeType==ui&&(t=t.documentElement);for(var i=Qr(e)?e:[e];t;){for(var o=0,s=i.length;s>o;o++)if((r=Ur.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===ci&&t.host}}function je(t){for(be(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ie(t,e){e||be(t);var n=t.parentNode;n&&n.removeChild(t)}function Oe(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Ur(n).on("load",e)}function Be(t,e){var n=Si[e.toLowerCase()];return n&&Ai[B(t)]&&n}function De(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Ti[e]}function Ne(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(g(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=R(i));for(var a=0;o>a;a++)n.isImmediatePropagationStopped()||i[a].call(t,n)}};return n.elem=t,n}function Re(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||c)():r+":"+t}function Le(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function qe(t){var e=t.toString().replace(Ii,""),n=e.match(ki);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Me(t,e,n){var r,i,s,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw _(n)&&n||(n=t.name||qe(t)),Oi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(Ii,""),s=i.match(ki),o(s[1].split(Ci),function(t){t.replace(ji,function(t,e,n){r.push(n)})})}t.$inject=r}}else Qr(t)?(a=t.length-1,ie(t[a],"fn"),r=t.slice(0,a)):ie(t,"fn",!0);return r}function Fe(t,e){function r(t){return function(e,n){return b(e)?void o(e,u(t)):t(e,n)}}function i(t,e){if(oe(t,"service"),(x(e)||Qr(e))&&(e=A.instantiate(e)),!e.$get)throw Oi("pget","Provider '{0}' must define $get factory method.",t);return S[t+w]=e}function s(t,e){return function(){var r=k.invoke(e,this,n,t);if(g(r))throw Oi("undef","Provider '{0}' must return a value from $get factory method.",t);return r}}function a(t,e,n){return i(t,{$get:n!==!1?s(t,e):e})}function c(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return a(t,m(e),!1)}function f(t,e){oe(t,"constant"),S[t]=e,T[t]=e}function h(t,e){var n=A.get(t+w),r=n.$get;n.$get=function(){var t=k.invoke(r,n);return k.invoke(e,null,{$delegate:t})}}function p(t){var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=A.get(r[0]);i[r[1]].apply(i,r[2])}}if(!E.get(t)){E.put(t,!0);try{_(t)?(e=zr(t),n=n.concat(p(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):x(t)?n.push(A.invoke(t)):Qr(t)?n.push(A.invoke(t)):ie(t,"module")}catch(i){throw Qr(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Oi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function v(t,n){function r(e){if(t.hasOwnProperty(e)){if(t[e]===y)throw Oi("cdep","Circular dependency found: {0}",e+" <- "+$.join(" <- "));return t[e]}try{return $.unshift(e),t[e]=y,t[e]=n(e)}catch(r){throw t[e]===y&&delete t[e],r}finally{$.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var s,a,u,c=[],l=Me(t,e,o);for(a=0,s=l.length;s>a;a++){if(u=l[a],"string"!=typeof u)throw Oi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);c.push(i&&i.hasOwnProperty(u)?i[u]:r(u))}return Qr(t)&&(t=t[s]),t.apply(n,c)}function o(t,e,n){var r,o,s=function(){};return s.prototype=(Qr(t)?t[t.length-1]:t).prototype,r=new s,o=i(t,r,e,n),b(o)||x(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Me,has:function(e){return S.hasOwnProperty(e+w)||t.hasOwnProperty(e)}}}e=e===!0;var y={},w="Provider",$=[],E=new Le([],!0),S={$provide:{provider:r(i),factory:r(a),service:r(c),value:r(l),constant:r(f),decorator:h}},A=S.$injector=v(S,function(){throw Oi("unpr","Unknown provider: {0}",$.join(" <- "))}),T={},k=T.$injector=v(T,function(t){var e=A.get(t+w);return k.invoke(e.$get,e,n,t)});return o(p(t),function(t){k.invoke(t||d)}),k}function Pe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===B(t)?(e=t,!0):void 0}),e}function o(){var t=a.yOffset;if(x(t))t=t();else if(I(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else w(t)||(t=0);return t}function s(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function a(){var t,e=n.hash();e?(t=u.getElementById(e))?s(t):(t=i(u.getElementsByName(e)))?s(t):"top"===e&&s(null):s(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Oe(function(){r.$evalAsync(a)})}),a}]}function Ue(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function He(t,e,r,i){function s(t){try{t.apply(null,M(arguments,1))}finally{if($--,0===$)for(;x.length;)try{x.pop()()}catch(e){r.error(e)}}}function a(t,e){!function n(){o(S,function(t){t()}),E=e(n,t)}()}function u(){c(),l()}function c(){A=t.history.state,A=g(A)?null:A,L(A,B)&&(A=B),B=A}function l(){(k!==h.url()||T!==A)&&(k=h.url(),T=A,o(I,function(t){t(h.url(),A)}))}function f(t){try{return decodeURIComponent(t)}catch(e){return t}}var h=this,p=e[0],v=t.location,m=t.history,y=t.setTimeout,b=t.clearTimeout,w={};h.isMock=!1;var $=0,x=[];h.$$completeOutstandingRequest=s,h.$$incOutstandingRequestCount=function(){$++},h.notifyWhenNoOutstandingRequests=function(t){o(S,function(t){t()}),0===$?t():x.push(t)};var E,S=[];h.addPollFn=function(t){return g(E)&&a(100,y),S.push(t),t};var A,T,k=v.href,C=e.find("base"),j=null;c(),T=A,h.url=function(e,n,r){if(g(r)&&(r=null),v!==t.location&&(v=t.location),m!==t.history&&(m=t.history),e){var o=T===r;if(k===e&&(!i.history||o))return;var s=k&&mn(k)===mn(e);return k=e,T=r,!i.history||s&&o?(s||(j=e),n?v.replace(e):v.href=e):(m[n?"replaceState":"pushState"](r,"",e),c(),T=A),h}return j||v.href.replace(/%27/g,"'")},h.state=function(){return A};var I=[],O=!1,B=null;h.onUrlChange=function(e){return O||(i.history&&Ur(t).on("popstate",u),Ur(t).on("hashchange",u),O=!0),I.push(e),e},h.$$checkUrlChange=l,h.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var D={},N="",R=h.baseHref();h.cookies=function(t,e){var i,o,s,a,u;if(!t){if(p.cookie!==N)for(N=p.cookie,o=N.split("; "),D={},a=0;a<o.length;a++)s=o[a],u=s.indexOf("="),u>0&&(t=f(s.substring(0,u)),D[t]===n&&(D[t]=f(s.substring(u+1))));return D}e===n?p.cookie=encodeURIComponent(t)+"=;path="+R+";expires=Thu, 01 Jan 1970 00:00:00 GMT":_(e)&&(i=(p.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+R).length+1,i>4096&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},h.defer=function(t,e){var n;return $++,n=y(function(){delete w[n],s(t)},e||0),w[n]=!0,n},h.defer.cancel=function(t){return w[t]?(delete w[t],b(t),s(d),!0):!1}}function ze(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new He(t,r,e,n)}]}function Ve(){this.$get=function(){function t(t,n){function i(t){t!=h&&(p?p==t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=f({},n,{id:t}),u={},c=n&&n.capacity||Number.MAX_VALUE,l={},h=null,p=null;return e[t]={put:function(t,e){if(c<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});i(n)}if(!g(e))return t in u||s++,u[t]=e,s>c&&this.remove(p.key),e},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e==h&&(h=e.p),e==p&&(p=e.n),o(e.n,e.p),delete l[t]}delete u[t],s--},removeAll:function(){u={},s=0,l={},h=p=null},destroy:function(){u=null,a=null,l=null,delete e[t]},info:function(){return f({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ge(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function We(t,r){function i(t,e){var n=/^\s*([@=&])(\??)\s*(\w*)\s*$/,r={};return o(t,function(t,i){var o=t.match(n);if(!o)throw Ni("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t);r[i]={attrName:o[3]||i,mode:o[1],optional:"?"===o[2]}}),r}var s={},a="Directive",c=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,l=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,h=O("ngSrc,ngSrcset,src,srcset"),g=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function E(e,n){return oe(e,"directive"),_(e)?(re(n,"directiveFactory"),s.hasOwnProperty(e)||(s[e]=[],t.factory(e+a,["$injector","$exceptionHandler",function(t,n){var r=[];return o(s[e],function(o,s){try{var a=t.invoke(o);x(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",b(a.scope)&&(a.$$isolateBindings=i(a.scope,a.name)),r.push(a)}catch(u){n(u)}}),r}])),s[e].push(n)):o(e,u(E)),this},this.aHrefSanitizationWhitelist=function(t){return y(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var $=!0;this.debugInfoEnabled=function(t){return y(t)?($=t,this):$},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,u,m,y,E,S,T,k,C){function j(t,e){try{t.addClass(e)}catch(n){}}function I(t,e,n,r,i){t instanceof Ur||(t=Ur(t)),o(t,function(e,n){e.nodeType==si&&e.nodeValue.match(/\S+/)&&(t[n]=Ur(e).wrap("<span></span>").parent()[0])});var s=N(t,e,t,n,r,i);I.$$addScopeClass(t);var a=null;return function(e,n,r,i,o){re(e,"scope"),a||(a=O(o));var u;if(u="html"!==a?Ur(Y(a,Ur("<div>").append(t).html())):n?Ei.clone.call(t):t,r)for(var c in r)u.data("$"+c+"Controller",r[c].instance);return I.$$addScopeInfo(u,e),n&&n(u,e),s&&s(e,u,u,i),u}}function O(t){var e=t&&t[0];return e&&"foreignobject"!==B(e)&&e.toString().match(/SVG/)?"svg":"html"}function N(t,e,r,i,o,s){function a(t,r,i,o){var s,a,u,c,l,f,h,p,m;if(d){var g=r.length;for(m=new Array(g),l=0;l<v.length;l+=3)h=v[l],m[h]=r[h]}else m=r;for(l=0,f=v.length;f>l;)u=m[v[l++]],s=v[l++],a=v[l++],s?(s.scope?(c=t.$new(),I.$$addScopeInfo(Ur(u),c)):c=t,p=s.transcludeOnThisElement?R(t,s.transclude,o,s.elementTranscludeOnThisElement):!s.templateOnThisElement&&o?o:!o&&e?R(t,e):null,s(a,c,u,i,p)):a&&a(t,u.childNodes,n,o)}for(var u,c,l,f,h,p,d,v=[],m=0;m<t.length;m++)u=new se,c=q(t[m],[],u,0===m?i:n,o),l=c.length?U(c,t[m],u,e,r,null,[],[],s):null,l&&l.scope&&I.$$addScopeClass(u.$$element),h=l&&l.terminal||!(f=t[m].childNodes)||!f.length?null:N(f,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||h)&&(v.push(m,l,h),p=!0,d=d||l),s=null;return p?a:null}function R(t,e,n){var r=function(r,i,o,s,a){return r||(r=t.$new(!1,a),r.$$transcluded=!0),e(r,i,o,n,s)};return r}function q(t,e,n,r,i){var o,s,a=t.nodeType,u=n.$attr;switch(a){case oi:V(e,Ke(B(t)),"E",r,i);for(var f,h,p,d,v,m,g=t.attributes,y=0,b=g&&g.length;b>y;y++){var w=!1,$=!1;f=g[y],h=f.name,v=ti(f.value),d=Ke(h),(m=fe.test(d))&&(h=ee(d.substr(6),"-"));var x=d.replace(/(Start|End)$/,"");G(x)&&d===x+"Start"&&(w=h,$=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),p=Ke(h.toLowerCase()),u[p]=h,(m||!n.hasOwnProperty(p))&&(n[p]=v,Be(t,p)&&(n[p]=!0)),te(t,e,v,p,m),V(e,p,"A",r,i,w,$)}if(s=t.className,_(s)&&""!==s)for(;o=l.exec(s);)p=Ke(o[2]),V(e,p,"C",r,i)&&(n[p]=ti(o[3])),s=s.substr(o.index+o[0].length);break;case si:Z(e,t.nodeValue);break;case ai:try{o=c.exec(t.nodeValue),o&&(p=Ke(o[1]),V(e,p,"M",r,i)&&(n[p]=ti(o[2])))}catch(E){}}return e.sort(X),e}function F(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Ni("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==oi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Ur(r)}function P(t,e,n){return function(r,i,o,s,a){return i=F(i[0],e,n),t(r,i,o,s,a)}}function U(t,s,a,u,c,l,f,h,p){function d(t,e,n,r){t&&(n&&(t=P(t,n,r)),t.require=S.require,t.directiveName=T,(D===S||S.$$isolateScope)&&(t=ie(t,{isolateScope:!0})),f.push(t)),e&&(n&&(e=P(e,n,r)),e.require=S.require,e.directiveName=T,(D===S||S.$$isolateScope)&&(e=ie(e,{isolateScope:!0})),h.push(e))}function v(t,e,n,r){var i,s,a="data",u=!1,c=n;if(_(e)){if(s=e.match(g),e=e.substring(s[0].length),s[3]&&(s[1]?s[3]=null:s[1]=s[3]),"^"===s[1]?a="inheritedData":"^^"===s[1]&&(a="inheritedData",c=n.parent()),"?"===s[2]&&(u=!0),i=null,r&&"data"===a&&(i=r[e])&&(i=i.instance),i=i||c[a]("$"+e+"Controller"),!i&&!u)throw Ni("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return i}return Qr(e)&&(i=[],o(e,function(e){i.push(v(t,e,n,r))})),i}function w(t,e,i,u,c){function l(t,e,r){var i;return A(t)||(r=e,e=t,t=n),G&&(i=w),r||(r=G?x.parent():x),c(t,e,i,r,C)}var p,d,g,b,_,w,$,x,S;if(s===i?(S=a,x=a.$$element):(x=Ur(i),S=new se(x,a)),D&&(_=e.$new(!0)),$=c&&l,B&&(E={},w={},o(B,function(t){var n,r={$scope:t===D||t.$$isolateScope?_:e,$element:x,$attrs:S,$transclude:$};b=t.controller,"@"==b&&(b=S[t.name]),n=y(b,r,!0,t.controllerAs),w[t.name]=n,G||x.data("$"+t.name+"Controller",n.instance),E[t.name]=n})),D){I.$$addScopeInfo(x,_,!0,!(N&&(N===D||N===D.$$originalDirective))),I.$$addScopeClass(x,!0);var T=E&&E[D.name],k=_;T&&T.identifier&&D.bindToController===!0&&(k=T.instance),o(_.$$isolateBindings=D.$$isolateBindings,function(t,n){var i,o,s,a,u=t.attrName,c=t.optional,l=t.mode;switch(l){case"@":S.$observe(u,function(t){k[n]=t}),S.$$observers[u].$$scope=e,S[u]&&(k[n]=r(S[u])(e));break;case"=":if(c&&!S[u])return;o=m(S[u]),a=o.literal?L:function(t,e){return t===e||t!==t&&e!==e},s=o.assign||function(){throw i=k[n]=o(e),Ni("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",S[u],D.name)},i=k[n]=o(e);var f=function(t){return a(t,k[n])||(a(t,i)?s(e,t=k[n]):k[n]=t),i=t};f.$stateful=!0;var h=e.$watch(m(S[u],f),null,o.literal);_.$on("$destroy",h);break;case"&":o=m(S[u]),k[n]=function(t){return o(e,t)}}})}for(E&&(o(E,function(t){t()}),E=null),p=0,d=f.length;d>p;p++)g=f[p],oe(g,g.isolateScope?_:e,x,S,g.require&&v(g.directiveName,g.require,x,w),$);var C=e;for(D&&(D.template||null===D.templateUrl)&&(C=_),t&&t(C,i.childNodes,n,c),p=h.length-1;p>=0;p--)g=h[p],oe(g,g.isolateScope?_:e,x,S,g.require&&v(g.directiveName,g.require,x,w),$)}p=p||{};for(var $,E,S,T,k,C,j,O=-Number.MAX_VALUE,B=p.controllerDirectives,D=p.newIsolateScopeDirective,N=p.templateDirective,R=p.nonTlbTranscludeDirective,U=!1,V=!1,G=p.hasElementTranscludeDirective,X=a.$$element=Ur(s),Z=l,Q=u,te=0,ee=t.length;ee>te;te++){S=t[te];var re=S.$$start,ae=S.$$end;if(re&&(X=F(s,re,ae)),k=n,O>S.priority)break;if((j=S.scope)&&(S.templateUrl||(b(j)?(J("new/isolated scope",D||$,S,X),D=S):J("new/isolated scope",D,S,X)),$=$||S),T=S.name,!S.templateUrl&&S.controller&&(j=S.controller,B=B||{},J("'"+T+"' controller",B[T],S,X),B[T]=S),(j=S.transclude)&&(U=!0,S.$$tlb||(J("transclusion",R,S,X),R=S),"element"==j?(G=!0,O=S.priority,k=X,X=a.$$element=Ur(e.createComment(" "+T+": "+a[T]+" ")),s=X[0],ne(c,M(k),s),Q=I(k,u,O,Z&&Z.name,{nonTlbTranscludeDirective:R})):(k=Ur(ye(s)).contents(),X.empty(),Q=I(k,u))),S.template)if(V=!0,J("template",N,S,X),N=S,j=x(S.template)?S.template(X,a):S.template,j=le(j),S.replace){if(Z=S,k=pe(j)?[]:Je(Y(S.templateNamespace,ti(j))),s=k[0],1!=k.length||s.nodeType!==oi)throw Ni("tplrt","Template for directive '{0}' must have exactly one root element. {1}",T,"");ne(c,X,s);var ue={$attr:{}},ce=q(s,[],ue),fe=t.splice(te+1,t.length-(te+1));D&&H(ce),t=t.concat(ce).concat(fe),W(a,ue),ee=t.length}else X.html(j);if(S.templateUrl)V=!0,J("template",N,S,X),N=S,S.replace&&(Z=S),w=K(t.splice(te,t.length-te),X,a,c,U&&Q,f,h,{controllerDirectives:B,newIsolateScopeDirective:D,templateDirective:N,nonTlbTranscludeDirective:R}),ee=t.length;else if(S.compile)try{C=S.compile(X,a,Q),x(C)?d(null,C,re,ae):C&&d(C.pre,C.post,re,ae)}catch(he){i(he,z(X))}S.terminal&&(w.terminal=!0,O=Math.max(O,S.priority))}return w.scope=$&&$.scope===!0,w.transcludeOnThisElement=U,w.elementTranscludeOnThisElement=G,w.templateOnThisElement=V,w.transclude=Q,p.hasElementTranscludeDirective=G,w}function H(t){for(var e=0,n=t.length;n>e;e++)t[e]=p(t[e],{$$isolateScope:!0})}function V(e,r,o,u,c,l,f){if(r===c)return null;var h=null;if(s.hasOwnProperty(r))for(var d,v=t.get(r+a),m=0,g=v.length;g>m;m++)try{d=v[m],(u===n||u>d.priority)&&-1!=d.restrict.indexOf(o)&&(l&&(d=p(d,{$$start:l,$$end:f})),e.push(d),h=d)}catch(y){i(y)}return h}function G(e){if(s.hasOwnProperty(e))for(var n,r=t.get(e+a),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function W(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(j(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function K(t,e,n,r,i,s,a,c){var l,h,p=[],d=e[0],v=t.shift(),m=f({},v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=x(v.templateUrl)?v.templateUrl(e,n):v.templateUrl,y=v.templateNamespace;return e.empty(),u(T.getTrustedResourceUrl(g)).then(function(u){var f,_,w,$;if(u=le(u),v.replace){if(w=pe(u)?[]:Je(Y(y,ti(u))),f=w[0],1!=w.length||f.nodeType!==oi)throw Ni("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,g);
_={$attr:{}},ne(r,e,f);var x=q(f,[],_);b(v.scope)&&H(x),t=x.concat(t),W(n,_)}else f=d,e.html(u);for(t.unshift(m),l=U(t,f,n,i,e,v,s,a,c),o(r,function(t,n){t==f&&(r[n]=e[0])}),h=N(e[0].childNodes,i);p.length;){var E=p.shift(),S=p.shift(),A=p.shift(),T=p.shift(),k=e[0];if(!E.$$destroyed){if(S!==d){var C=S.className;c.hasElementTranscludeDirective&&v.replace||(k=ye(f)),ne(A,Ur(S),k),j(Ur(k),C)}$=l.transcludeOnThisElement?R(E,l.transclude,T):T,l(h,E,k,r,$)}}p=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(p?(p.push(e),p.push(n),p.push(r),p.push(o)):(l.transcludeOnThisElement&&(o=R(e,l.transclude,i)),l(h,e,n,r,o)))}}function X(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function J(t,e,n,r){if(e)throw Ni("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,z(r))}function Z(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&I.$$addBindingClass(e),function(t,e){var i=e.parent();r||I.$$addBindingClass(i),I.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function Y(t,n){switch(t=Rr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return T.HTML;var n=B(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?T.RESOURCE_URL:void 0}function te(t,e,n,i,o){var s=r(n,!0);if(s){if("multiple"===i&&"select"===B(t))throw Ni("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",z(t));e.push({priority:100,compile:function(){return{pre:function(e,n,a){var u=a.$$observers||(a.$$observers={});if(w.test(i))throw Ni("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");a[i]&&(s=r(a[i],!0,Q(t,i),h[i]||o),s&&(a[i]=s(e),(u[i]||(u[i]=[])).$$inter=!0,(a.$$observers&&a.$$observers[i].$$scope||e).$watch(s,function(t,e){"class"===i&&t!=e?a.$updateClass(t,e):a.$set(i,t)})))}}}})}}function ne(t,n,r){var i,o,s=n[0],a=n.length,u=s.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==s){t[i++]=r;for(var c=i,l=c+a-1,f=t.length;f>c;c++,l++)f>l?t[c]=t[l]:delete t[c];t.length-=a-1,t.context===s&&(t.context=r);break}u&&u.replaceChild(r,s);var h=e.createDocumentFragment();h.appendChild(s),Ur(r).data(Ur(s).data()),Hr?(Yr=!0,Hr.cleanData([s])):delete Ur.cache[s[Ur.expando]];for(var p=1,d=n.length;d>p;p++){var v=n[p];Ur(v).remove(),h.appendChild(v),delete n[p]}n[0]=r,n.length=1}function ie(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function oe(t,e,n,r,o,s){try{t(e,n,r,o,s)}catch(a){i(a,z(n))}}var se=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};se.prototype={$normalize:Ke,$addClass:function(t){t&&t.length>0&&k.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&k.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Xe(t,e);n&&n.length&&k.addClass(this.$$element,n);var r=Xe(e,t);r&&r.length&&k.removeClass(this.$$element,r)},$set:function(t,e,r,s){var a,u=this.$$element[0],c=Be(u,t),l=De(u,t),f=t;if(c?(this.$$element.prop(t,e),s=c):l&&(this[l]=e,f=l),this[t]=e,s?this.$attr[t]=s:(s=this.$attr[t],s||(this.$attr[t]=s=ee(t,"-"))),a=B(this.$$element),"a"===a&&"href"===t||"img"===a&&"src"===t)this[t]=e=C(e,"src"===t);else if("img"===a&&"srcset"===t){for(var h="",p=ti(e),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,v=/\s/.test(p)?d:/(,)/,m=p.split(v),g=Math.floor(m.length/2),y=0;g>y;y++){var b=2*y;h+=C(ti(m[b]),!0),h+=" "+ti(m[b+1])}var _=ti(m[2*y]).split(/\s/);h+=C(ti(_[0]),!0),2===_.length&&(h+=" "+ti(_[1])),this[t]=e=h}r!==!1&&(null===e||e===n?this.$$element.removeAttr(s):this.$$element.attr(s,e));var w=this.$$observers;w&&o(w[f],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=ue()),i=r[t]||(r[t]=[]);return i.push(e),E.$evalAsync(function(){i.$$inter||e(n[t])}),function(){D(i,e)}}};var ae=r.startSymbol(),ce=r.endSymbol(),le="{{"==ae||"}}"==ce?v:function(t){return t.replace(/\{\{/g,ae).replace(/}}/g,ce)},fe=/^ngAttr[A-Z]/;return I.$$addBindingInfo=$?function(t,e){var n=t.data("$binding")||[];Qr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:d,I.$$addBindingClass=$?function(t){j(t,"ng-binding")}:d,I.$$addScopeInfo=$?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:d,I.$$addScopeClass=$?function(t,e){j(t,e?"ng-isolate-scope":"ng-scope")}:d,I}]}function Ke(t){return he(t.replace(Ri,""))}function Xe(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue t;n+=(n.length>0?" ":"")+s}return n}function Je(t){t=Ur(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===ai&&Gr.call(t,e,1)}return t}function Ze(){var t={},e=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){oe(e,"controller"),b(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,s){function a(t,e,n,i){if(!t||!b(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,u,c,l){var h,p,d,v;if(c=c===!0,l&&_(l)&&(v=l),_(r)&&(p=r.match(i),d=p[1],v=v||p[3],r=t.hasOwnProperty(d)?t[d]:se(u.$scope,d,!0)||(e?se(s,d,!0):n),ie(r,d,!0)),c){var m=function(){};return m.prototype=(Qr(r)?r[r.length-1]:r).prototype,h=new m,v&&a(u,v,h,d||r.name),f(function(){return o.invoke(r,h,u,d),h},{instance:h,identifier:v})}return h=o.instantiate(r,u,d),v&&a(u,v,h,d||r.name),h}}]}function Ye(){this.$get=["$window",function(t){return Ur(t.document)}]}function Qe(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function tn(t){var e,n,r,i={};return t?(o(t.split("\n"),function(t){r=t.indexOf(":"),e=Rr(ti(t.substr(0,r))),n=ti(t.substr(r+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}function en(t){var e=b(t)?t:n;return function(n){return e||(e=tn(t)),n?e[Rr(n)]||null:e}}function nn(t,e,n){return x(n)?n(t,e):(o(n,function(n){t=n(t,e)}),t)}function rn(t){return t>=200&&300>t}function on(){var t=/^\s*(\[|\{[^\{])/,e=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i="application/json",s={"Content-Type":i+";charset=utf-8"},u=this.defaults={transformResponse:[function(n,o){if(_(n)){n=n.replace(r,"");var s=o("Content-Type");(s&&0===s.indexOf(i)||t.test(n)&&e.test(n))&&(n=H(n))}return n}],transformRequest:[function(t){return!b(t)||T(t)||k(t)?t:U(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(s),put:R(s),patch:R(s)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},c=!1;this.useApplyAsync=function(t){return y(t)?(c=!!t,this):c};var l=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(t,e,r,i,s,h){function p(t){function e(t){var e=f({},t);return e.data=t.data?nn(t.data,t.headers,i.transformResponse):t.data,rn(t.status)?e:s.reject(e)}function r(t){function e(t){var e;o(t,function(n,r){x(n)&&(e=n(),null!=e?t[r]=e:delete t[r])})}var n,r,i,s=u.headers,a=f({},t.headers);s=f({},s.common,s[Rr(t.method)]);t:for(n in s){r=Rr(n);for(i in a)if(Rr(i)===r)continue t;a[n]=s[n]}return e(a),a}var i={method:"get",transformRequest:u.transformRequest,transformResponse:u.transformResponse},a=r(t);f(i,t),i.headers=a,i.method=qr(i.method);var c=function(t){a=t.headers;var n=nn(t.data,en(a),t.transformRequest);return g(n)&&o(a,function(t,e){"content-type"===Rr(e)&&delete a[e]}),g(t.withCredentials)&&!g(u.withCredentials)&&(t.withCredentials=u.withCredentials),m(t,n,a).then(e,e)},l=[c,n],h=s.when(i);for(o(S,function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&l.push(t.response,t.responseError)});l.length;){var p=l.shift(),d=l.shift();h=h.then(p,d)}return h.success=function(t){return h.then(function(e){t(e.data,e.status,e.headers,i)}),h},h.error=function(t){return h.then(null,function(e){t(e.data,e.status,e.headers,i)}),h},h}function d(){o(arguments,function(t){p[t]=function(e,n){return p(f(n||{},{method:t,url:e}))}})}function v(){o(arguments,function(t){p[t]=function(e,n,r){return p(f(r||{},{method:t,url:e,data:n}))}})}function m(r,o,a){function l(t,e,n,r){function o(){f(e,t,n,r)}d&&(rn(t)?d.put($,[t,e,tn(n),r]):d.remove($)),c?i.$applyAsync(o):(o(),i.$$phase||i.$apply())}function f(t,e,n,i){e=Math.max(e,0),(rn(e)?m.resolve:m.reject)({data:t,status:e,headers:en(n),config:r,statusText:i})}function h(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var d,v,m=s.defer(),_=m.promise,$=w(r.url,r.params);if(p.pendingRequests.push(r),_.then(h,h),!r.cache&&!u.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(d=b(r.cache)?r.cache:b(u.cache)?u.cache:E),d)if(v=d.get($),y(v)){if(j(v))return v.then(h,h),v;Qr(v)?f(v[1],v[0],R(v[2]),v[3]):f(v,200,{},"OK")}else d.put($,_);if(g(v)){var x=Jn(r.url)?e.cookies()[r.xsrfCookieName||u.xsrfCookieName]:n;x&&(a[r.xsrfHeaderName||u.xsrfHeaderName]=x),t(r.method,$,o,l,a,r.timeout,r.withCredentials,r.responseType)}return _}function w(t,e){if(!e)return t;var n=[];return a(e,function(t,e){null===t||g(t)||(Qr(t)||(t=[t]),o(t,function(t){b(t)&&(t=$(t)?t.toISOString():U(t)),n.push(X(e)+"="+X(t))}))}),n.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var E=r("$http"),S=[];return o(l,function(t){S.unshift(_(t)?h.get(t):h.invoke(t))}),p.pendingRequests=[],d("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=u,p}]}function sn(){return new t.XMLHttpRequest}function an(){this.$get=["$browser","$window","$document",function(t,e,n){return un(t,sn,t.defer,e.angular.callbacks,n[0])}]}function un(t,e,n,r,i){function s(t,e,n){var o=i.createElement("script"),s=null;return o.type="text/javascript",o.src=t,o.async=!0,s=function(t){di(o,"load",s),di(o,"error",s),i.body.removeChild(o),o=null;var a=-1,u="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),u=t.type,a="error"===t.type?404:200),n&&n(a,u)},pi(o,"load",s),pi(o,"error",s),i.body.appendChild(o),s}return function(i,a,u,c,l,f,h,p){function v(){b&&b(),_&&_.abort()}function m(e,r,i,o,s){x&&n.cancel(x),b=_=null,e(r,i,o,s),t.$$completeOutstandingRequest(d)}if(t.$$incOutstandingRequestCount(),a=a||t.url(),"jsonp"==Rr(i)){var g="_"+(r.counter++).toString(36);r[g]=function(t){r[g].data=t,r[g].called=!0};var b=s(a.replace("JSON_CALLBACK","angular.callbacks."+g),g,function(t,e){m(c,t,r[g].data,"",e),r[g]=d})}else{var _=e();_.open(i,a,!0),o(l,function(t,e){y(t)&&_.setRequestHeader(e,t)}),_.onload=function(){var t=_.statusText||"",e="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=e?200:"file"==Xn(a).protocol?404:0),m(c,n,e,_.getAllResponseHeaders(),t)};var w=function(){m(c,-1,null,null,"")};if(_.onerror=w,_.onabort=w,h&&(_.withCredentials=!0),p)try{_.responseType=p}catch($){if("json"!==p)throw $}_.send(u||null)}if(f>0)var x=n(v,f);else j(f)&&f.then(v)}}function cn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function s(o,s,h,p){function d(n){return n.replace(c,t).replace(l,e)}function v(t){try{return C(k(t))}catch(e){var n=Li("interr","Can't interpolate: {0}\n{1}",o,e.toString());r(n)}}p=!!p;for(var m,y,b,_=0,w=[],$=[],E=o.length,S=[],A=[];E>_;){if(-1==(m=o.indexOf(t,_))||-1==(y=o.indexOf(e,m+a))){_!==E&&S.push(d(o.substring(_)));break}_!==m&&S.push(d(o.substring(_,m))),b=o.substring(m+a,y),w.push(b),$.push(n(b,v)),_=y+u,A.push(S.length),S.push("")}if(h&&S.length>1)throw Li("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!s||w.length){var T=function(t){for(var e=0,n=w.length;n>e;e++){if(p&&g(t[e]))return;S[A[e]]=t[e]}return S.join("")},k=function(t){return h?i.getTrusted(h,t):i.valueOf(t)},C=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=U(t)}return t};return f(function(t){var e=0,n=w.length,i=new Array(n);try{for(;n>e;e++)i[e]=$[e](t);return T(i)}catch(s){var a=Li("interr","Can't interpolate: {0}\n{1}",o,s.toString());r(a)}},{exp:o,expressions:w,$$watchDelegate:function(t,e,n){var r;return t.$watchGroup($,function(n,i){var o=T(n);x(e)&&e.call(this,o,n!==i?r:o,t),r=o},n)}})}}var a=t.length,u=e.length,c=new RegExp(t.replace(/./g,o),"g"),l=new RegExp(e.replace(/./g,o),"g");return s.startSymbol=function(){return t},s.endSymbol=function(){return e},s}]}function ln(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,s,a,u){var c=e.setInterval,l=e.clearInterval,f=0,h=y(u)&&!u,p=(h?r:n).defer(),d=p.promise;return a=y(a)?a:0,d.then(null,null,i),d.$$intervalId=c(function(){p.notify(f++),a>0&&f>=a&&(p.resolve(f),l(d.$$intervalId),delete o[d.$$intervalId]),h||t.$apply()},s),o[d.$$intervalId]=p,d}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function fn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function hn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=K(e[n]);return e.join("/")}function pn(t,e,n){var r=Xn(t,n);e.$$protocol=r.protocol,e.$$host=r.hostname,e.$$port=h(r.port)||Mi[r.protocol]||null}function dn(t,e,n){var r="/"!==t.charAt(0);r&&(t="/"+t);var i=Xn(t,n);e.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=G(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function vn(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function mn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function gn(t){return t.substr(0,mn(t).lastIndexOf("/")+1)}function yn(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function bn(t,e){this.$$html5=!0,e=e||"";var r=gn(t);pn(t,this,t),this.$$parse=function(e){var n=vn(r,e);if(!_(n))throw Fi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);dn(n,this,t),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=W(this.$$search),e=this.$$hash?"#"+K(this.$$hash):"";this.$$url=hn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a,u;return(s=vn(t,i))!==n?(a=s,u=(s=vn(e,s))!==n?r+(vn("/",s)||s):t+a):(s=vn(r,i))!==n?u=r+s:r==i+"/"&&(u=r),u&&this.$$parse(u),!!u}}function _n(t,e){var n=gn(t);pn(t,this,t),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o=vn(t,r)||vn(n,r),s="#"==o.charAt(0)?vn(e,o):this.$$html5?o:"";if(!_(s))throw Fi("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',r,e);dn(s,this,t),this.$$path=i(this.$$path,s,t),this.$$compose()},this.$$compose=function(){var n=W(this.$$search),r=this.$$hash?"#"+K(this.$$hash):"";this.$$url=hn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e){return mn(t)==mn(e)?(this.$$parse(e),!0):!1}}function wn(t,e){this.$$html5=!0,_n.apply(this,arguments);var n=gn(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s;return t==mn(r)?o=r:(s=vn(n,r))?o=t+e+s:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=W(this.$$search),r=this.$$hash?"#"+K(this.$$hash):"";this.$$url=hn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+e+this.$$url}}function $n(t){return function(){return this[t]}}function xn(t,e){return function(n){return g(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function En(){var e="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(t){return C(t)?(n.enabled=t,this):b(t)?(C(t.enabled)&&(n.enabled=t.enabled),C(t.requireBase)&&(n.requireBase=t.requireBase),C(t.rewriteLinks)&&(n.rewriteLinks=t.rewriteLinks),this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,o,s){function a(t,e,n){var r=c.url(),o=c.$$state;try{i.url(t,e,n),c.$$state=i.state()}catch(s){throw c.url(r),c.$$state=o,s}}function u(t,e){r.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=i.baseHref(),p=i.url();if(n.enabled){if(!h&&n.requireBase)throw Fi("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=yn(p)+(h||"/"),l=o.history?bn:wn}else f=mn(p),l=_n;c=new l(f,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=i.state();var d=/^\s*(javascript|mailto):/i;s.on("click",function(e){if(n.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&2!=e.which){for(var o=Ur(e.target);"a"!==B(o[0]);)if(o[0]===s[0]||!(o=o.parent())[0])return;var a=o.prop("href"),u=o.attr("href")||o.attr("xlink:href");b(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Xn(a.animVal).href),d.test(a)||!a||o.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(a,u)&&(e.preventDefault(),c.absUrl()!=i.url()&&(r.$apply(),t.angular["ff-684208-preventDefault"]=!0))}}),c.absUrl()!=p&&i.url(c.absUrl(),!0);var v=!0;return i.onUrlChange(function(t,e){r.$evalAsync(function(){var n=c.absUrl(),i=c.$$state;c.$$parse(t),c.$$state=e,r.$broadcast("$locationChangeStart",t,n,e,i).defaultPrevented?(c.$$parse(n),c.$$state=i,a(n,!1,i)):(v=!1,u(n,i))}),r.$$phase||r.$digest()}),r.$watch(function(){var t=i.url(),e=i.state(),n=c.$$replace,s=t!==c.absUrl()||c.$$html5&&o.history&&e!==c.$$state;(v||s)&&(v=!1,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",c.absUrl(),t,c.$$state,e).defaultPrevented?(c.$$parse(t),c.$$state=e):(s&&a(c.absUrl(),n,e===c.$$state?null:c.$$state),u(t,e))})),c.$$replace=!1}),c}]}function Sn(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||d,s=!1;try{s=!!i.apply}catch(a){}return s?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function An(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Ui("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Tn(t,e){if(t){if(t.constructor===t)throw Ui("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw Ui("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Ui("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw Ui("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function kn(t,e){if(t){if(t.constructor===t)throw Ui("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Hi||t===zi||t===Vi)throw Ui("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Cn(t){return t.constant}function jn(t,e,n,r){Tn(t,r);for(var i,o=e.split("."),s=0;o.length>1;s++){i=An(o.shift(),r);var a=Tn(t[i],r);a||(a={},t[i]=a),t=a}return i=An(o.shift(),r),Tn(t[i],r),t[i]=n,n}function In(t,e,r,i,o,s){return An(t,s),An(e,s),An(r,s),An(i,s),An(o,s),function(s,a){var u=a&&a.hasOwnProperty(t)?a:s;return null==u?u:(u=u[t],e?null==u?n:(u=u[e],r?null==u?n:(u=u[r],i?null==u?n:(u=u[i],o?null==u?n:u=u[o]:u):u):u):u)}}function On(t,e,r){var i=Zi[t];if(i)return i;var s=t.split("."),a=s.length;if(e.csp)i=6>a?In(s[0],s[1],s[2],s[3],s[4],r):function(t,e){var i,o=0;do i=In(s[o++],s[o++],s[o++],s[o++],s[o++],r)(t,e),e=n,t=i;while(a>o);return i};else{var u="";o(s,function(t,e){An(t,r),u+="if(s == null) return undefined;\ns="+(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t+";\n"}),u+="return s;";var c=new Function("s","l",u);c.toString=m(u),i=c}return i.sharedGetter=!0,i.assign=function(e,n){return jn(e,t,n,t)},Zi[t]=i,i}function Bn(){var t=ue(),e={csp:!1};this.$get=["$filter","$sniffer",function(n,r){function i(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function s(t,e){for(var n=0,r=t.length;r>n;n++){var i=t[n];i.constant||(i.inputs?s(i.inputs,e):-1===e.indexOf(i)&&e.push(i))}return e}function a(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=t.valueOf(),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function u(t,e,n,r){var i,o=r.$$inputs||(r.$$inputs=s(r.inputs,[]));if(1===o.length){var u=a;return o=o[0],t.$watch(function(t){var e=o(t);return a(e,u)||(i=r(t),u=e&&e.valueOf()),i},e,n)}for(var c=[],l=0,f=o.length;f>l;l++)c[l]=a;return t.$watch(function(t){for(var e=!1,n=0,s=o.length;s>n;n++){var u=o[n](t);(e||(e=!a(u,c[n])))&&(c[n]=u&&u.valueOf())}return e&&(i=r(t)),i},e,n)}function c(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,x(e)&&e.apply(this,arguments),y(t)&&r.$$postDigest(function(){y(o)&&i()})},n)}function l(t,e,n,r){function i(t){var e=!0;return o(t,function(t){y(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return r(t)},function(t,n,r){a=t,x(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(a)&&s()})},n)}function f(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(){x(e)&&e.apply(this,arguments),i()},n)}function h(t,e){if(!e)return t;var n=function(n,r){var i=t(n,r),o=e(i,n,r);return y(i)?o:i};return t.$$watchDelegate&&t.$$watchDelegate!==u?n.$$watchDelegate=t.$$watchDelegate:e.$stateful||(n.$$watchDelegate=u,n.inputs=[t]),n}return e.csp=r.csp,function(r,o){var s,a,p;switch(typeof r){case"string":if(p=r=r.trim(),s=t[p],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(a=!0,r=r.substring(2));var v=new Xi(e),m=new Ji(v,n,e);s=m.parse(r),s.constant?s.$$watchDelegate=f:a?(s=i(s),s.$$watchDelegate=s.literal?l:c):s.inputs&&(s.$$watchDelegate=u),t[p]=s}return h(s,o);case"function":return h(r,o);default:return h(d,o)}}}]}function Dn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Rn(function(e){t.$evalAsync(e)},e)}]}function Nn(){this.$get=["$browser","$exceptionHandler",function(t,e){return Rn(function(e){t.defer(e)},e)}]}function Rn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function s(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function u(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var s=0,a=o.length;a>s;++s){i=o[s][0],r=o[s][t.status];try{x(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(u){i.reject(u),e(u)}}}function c(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function l(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}function f(t){var e=new l,n=0,r=Qr(t)?[]:{};return o(t,function(t,i){n++,g(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var h=r("$q",TypeError),p=function(){return new l};s.prototype={then:function(t,e,n){var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&c(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}},l.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(b(t)||x(t))&&(n=t&&t.then),x(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,s=r.length;s>o;o++){i=r[o][0],t=r[o][3];try{i.notify(x(t)?t(n):n)}catch(a){e(a)}}})}};var d=function(t){var e=new l;return e.reject(t),e.promise},v=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){var r=null;try{x(n)&&(r=n())}catch(i){return v(i,!1)}return j(r)?r.then(function(){return v(t,e)},function(t){return v(t,!1)}):v(t,e)},g=function(t,e,n,r){var i=new l;return i.resolve(t),i.promise.then(e,n,r)},y=function _(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!x(t))throw h("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof _))return new _(t);var r=new l;return t(e,n),r.promise};return y.defer=p,y.reject=d,y.when=g,y.all=f,y}function Ln(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function qn(){var t=10,e=r("$rootScope"),n=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,a,u,l){function f(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function h(t){if(_.$$phase)throw e("inprog","{0} already in progress",_.$$phase);_.$$phase=t}function p(){_.$$phase=null}function v(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function m(){}function g(){for(;E.length;)try{E.shift()()}catch(t){a(t)}s=null}function y(){null===s&&(s=l.defer(function(){_.$apply(g)}))}f.prototype={constructor:f,$new:function(t,e){function n(){r.$$destroyed=!0}var r;return e=e||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),r=new this.$$ChildScope),r.$parent=e,r.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=r,e.$$childTail=r):e.$$childHead=e.$$childTail=r,(t||e!=this)&&r.$on("$destroy",n),r},$watch:function(t,e,r){var i=u(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,r,i);var o=this,s=o.$$watchers,a={fn:e,last:m,get:i,exp:t,eq:!!r};return n=null,x(e)||(a.fn=d),s||(s=o.$$watchers=[]),s.unshift(a),function(){D(s,a),n=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,a)):e(i,r,a)}var r=new Array(t.length),i=new Array(t.length),s=[],a=this,u=!1,c=!0;if(!t.length){var l=!0;return a.$evalAsync(function(){l&&e(i,i,a)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,a,u;if(b(o))if(i(o)){s!==p&&(s=p,m=s.length=0,f++),e=o.length,m!==e&&(f++,s.length=m=e);for(var c=0;e>c;c++)u=s[c],a=o[c],r=u!==u&&a!==a,r||u===a||(f++,s[c]=a)}else{s!==d&&(s=d={},m=0,f++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,a=o[n],u=s[n],n in s?(r=u!==u&&a!==a,r||u===a||(f++,s[n]=a)):(m++,s[n]=a,f++));if(m>e){f++;for(n in s)o.hasOwnProperty(n)||(m--,delete s[n])}}else s!==o&&(s=o,f++);return f}function r(){if(v?(v=!1,e(o,o,c)):e(o,a,c),l)if(b(o))if(i(o)){a=new Array(o.length);for(var t=0;t<o.length;t++)a[t]=o[t]}else{a={};for(var n in o)Lr.call(o,n)&&(a[n]=o[n])}else a=o}n.$stateful=!0;var o,s,a,c=this,l=e.length>1,f=0,h=u(t,n),p=[],d={},v=!0,m=0;return this.$watch(h,r)},$digest:function(){var r,i,o,u,c,f,d,v,y,b,E,S=t,A=this,T=[];h("$digest"),l.$$checkUrlChange(),this===_&&null!==s&&(l.defer.cancel(s),g()),n=null;do{for(f=!1,v=A;w.length;){try{E=w.shift(),E.scope.$eval(E.expression)}catch(k){a(k)}n=null}t:do{if(u=v.$$watchers)for(c=u.length;c--;)try{if(r=u[c])if((i=r.get(v))===(o=r.last)||(r.eq?L(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))){if(r===n){f=!1;break t}}else f=!0,n=r,r.last=r.eq?N(i,null):i,r.fn(i,o===m?i:o,v),5>S&&(y=4-S,T[y]||(T[y]=[]),b=x(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,b+="; newVal: "+U(i)+"; oldVal: "+U(o),T[y].push(b))}catch(k){a(k)}if(!(d=v.$$childHead||v!==A&&v.$$nextSibling))for(;v!==A&&!(d=v.$$nextSibling);)v=v.$parent}while(v=d);if((f||w.length)&&!S--)throw p(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,U(T))}while(f||w.length);for(p();$.length;)try{$.shift()()}catch(k){a(k)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==_){for(var e in this.$$listenerCount)v(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t){_.$$phase||w.length||l.defer(function(){w.length&&_.$digest()}),w.push({scope:this,expression:t})},$$postDigest:function(t){$.push(t)},$apply:function(t){try{return h("$apply"),this.$eval(t)}catch(e){a(e)}finally{p();try{_.$digest()}catch(e){throw a(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&E.push(e),y()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);
var i=this;return function(){n[n.indexOf(e)]=null,v(i,1,t)}},$emit:function(t){var e,n,r,i=[],o=this,s=!1,u={name:t,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=q([u],arguments,1);do{for(e=o.$$listeners[t]||i,u.currentScope=o,n=0,r=e.length;r>n;n++)if(e[n])try{e[n].apply(null,c)}catch(l){a(l)}else e.splice(n,1),n--,r--;if(s)return u.currentScope=null,u;o=o.$parent}while(o);return u.currentScope=null,u},$broadcast:function(t){var e=this,n=e,r=e,i={name:t,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!e.$$listenerCount[t])return i;for(var o,s,u,c=q([i],arguments,1);n=r;){for(i.currentScope=n,o=n.$$listeners[t]||[],s=0,u=o.length;u>s;s++)if(o[s])try{o[s].apply(null,c)}catch(l){a(l)}else o.splice(s,1),s--,u--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==e&&n.$$nextSibling))for(;n!==e&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var _=new f,w=_.$$asyncQueue=[],$=_.$$postDigestQueue=[],E=_.$$applyAsyncQueue=[];return _}]}function Mn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Xn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Fn(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Pn(t){if("self"===t)return t;if(_(t)){if(t.indexOf("***")>-1)throw Yi("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Fn(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(E(t))return new RegExp("^"+t.source+"$");throw Yi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Un(t){var e=[];return y(t)&&o(t,function(t){e.push(Pn(t))}),e}function Hn(){this.SCE_CONTEXTS=Qi;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Un(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Un(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?Jn(e):!!t.exec(e.href)}function o(n){var r,o,s=Xn(n.toString()),a=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],s)){a=!0;break}if(a)for(r=0,o=e.length;o>r;r++)if(i(e[r],s)){a=!1;break}return a}function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var r=h.hasOwnProperty(t)?h[t]:null;if(!r)throw Yi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw Yi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function u(t){return t instanceof f?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||e===n||""===e)return e;var r=h.hasOwnProperty(t)?h[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===Qi.RESOURCE_URL){if(o(e))return e;throw Yi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Qi.HTML)return l(e);throw Yi("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(){throw Yi("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(l=r.get("$sanitize"));var f=s(),h={};return h[Qi.HTML]=s(f),h[Qi.CSS]=s(f),h[Qi.URL]=s(f),h[Qi.JS]=s(f),h[Qi.RESOURCE_URL]=s(h[Qi.URL]),{trustAs:a,getTrusted:c,valueOf:u}}]}function zn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$document","$parse","$sceDelegate",function(e,n,r){if(t&&e[0].documentMode<8)throw Yi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=R(Qi);i.isEnabled=function(){return t},i.trustAs=r.trustAs,i.getTrusted=r.getTrusted,i.valueOf=r.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=v),i.parseAs=function(t,e){var r=n(e);return r.literal&&r.constant?r:n(e,function(e){return i.getTrusted(t,e)})};var s=i.parseAs,a=i.getTrusted,u=i.trustAs;return o(Qi,function(t,e){var n=Rr(e);i[he("parse_as_"+n)]=function(e){return s(t,e)},i[he("get_trusted_"+n)]=function(e){return a(t,e)},i[he("trust_as_"+n)]=function(e){return u(t,e)}}),i}]}function Vn(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=h((/android (\d+)/.exec(Rr((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},u=/^(Moz|webkit|O|ms)(?=[A-Z])/,c=a.body&&a.body.style,l=!1,f=!1;if(c){for(var p in c)if(r=u.exec(p)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!o||l&&f||(l=_(a.body.style.webkitTransition),f=_(a.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||s),hasEvent:function(t){if("input"==t&&9==Pr)return!1;if(g(i[t])){var e=a.createElement("div");i[t]="on"+t in e}return i[t]},csp:ei(),vendorPrefix:n,transitions:l,animations:f,android:o}}]}function Gn(){this.$get=["$templateCache","$http","$q",function(t,e,n){function r(i,o){function s(){if(a.totalPendingRequests--,!o)throw Ni("tpload","Failed to load template: {0}",i);return n.reject()}var a=r;return a.totalPendingRequests++,e.get(i,{cache:t}).then(function(e){var n=e.data;return n&&0!==n.length?(a.totalPendingRequests--,t.put(i,n),n):s()},s)}return r.totalPendingRequests=0,r}]}function Wn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=Jr.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+e+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",s="["+r[i]+"model"+o+'"'+e+'"]',a=t.querySelectorAll(s);if(a.length)return a}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Kn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,a,u){var c,l=y(u)&&!u,f=(l?r:n).defer(),h=f.promise;return c=e.defer(function(){try{f.resolve(o())}catch(e){f.reject(e),i(e)}finally{delete s[h.$$timeoutId]}l||t.$apply()},a),h.$$timeoutId=c,s[c]=f,h}var s={};return o.cancel=function(t){return t&&t.$$timeoutId in s?(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Xn(t){var e=t;return Pr&&(to.setAttribute("href",e),e=to.href),to.setAttribute("href",e),{href:to.href,protocol:to.protocol?to.protocol.replace(/:$/,""):"",host:to.host,search:to.search?to.search.replace(/^\?/,""):"",hash:to.hash?to.hash.replace(/^#/,""):"",hostname:to.hostname,port:to.port,pathname:"/"===to.pathname.charAt(0)?to.pathname:"/"+to.pathname}}function Jn(t){var e=_(t)?Xn(t):t;return e.protocol===eo.protocol&&e.host===eo.host}function Zn(){this.$get=m(t)}function Yn(t){function e(r,i){if(b(r)){var s={};return o(r,function(t,n){s[n]=e(n,t)}),s}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",tr),e("date",fr),e("filter",Qn),e("json",hr),e("limitTo",pr),e("lowercase",so),e("number",er),e("orderBy",dr),e("uppercase",ao)}function Qn(){return function(t,e,n){if(!Qr(t))return t;var r=typeof n,i=[];i.check=function(t,e){for(var n=0;n<i.length;n++)if(!i[n](t,e))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(t,e){return Jr.equals(t,e)}:function(t,e){if(t&&e&&"object"==typeof t&&"object"==typeof e){for(var r in t)if("$"!==r.charAt(0)&&Lr.call(t,r)&&n(t[r],e[r]))return!0;return!1}return e=(""+e).toLowerCase(),(""+t).toLowerCase().indexOf(e)>-1});var o=function(t,e){if("string"==typeof e&&"!"===e.charAt(0))return!o(t,e.substr(1));switch(typeof t){case"boolean":case"number":case"string":return n(t,e);case"object":switch(typeof e){case"object":return n(t,e);default:for(var r in t)if("$"!==r.charAt(0)&&o(t[r],e))return!0}return!1;case"array":for(var i=0;i<t.length;i++)if(o(t[i],e))return!0;return!1;default:return!1}};switch(typeof e){case"boolean":case"number":case"string":e={$:e};case"object":for(var s in e)!function(t){"undefined"!=typeof e[t]&&i.push(function(n){return o("$"==t?n:n&&n[t],e[t])})}(s);break;case"function":i.push(e);break;default:return t}for(var a=[],u=0;u<t.length;u++){var c=t[u];i.check(c,u)&&a.push(c)}return a}}function tr(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return g(n)&&(n=e.CURRENCY_SYM),g(r)&&(r=2),null==t?t:nr(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function er(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:nr(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function nr(t,e,n,r,i){if(!isFinite(t)||b(t))return"";var o=0>t;t=Math.abs(t);var s=t+"",a="",u=[],c=!1;if(-1!==s.indexOf("e")){var l=s.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?(s="0",t=0):(a=s,c=!0)}if(c)i>0&&t>-1&&1>t&&(a=t.toFixed(i));else{var f=(s.split(no)[1]||"").length;g(i)&&(i=Math.min(Math.max(e.minFrac,f),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i),0===t&&(o=!1);var h=(""+t).split(no),p=h[0];h=h[1]||"";var d,v=0,m=e.lgSize,y=e.gSize;if(p.length>=m+y)for(v=p.length-m,d=0;v>d;d++)(v-d)%y===0&&0!==d&&(a+=n),a+=p.charAt(d);for(d=v;d<p.length;d++)(p.length-d)%m===0&&0!==d&&(a+=n),a+=p.charAt(d);for(;h.length<i;)h+="0";i&&"0"!==i&&(a+=r+h.substr(0,i))}return u.push(o?e.negPre:e.posPre),u.push(a),u.push(o?e.negSuf:e.posSuf),u.join("")}function rr(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function ir(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),rr(o,e,r)}}function or(t,e){return function(n,r){var i=n["get"+t](),o=qr(e?"SHORT"+t:t);return r[o][i]}}function sr(t){var e=-1*t.getTimezoneOffset(),n=e>=0?"+":"";return n+=rr(Math[e>0?"floor":"ceil"](e/60),2)+rr(Math.abs(e%60),2)}function ar(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function ur(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function cr(t){return function(e){var n=ar(e.getFullYear()),r=ur(e),i=+r-+n,o=1+Math.round(i/6048e5);return rr(o,t)}}function lr(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function fr(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,s=e[8]?r.setUTCFullYear:r.setFullYear,a=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=h(e[9]+e[10]),o=h(e[9]+e[11])),s.call(r,h(e[1]),h(e[2])-1,h(e[3]));var u=h(e[4]||0)-i,c=h(e[5]||0)-o,l=h(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var s,a,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,_(n)&&(n=oo.test(n)?h(n):e(n)),w(n)&&(n=new Date(n)),!$(n))return n;for(;r;)a=io.exec(r),a?(c=q(c,a,1),r=c.pop()):(c.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(c,function(e){s=ro[e],u+=s?s(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function hr(){return function(t){return U(t,!0)}}function pr(){return function(t,e){if(w(t)&&(t=t.toString()),!Qr(t)&&!_(t))return t;if(e=1/0===Math.abs(Number(e))?Number(e):h(e),_(t))return e?e>=0?t.slice(0,e):t.slice(e,t.length):"";var n,r,i=[];for(e>t.length?e=t.length:e<-t.length&&(e=-t.length),e>0?(n=0,r=e):(n=t.length+e,r=t.length);r>n;n++)i.push(t[n]);return i}}function dr(t){return function(e,n,r){function o(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0}function s(t,e){return e?function(e,n){return t(n,e)}:t}function a(t,e){var n=typeof t,r=typeof e;return n==r?($(t)&&$(e)&&(t=t.valueOf(),e=e.valueOf()),"string"==n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):r>n?-1:1}if(!i(e))return e;n=Qr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,r=e||v;if(_(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return s(function(t,e){return a(t,e)},n);if(r=t(e),r.constant){var i=r();return s(function(t,e){return a(t[i],e[i])},n)}}return s(function(t,e){return a(r(t),r(e))},n)});for(var u=[],c=0;c<e.length;c++)u.push(e[c]);return u.sort(s(o,r))}}function vr(t){return x(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function mr(t,e){t.$name=e}function gr(t,e,r,i,s){var a=this,u=[],c=a.$$parentForm=t.parent().controller("form")||lo;a.$error={},a.$$success={},a.$pending=n,a.$name=s(e.name||e.ngForm||"")(r),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,c.$addControl(a),a.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},a.$addControl=function(t){oe(t.$name,"input"),u.push(t),t.$name&&(a[t.$name]=t)},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],o(a.$pending,function(e,n){a.$setValidity(n,null,t)}),o(a.$error,function(e,n){a.$setValidity(n,null,t)}),D(u,t)},Ir({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(D(r,n),0===r.length&&delete t[e])},parentForm:c,$animate:i}),a.$setDirty=function(){i.removeClass(t,Io),i.addClass(t,Oo),a.$dirty=!0,a.$pristine=!1,c.$setDirty()},a.$setPristine=function(){i.setClass(t,Io,Oo+" "+fo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(u,function(t){t.$setPristine()})},a.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},a.$setSubmitted=function(){i.addClass(t,fo),a.$submitted=!0,c.$setSubmitted()}}function yr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function br(t,e,n,r,i,o){_r(t,e,n,r,i,o),yr(r)}function _r(t,e,n,r,i,o){var s=(e.prop(Nr),e[0].placeholder),a={},u=Rr(e[0].type);if(!i.android){var c=!1;e.on("compositionstart",function(){c=!0}),e.on("compositionend",function(){c=!1,l()})}var l=function(t){if(!c){var i=e.val(),o=t&&t.type;if(Pr&&"input"===(t||a).type&&e[0].placeholder!==s)return void(s=e[0].placeholder);"password"===u||n.ngTrim&&"false"===n.ngTrim||(i=ti(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,o)}};if(i.hasEvent("input"))e.on("input",l);else{var f,h=function(t){f||(f=o.defer(function(){l(t),f=null}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||h(t)}),i.hasEvent("paste")&&e.on("paste cut",h)}e.on("change",l),r.$render=function(){e.val(r.$isEmpty(r.$modelValue)?"":r.$viewValue)}}function wr(t,e){if($(t))return t;if(_(t)){$o.lastIndex=0;var n=$o.exec(t);if(n){var r=+n[1],i=+n[2],o=0,s=0,a=0,u=0,c=ar(r),l=7*(i-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,s,a,u)}}return 0/0}function $r(t,e){return function(n,r){var i,s;if($(n))return n;if(_(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),mo.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),s=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return 0/0}}function xr(t,e,r,i){return function(o,s,a,u,c,l,f){function h(t){return y(t)?$(t)?t:r(t):n}Er(o,s,a,u),_r(o,s,a,u,c,l);var p,d=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return"UTC"===d&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),u.$formatters.push(function(t){if(!u.$isEmpty(t)){if(!$(t))throw Ao("datefmt","Expected `{0}` to be a date",t);if(p=t,p&&"UTC"===d){var e=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+e)}return f("date")(t,i,d)}return p=null,""}),y(a.min)||a.ngMin){var v;u.$validators.min=function(t){return u.$isEmpty(t)||g(v)||r(t)>=v},a.$observe("min",function(t){v=h(t),u.$validate()})}if(y(a.max)||a.ngMax){var m;u.$validators.max=function(t){return u.$isEmpty(t)||g(m)||r(t)<=m},a.$observe("max",function(t){m=h(t),u.$validate()})}u.$isEmpty=function(t){return!t||t.getTime&&t.getTime()!==t.getTime()}}}function Er(t,e,r,i){var o=e[0],s=i.$$hasNativeValidators=b(o.validity);s&&i.$parsers.push(function(t){var r=e.prop(Nr)||{};return r.badInput&&!r.typeMismatch?n:t})}function Sr(t,e,r,i,o,s){if(Er(t,e,r,i),_r(t,e,r,i,o,s),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:bo.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!w(t))throw Ao("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),r.min||r.ngMin){var a;i.$validators.min=function(t){return i.$isEmpty(t)||g(a)||t>=a},r.$observe("min",function(t){y(t)&&!w(t)&&(t=parseFloat(t,10)),a=w(t)&&!isNaN(t)?t:n,i.$validate()})}if(r.max||r.ngMax){var u;i.$validators.max=function(t){return i.$isEmpty(t)||g(u)||u>=t},r.$observe("max",function(t){y(t)&&!w(t)&&(t=parseFloat(t,10)),u=w(t)&&!isNaN(t)?t:n,i.$validate()})}}function Ar(t,e,n,r,i,o){_r(t,e,n,r,i,o),yr(r),r.$$parserName="url",r.$validators.url=function(t){return r.$isEmpty(t)||go.test(t)}}function Tr(t,e,n,r,i,o){_r(t,e,n,r,i,o),yr(r),r.$$parserName="email",r.$validators.email=function(t){return r.$isEmpty(t)||yo.test(t)}}function kr(t,e,n,r){g(n.name)&&e.attr("name",c());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function Cr(t,e,n,i,o){var s;if(y(i)){if(s=t(i),!s.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return s(e)}return o}function jr(t,e,n,r,i,o,s,a){var u=Cr(a,t,"ngTrueValue",n.ngTrueValue,!0),c=Cr(a,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t!==u},r.$formatters.push(function(t){return L(t,u)}),r.$parsers.push(function(t){return t?u:c})}function Ir(t){function e(t,e,u){e===n?r("$pending",t,u):i("$pending",t,u),C(e)?e?(f(a.$error,t,u),l(a.$$success,t,u)):(l(a.$error,t,u),f(a.$$success,t,u)):(f(a.$error,t,u),f(a.$$success,t,u)),a.$pending?(o(No,!0),a.$valid=a.$invalid=n,s("",null)):(o(No,!1),a.$valid=Or(a.$error),a.$invalid=!a.$valid,s("",a.$valid));var c;c=a.$pending&&a.$pending[t]?n:a.$error[t]?!1:a.$$success[t]?!0:null,s(t,c),h.$setValidity(t,c,a)}function r(t,e,n){a[t]||(a[t]={}),l(a[t],e,n)}function i(t,e,r){a[t]&&f(a[t],e,r),Or(a[t])&&(a[t]=n)}function o(t,e){e&&!c[t]?(p.addClass(u,t),c[t]=!0):!e&&c[t]&&(p.removeClass(u,t),c[t]=!1)}function s(t,e){t=t?"-"+ee(t,"-"):"",o(Co+t,e===!0),o(jo+t,e===!1)}var a=t.ctrl,u=t.$element,c={},l=t.set,f=t.unset,h=t.parentForm,p=t.$animate;c[jo]=!(c[Co]=u.hasClass(Co)),a.$setValidity=e}function Or(t){if(t)for(var e in t)return!1;return!0}function Br(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){if(Qr(t))return t;if(_(t))return t.split(" ");if(b(t)){var e=[];return o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}return t}return{restrict:"AC",link:function(s,a,u){function c(t){var e=f(t,1);u.$addClass(e)}function l(t){var e=f(t,-1);u.$removeClass(e)}function f(t,e){var n=a.data("$classCounts")||{},r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),a.data("$classCounts",n),r.join(" ")}function h(t,e){var i=r(e,t),o=r(t,e);i=f(i,1),o=f(o,-1),i&&i.length&&n.addClass(a,i),o&&o.length&&n.removeClass(a,o)}function p(t){if(e===!0||s.$index%2===e){var n=i(t||[]);if(d){if(!L(t,d)){var r=i(d);h(r,n)}}else c(n)}d=R(t)}var d;s.$watch(u[t],p,!0),u.$observe("class",function(){p(s.$eval(u[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var a=i(s.$eval(u[t]));o===e?c(a):l(a)}})}}}]}var Dr=/^\/(.+)\/([a-z]*)$/,Nr="validity",Rr=function(t){return _(t)?t.toLowerCase():t},Lr=Object.prototype.hasOwnProperty,qr=function(t){return _(t)?t.toUpperCase():t},Mr=function(t){return _(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Fr=function(t){return _(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Rr=Mr,qr=Fr);var Pr,Ur,Hr,zr,Vr=[].slice,Gr=[].splice,Wr=[].push,Kr=Object.prototype.toString,Xr=r("ng"),Jr=t.angular||(t.angular={}),Zr=0;Pr=e.documentMode,d.$inject=[],v.$inject=[];var Yr,Qr=Array.isArray,ti=function(t){return _(t)?t.trim():t},ei=function(){if(y(ei.isActive_))return ei.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return ei.isActive_=t},ni=["ng-","data-ng-","ng:","x-ng-"],ri=/[A-Z]/g,ii=!1,oi=1,si=3,ai=8,ui=9,ci=11,li={full:"1.3.0",major:1,minor:3,dot:0,codeName:"superluminal-nudge"};ge.expando="ng339";var fi=ge.cache={},hi=1,pi=function(t,e,n){t.addEventListener(e,n,!1)},di=function(t,e,n){t.removeEventListener(e,n,!1)};ge._data=function(t){return this.cache[t[this.expando]]||{}};var vi=/([\:\-\_]+(.))/g,mi=/^moz([A-Z])/,gi={mouseleave:"mouseout",mouseenter:"mouseover"},yi=r("jqLite"),bi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_i=/<|&#?\w+;/,wi=/<([\w:]+)/,$i=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,xi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xi.optgroup=xi.option,xi.tbody=xi.tfoot=xi.colgroup=xi.caption=xi.thead,xi.th=xi.td;var Ei=ge.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),ge(t).on("load",r),this.on("DOMContentLoaded",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Ur(t>=0?this[t]:this[this.length+t])},length:0,push:Wr,sort:[].sort,splice:[].splice},Si={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Si[Rr(t)]=t});var Ai={};o("input,select,option,textarea,button,form,details".split(","),function(t){Ai[t]=!0});var Ti={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:xe,removeData:we},function(t,e){ge[e]=t}),o({data:xe,inheritedData:Ce,scope:function(t){return Ur.data(t,"$scope")||Ce(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Ur.data(t,"$isolateScope")||Ur.data(t,"$isolateScopeNoTemplate")},controller:ke,injector:function(t){return Ce(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ee,css:function(t,e,n){return e=he(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=Rr(e);if(Si[i]){if(!y(r))return t[e]||(t.attributes.getNamedItem(e)||d).specified?i:n;r?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(y(r))t.setAttribute(e,r);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?n:o}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(g(e)){var n=t.nodeType;return n===oi||n===si?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(g(e)){if(t.multiple&&"select"===B(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return g(e)?t.innerHTML:(be(t,!0),void(t.innerHTML=e))},empty:je},function(t,e){ge.prototype[e]=function(e,r){var i,o,s=this.length;if(t!==je&&(2==t.length&&t!==Ee&&t!==ke?e:r)===n){if(b(e)){for(i=0;s>i;i++)if(t===xe)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var a=t.$dv,u=a===n?Math.min(s,1):s,c=0;u>c;c++){var l=t(this[c],e,r);a=a?a+l:l}return a}for(i=0;s>i;i++)t(this[i],e,r);return this}}),o({removeData:we,on:function Ss(t,e,n,r){if(y(r))throw yi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(de(t)){var i=$e(t,!0),o=i.events,s=i.handle;s||(s=i.handle=Ne(t,o));for(var a=e.indexOf(" ")>=0?e.split(" "):[e],u=a.length;u--;){e=a[u];var c=o[e];c||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Ss(t,gi[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&s(t,e)}):"$destroy"!==e&&pi(t,e,s),c=o[e]),c.push(n)}}},off:_e,one:function(t,e,n){t=Ur(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;be(t),o(new ge(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===oi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===oi||n===ci){e=new ge(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===oi){var n=t.firstChild;o(new ge(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Ur(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Ie,detach:function(t){Ie(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new ge(e);for(var i=0,o=e.length;o>i;i++){var s=e[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:Ae,removeClass:Se,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;g(r)&&(r=!Ee(t,e)),(r?Ae:Se)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==ci?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:ye,triggerHandler:function(t,e,n){var r,i,s,a=e.type||e,u=$e(t),c=u&&u.events,l=c&&c[a];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:d,type:a,target:t},e.type&&(r=f(r,e)),i=R(l),s=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,s)}))}},function(t,e){ge.prototype[e]=function(e,n,r){for(var i,o=0,s=this.length;s>o;o++)g(i)?(i=t(this[o],e,n,r),y(i)&&(i=Ur(i))):Te(i,t(this[o],e,n,r));return y(i)?i:this},ge.prototype.bind=ge.prototype.on,ge.prototype.unbind=ge.prototype.off}),Le.prototype={put:function(t,e){this[Re(t,this.nextUid)]=e},get:function(t){return this[Re(t,this.nextUid)]},remove:function(t){var e=this[t=Re(t,this.nextUid)];return delete this[t],e}};var ki=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Ci=/,/,ji=/^\s*(_?)(\S+?)\1\s*$/,Ii=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Oi=r("$injector");Fe.$$annotate=Me;var Bi=r("$animate"),Di=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var r=e+"-animation";if(e&&"."!=e.charAt(0))throw Bi("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=r,t.factory(r,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function r(e){var r,i=t.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=e(function(){i.resolve()})}),i.promise}function i(t,e){var n=[],r=[],i=ue();return o((t.attr("class")||"").split(/\s+/),function(t){i[t]=!0}),o(e,function(t,e){var o=i[e];t===!1&&o?r.push(e):t!==!0||o||n.push(e)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function s(t,e,n){for(var r=0,i=e.length;i>r;++r){var o=e[r];t[o]=n}}function a(){return c||(c=t.defer(),e(function(){c.resolve(),c=null})),c.promise}function u(t,e){if(Jr.isObject(e)){var n=f(e.from||{},e.to||{});t.css(n)}}var c;return{animate:function(t,e,n){return u(t,{from:e,to:n}),a()},enter:function(t,e,n,r){return u(t,r),n?n.after(t):e.prepend(t),a()},leave:function(t){return t.remove(),a()},move:function(t,e,n,r){return this.enter(t,e,n,r)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=Ur(t),e=_(e)?e:Qr(e)?e.join(" "):"",o(t,function(t){Ae(t,e)}),u(t,n),a()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=Ur(t),e=_(e)?e:Qr(e)?e.join(" "):"",o(t,function(t){Se(t,e)}),u(t,n),a()},setClass:function(t,e,n,o){var a=this,u="$$animateClasses",c=!1;t=Ur(t);var l=t.data(u);l?o&&l.options&&(l.options=Jr.extend(l.options||{},o)):(l={classes:{},options:o},c=!0);var f=l.classes;return e=Qr(e)?e:e.split(" "),n=Qr(n)?n:n.split(" "),s(f,e,!0),s(f,n,!1),c&&(l.promise=r(function(e){var n=t.data(u);if(t.removeData(u),n){var r=i(t,n.classes);r&&a.$$setClassImmediately(t,r[0],r[1],n.options)}e()}),t.data(u,l)),l.promise},$$setClassImmediately:function(t,e,n,r){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),u(t,r),a()},enabled:d,cancel:d}}]}],Ni=r("$compile");We.$inject=["$provide","$$sanitizeUriProvider"];var Ri=/^(x[\:\-_]|data[\:\-_])/i,Li=r("$interpolate"),qi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Mi={http:80,https:443,ftp:21},Fi=r("$location"),Pi={$$html5:!1,$$replace:!1,absUrl:$n("$$absUrl"),url:function(t){if(g(t))return this.$$url;var e=qi.exec(t);return e[1]&&this.path(decodeURIComponent(e[1])),(e[2]||e[1])&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:$n("$$protocol"),host:$n("$$host"),port:$n("$$port"),path:xn("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(_(t)||w(t))t=t.toString(),this.$$search=G(t);else{if(!b(t))throw Fi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=N(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:g(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:xn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([wn,_n,bn],function(t){t.prototype=Object.create(Pi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==bn||!this.$$html5)throw Fi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=g(e)?null:e,this}});var Ui=r("$parse"),Hi=Function.prototype.call,zi=Function.prototype.apply,Vi=Function.prototype.bind,Gi=ue();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,Gi[e]=t}),Gi["this"]=function(t){return t},Gi["this"].sharedGetter=!0;var Wi=f(ue(),{"+":function(t,e,r,i){return r=r(t,e),i=i(t,e),y(r)?y(i)?r+i:r:y(i)?i:n},"-":function(t,e,n,r){return n=n(t,e),r=r(t,e),(y(n)?n:0)-(y(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)
},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),Ki={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Xi=function(t){this.options=t};Xi.prototype={constructor:Xi,lex:function(t){for(this.text=t,this.index=0,this.ch=n,this.tokens=[];this.index<this.text.length;)if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else if(this.isWhitespace(this.ch))this.index++;else{var e=this.ch+this.peek(),r=e+this.peek(2),i=Wi[this.ch],o=Wi[e],s=Wi[r];s?(this.tokens.push({index:this.index,text:r,fn:s}),this.index+=3):o?(this.tokens.push({index:this.index,text:e,fn:o}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t){return-1!==t.indexOf(this.ch)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Ui("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Rr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}t=1*t,this.tokens.push({index:e,text:t,constant:!0,fn:function(){return t}})},readIdent:function(){for(var t,e,r,i,o=this.text,s="",a=this.index;this.index<this.text.length&&(i=this.text.charAt(this.index),"."===i||this.isIdent(i)||this.isNumber(i));)"."===i&&(t=this.index),s+=i,this.index++;if(t&&"."===s[s.length-1]&&(this.index--,s=s.slice(0,-1),t=s.lastIndexOf("."),-1===t&&(t=n)),t)for(e=this.index;e<this.text.length;){if(i=this.text.charAt(e),"("===i){r=s.substr(t-a+1),s=s.substr(0,t-a),this.index=e;break}if(!this.isWhitespace(i))break;e++}this.tokens.push({index:a,text:s,fn:Gi[s]||On(s,this.options,o)}),r&&(this.tokens.push({index:t,text:"."}),this.tokens.push({index:t+1,text:r}))},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=Ki[o];n+=a||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,string:n,constant:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Ji=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};Ji.ZERO=f(function(){return 0},{sharedGetter:!0,constant:!0}),Ji.prototype={constructor:Ji,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t;if(this.expect("("))t=this.filterChain(),this.consume(")");else if(this.expect("["))t=this.arrayDeclaration();else if(this.expect("{"))t=this.object();else{var e=this.expect();t=e.fn,t||this.throwError("not a primary expression",e),e.constant&&(t.constant=!0,t.literal=!0)}for(var n,r;n=this.expect("(","[",".");)"("===n.text?(t=this.functionCall(t,r),r=null):"["===n.text?(r=t,t=this.objectIndex(t)):"."===n.text?(r=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw Ui("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw Ui("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){if(this.tokens.length>0){var i=this.tokens[0],o=i.text;if(o===t||o===e||o===n||o===r||!t&&!e&&!n&&!r)return i}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},consume:function(t){this.expect(t)||this.throwError("is unexpected, expecting ["+t+"]",this.peek())},unaryFn:function(t,e){return f(function(n,r){return t(n,r,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,r){return f(function(r,i){return e(r,i,t,n)},{constant:t.constant&&n.constant,inputs:!r&&[t,n]})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var r,i=0,o=t.length;o>i;i++)r=t[i](e,n);return r}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},filter:function(t){var e,r,i=this.expect(),o=this.$filter(i.text);if(this.peek(":"))for(e=[],r=[];this.expect(":");)e.push(this.expression());var s=[t].concat(e||[]);return f(function(i,s){var a=t(i,s);if(r){r[0]=a;for(var u=e.length;u--;)r[u+1]=e[u](i,s);return o.apply(n,r)}return o(a)},{constant:!o.$stateful&&s.every(Cn),inputs:!o.$stateful&&s})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),f(function(e,r){return n.assign(e,t(e,r),r)},{inputs:[n,t]})):n},ternary:function(){var t,e,n=this.logicalOR();if(e=this.expect("?")){if(t=this.assignment(),e=this.expect(":")){var r=this.assignment();return f(function(e,i){return n(e,i)?t(e,i):r(e,i)},{constant:n.constant&&t.constant&&r.constant})}this.throwError("expected :",e)}return n},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.fn,this.logicalAND(),!0);return e},logicalAND:function(){var t,e=this.equality();return(t=this.expect("&&"))&&(e=this.binaryFn(e,t.fn,this.logicalAND(),!0)),e},equality:function(){var t,e=this.relational();return(t=this.expect("==","!=","===","!=="))&&(e=this.binaryFn(e,t.fn,this.equality())),e},relational:function(){var t,e=this.additive();return(t=this.expect("<",">","<=",">="))&&(e=this.binaryFn(e,t.fn,this.relational())),e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(Ji.ZERO,t.fn,this.unary()):(t=this.expect("!"))?this.unaryFn(t.fn,this.unary()):this.primary()},fieldAccess:function(t){var e=this.text,n=this.expect().text,r=On(n,this.options,e);return f(function(e,n,i){return r(i||t(e,n))},{assign:function(r,i,o){var s=t(r,o);return s||t.assign(r,s={}),jn(s,n,i,e)}})},objectIndex:function(t){var e=this.text,r=this.expression();return this.consume("]"),f(function(i,o){var s,a=t(i,o),u=r(i,o);return An(u,e),a?s=Tn(a[u],e):n},{assign:function(n,i,o){var s=An(r(n,o),e),a=Tn(t(n,o),e);return a||t.assign(n,a={}),a[s]=i}})},functionCall:function(t,e){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,i=n.length?[]:null;return function(o,s){var a=e?e(o,s):o,u=t(o,s,a)||d;if(i)for(var c=n.length;c--;)i[c]=Tn(n[c](o,s),r);Tn(a,r),kn(u,r);var l=u.apply?u.apply(a,i):u(i[0],i[1],i[2],i[3],i[4]);return Tn(l,r)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var e=this.expression();t.push(e)}while(this.expect(","));return this.consume("]"),f(function(e,n){for(var r=[],i=0,o=t.length;o>i;i++)r.push(t[i](e,n));return r},{literal:!0,constant:t.every(Cn),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect();t.push(n.string||n.text),this.consume(":");var r=this.expression();e.push(r)}while(this.expect(","));return this.consume("}"),f(function(n,r){for(var i={},o=0,s=e.length;s>o;o++)i[t[o]]=e[o](n,r);return i},{literal:!0,constant:e.every(Cn),inputs:e})}};var Zi=ue(),Yi=r("$sce"),Qi={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ni=r("$compile"),to=e.createElement("a"),eo=Xn(t.location.href,!0);Yn.$inject=["$provide"],tr.$inject=["$locale"],er.$inject=["$locale"];var no=".",ro={yyyy:ir("FullYear",4),yy:ir("FullYear",2,0,!0),y:ir("FullYear",1),MMMM:or("Month"),MMM:or("Month",!0),MM:ir("Month",2,1),M:ir("Month",1,1),dd:ir("Date",2),d:ir("Date",1),HH:ir("Hours",2),H:ir("Hours",1),hh:ir("Hours",2,-12),h:ir("Hours",1,-12),mm:ir("Minutes",2),m:ir("Minutes",1),ss:ir("Seconds",2),s:ir("Seconds",1),sss:ir("Milliseconds",3),EEEE:or("Day"),EEE:or("Day",!0),a:lr,Z:sr,ww:cr(2),w:cr(1)},io=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,oo=/^\-?\d+$/;fr.$inject=["$locale"];var so=m(Rr),ao=m(qr);dr.$inject=["$parse"];var uo=m({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){var n="[object SVGAnimatedString]"===Kr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}),co={};o(Si,function(t,e){if("multiple"!=t){var n=Ke("ng-"+e);co[n]=function(){return{restrict:"A",priority:100,link:function(t,r,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}}}}),o(Ti,function(t,e){co[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Dr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Ke("ng-"+t);co[e]=function(){return{priority:99,link:function(n,r,i){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Kr.call(r.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(s,e),void(Pr&&o&&r.prop(o,i[s]))):void("href"===t&&i.$set(s,null))})}}}});var lo={$addControl:d,$$renameControl:mr,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d},fo="ng-submitted";gr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ho=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:gr,compile:function(t){return t.addClass(Io).addClass(Co),{pre:function(t,r,i,o){if(!("action"in i)){var s=function(e){t.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),e.preventDefault?e.preventDefault():e.returnValue=!1};pi(r[0],"submit",s),r.on("$destroy",function(){e(function(){di(r[0],"submit",s)},0,!1)})}var a=o.$$parentForm,u=o.$name;u&&(jn(t,u,o,u),i.$observe(i.name?"name":"ngForm",function(e){u!==e&&(jn(t,u,n,u),u=e,jn(t,u,o,u),a.$$renameControl(o,u))})),r.on("$destroy",function(){a.$removeControl(o),u&&jn(t,u,n,u),f(o,lo)})}}}};return r}]},po=ho(),vo=ho(!0),mo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,go=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,yo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,bo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,_o=/^(\d{4})-(\d{2})-(\d{2})$/,wo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,$o=/^(\d{4})-W(\d\d)$/,xo=/^(\d{4})-(\d\d)$/,Eo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,So=/(\s+|^)default(\s+|$)/,Ao=new r("ngModel"),To={text:br,date:xr("date",_o,$r(_o,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":xr("datetimelocal",wo,$r(wo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:xr("time",Eo,$r(Eo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:xr("week",$o,wr,"yyyy-Www"),month:xr("month",xo,$r(xo,["yyyy","MM"]),"yyyy-MM"),number:Sr,url:Ar,email:Tr,radio:kr,checkbox:jr,hidden:d,button:d,submit:d,reset:d,file:d},ko=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(To[Rr(s.type)]||To.text)(i,o,s,a[0],e,t,n,r)}}}}],Co="ng-valid",jo="ng-invalid",Io="ng-pristine",Oo="ng-dirty",Bo="ng-untouched",Do="ng-touched",No="ng-pending",Ro=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,s,a,u,c,l,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(t);var h=s(r.ngModel),p=null,v=this,m=function(){var e=h(t);return v.$options&&v.$options.getterSetter&&x(e)&&(e=e()),e},b=function(){var e;v.$options&&v.$options.getterSetter&&x(e=h(t))?e(v.$modelValue):h.assign(t,v.$modelValue)};this.$$setOptions=function(t){if(v.$options=t,!(h.assign||t&&t.getterSetter))throw Ao("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,z(i))},this.$render=d,this.$isEmpty=function(t){return g(t)||""===t||null===t||t!==t};var _=i.inheritedData("$formController")||lo,$=0;Ir({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:_,$animate:a}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,a.removeClass(i,Oo),a.addClass(i,Io)},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,a.setClass(i,Bo,Do)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,a.setClass(i,Do,Bo)},this.$rollbackViewValue=function(){u.cancel(p),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){w(v.$modelValue)&&isNaN(v.$modelValue)||this.$$parseAndValidate()},this.$$runValidators=function(t,e,r,i){function s(t){var e=v.$$parserName||"parse";if(t===n)c(e,null);else if(c(e,t),!t)return o(v.$validators,function(t,e){c(e,null)}),o(v.$asyncValidators,function(t,e){c(e,null)}),!1;return!0}function a(){var t=!0;return o(v.$validators,function(n,i){var o=n(e,r);t=t&&o,c(i,o)}),t?!0:(o(v.$asyncValidators,function(t,e){c(e,null)}),!1)}function u(){var t=[],i=!0;o(v.$asyncValidators,function(o,s){var a=o(e,r);if(!j(a))throw Ao("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",a);c(s,n),t.push(a.then(function(){c(s,!0)},function(){i=!1,c(s,!1)}))}),t.length?l.all(t).then(function(){f(i)},d):f(!0)}function c(t,e){h===$&&v.$setValidity(t,e)}function f(t){h===$&&i(t)}$++;var h=$;return s(t)&&a()?void u():void f(!1)},this.$commitViewValue=function(){var t=v.$viewValue;u.cancel(p),(v.$$lastCommittedViewValue!==t||""===t&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=t,v.$pristine&&(v.$dirty=!0,v.$pristine=!1,a.removeClass(i,Io),a.addClass(i,Oo),_.$setDirty()),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){v.$modelValue!==s&&v.$$writeModelToScope()}var e=v.$$lastCommittedViewValue,r=e,i=g(r)?n:!0;if(i)for(var o=0;o<v.$parsers.length;o++)if(r=v.$parsers[o](r),g(r)){i=!1;break}w(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=m());var s=v.$modelValue,a=v.$options&&v.$options.allowInvalid;a&&(v.$modelValue=r,t()),v.$$runValidators(i,r,e,function(e){a||(v.$modelValue=e?r:n,t())})},this.$$writeModelToScope=function(){b(v.$modelValue),o(v.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){v.$viewValue=t,(!v.$options||v.$options.updateOnDefault)&&v.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=v.$options;i&&y(i.debounce)&&(n=i.debounce,w(n)?r=n:w(n[e])?r=n[e]:w(n["default"])&&(r=n["default"])),u.cancel(p),r?p=u(function(){v.$commitViewValue()},r):c.$$phase?v.$commitViewValue():t.$apply(function(){v.$commitViewValue()})},t.$watch(function(){var t=m();if(t!==v.$modelValue){v.$modelValue=t;for(var e=v.$formatters,r=e.length,i=t;r--;)i=e[r](i);v.$viewValue!==i&&(v.$viewValue=v.$$lastCommittedViewValue=i,v.$render(),v.$$runValidators(n,t,i,d))}return t})}],Lo=function(){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ro,priority:1,compile:function(t){return t.addClass(Io).addClass(Bo).addClass(Co),{pre:function(t,e,n,r){var i=r[0],o=r[1]||lo;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(t,e,n,r){var i=r[0];i.$options&&i.$options.updateOn&&e.on(i.$options.updateOn,function(t){i.$$debounceViewValueCommit(t&&t.type)}),e.on("blur",function(){i.$touched||t.$apply(function(){i.$setTouched()})})}}}}},qo=m({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Mo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Fo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var s,a=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(_(t)&&t.length>0&&(t=new RegExp(t)),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,z(e));s=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||g(s)||s.test(t)}}}}},Po=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("maxlength",function(t){i=h(t)||0,r.$validate()}),r.$validators.maxlength=function(t,e){return r.$isEmpty(t)||e.length<=i}}}}},Uo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=h(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(t)||e.length>=i}}}}},Ho=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var s=e.attr(r.$attr.ngList)||", ",a="false"!==r.ngTrim,u=a?ti(s):s,c=function(t){if(!g(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(a?ti(t):t)}),e}};i.$parsers.push(c),i.$formatters.push(function(t){return Qr(t)?t.join(s):n}),i.$isEmpty=function(t){return!t||!t.length}}}},zo=/^(true|false|\d+)$/,Vo=function(){return{restrict:"A",priority:100,compile:function(t,e){return zo.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Go=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=ti(this.$options.updateOn.replace(So,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Wo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],Ko=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var s=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,s.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],Xo=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),s=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(s,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Jo=Br("",!0),Zo=Br("Odd",0),Yo=Br("Even",1),Qo=vr({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),ts=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],es={},ns={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Ke("ng-"+t);es[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var s=n(o[e]);return function(e,n){n.on(t,function(n){var i=function(){s(e,{$event:n})};ns[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var rs=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,u,c;n.$watch(i.ngIf,function(n){n?u||s(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),a={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),a&&(c=ae(a.clone),t.leave(c).then(function(){c=null}),a=null))})}}}],is=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Jr.noop,compile:function(i,o){var s=o.ngInclude||o.src,a=o.onload||"",u=o.autoscroll;return function(i,o,c,l,f){var h,p,d,v=0,m=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){p=null}),p=d,d=null)};i.$watch(r.parseAsResourceUrl(s),function(r){var s=function(){!y(u)||u&&!i.$eval(u)||e()},c=++v;r?(t(r,!0).then(function(t){if(c===v){var e=i.$new();l.template=t;var u=f(e,function(t){m(),n.enter(t,null,o).then(s)});h=e,d=u,h.$emit("$includeContentLoaded",r),i.$eval(a)}},function(){c===v&&(m(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(m(),l.template=null)})}}}}],os=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(r,i,o,s){return/SVG/.test(i[0].toString())?(i.empty(),void t(ve(s.template,e).childNodes)(r,function(t){i.append(t)},n,n,i)):(i.html(s.template),void t(i.contents())(r))}}}],ss=vr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),as=vr({terminal:!0,priority:1e3}),us=["$locale","$interpolate",function(t,e){var n=/{}/g;return{restrict:"EA",link:function(r,i,s){var a=s.count,u=s.$attr.when&&i.attr(s.$attr.when),c=s.offset||0,l=r.$eval(u)||{},f={},h=e.startSymbol(),p=e.endSymbol(),d=/^when(Minus)?(.+)$/;o(s,function(t,e){d.test(e)&&(l[Rr(e.replace("when","").replace("Minus","-"))]=i.attr(s.$attr[e]))}),o(l,function(t,r){f[r]=e(t.replace(n,h+a+"-"+c+p))}),r.$watch(function(){var e=parseFloat(r.$eval(a));return isNaN(e)?"":(e in l||(e=t.pluralCat(e-c)),f[e](r))},function(t){i.text(t)})}}}],cs=["$parse","$animate",function(t,s){var a="$$NG_REMOVED",u=r("ngRepeat"),c=function(t,e,n,r,i,o,s){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},f=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,h){var p=h.ngRepeat,d=e.createComment(" end ngRepeat: "+p+" "),v=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!v)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=v[1],g=v[2],y=v[3],b=v[4];if(v=m.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!v)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var _=v[3]||v[1],w=v[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(y)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var $,x,E,S,A={$id:Re};return b?$=t(b):(E=function(t,e){return Re(e)},S=function(t){return t}),function(t,e,r,h,v){$&&(x=function(e,n,r){return w&&(A[w]=e),A[_]=n,A.$index=r,$(t,A)});var m=ue();t.$watchCollection(g,function(r){var h,g,b,$,A,T,k,C,j,I,O,B,D=e[0],N=ue();if(y&&(t[y]=r),i(r))j=r,C=x||E;else{C=x||S,j=[];for(var R in r)r.hasOwnProperty(R)&&"$"!=R.charAt(0)&&j.push(R);j.sort()}for($=j.length,O=new Array($),h=0;$>h;h++)if(A=r===j?h:j[h],T=r[A],k=C(A,T,h),m[k])I=m[k],delete m[k],N[k]=I,O[h]=I;else{if(N[k])throw o(O,function(t){t&&t.scope&&(m[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,k,U(T));O[h]={id:k,scope:n,clone:n},N[k]=!0}for(var L in m){if(I=m[L],B=ae(I.clone),s.leave(B),B[0].parentNode)for(h=0,g=B.length;g>h;h++)B[h][a]=!0;I.scope.$destroy()}for(h=0;$>h;h++)if(A=r===j?h:j[h],T=r[A],I=O[h],I.scope){b=D;do b=b.nextSibling;while(b&&b[a]);l(I)!=b&&s.move(ae(I.clone),null,Ur(D)),D=f(I),c(I.scope,h,_,T,w,A,$)}else v(function(t,e){I.scope=e;var n=d.cloneNode(!1);t[t.length++]=n,s.enter(t,null,Ur(D)),D=n,I.clone=t,N[I.id]=I,c(I.scope,h,_,T,w,A,$)});m=N})}}}}],ls="ng-hide",fs="ng-hide-animate",hs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,ls,{tempClasses:fs})})}}}],ps=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,ls,{tempClasses:fs})})}}}],ds=vr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),vs=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,s){var a=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(a,function(n){var r,i;for(r=0,i=l.length;i>r;++r)t.cancel(l[r]);for(l.length=0,r=0,i=f.length;i>r;++r){var a=ae(c[r].clone);f[r].$destroy();var p=l[r]=t.leave(a);p.then(h(l,r))}c.length=0,f.length=0,(u=s.cases["!"+n]||s.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var s={clone:r};c.push(s),t.enter(r,o.parent(),o)})})})}}}],ms=vr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),gs=vr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),ys=vr({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",z(e));o(function(t){e.empty(),e.append(t)})}}),bs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],_s=r("ngOptions"),ws=m({restrict:"A",terminal:!0}),$s=["$compile","$parse",function(t,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var r,i,o=this,s={},u=a;o.databound=n.ngModel,o.init=function(t,e,n){u=t,r=e,i=n},o.addOption=function(e,n){oe(e,'"option value"'),s[e]=!0,u.$viewValue==e&&(t.val(e),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(t){this.hasOption(t)&&(delete s[t],u.$viewValue==t&&this.renderUnknownOption(t))},o.renderUnknownOption=function(e){var n="? "+Re(e)+" ?";i.val(n),t.prepend(i),t.val(n),i.prop("selected",!0)},o.hasOption=function(t){return s.hasOwnProperty(t)},e.$on("$destroy",function(){o.renderUnknownOption=d})}],link:function(a,u,c,l){function f(t,e,n,r){n.$render=function(){var t=n.$viewValue;r.hasOption(t)?(S.parent()&&S.remove(),e.val(t),""===t&&d.prop("selected",!0)):g(t)&&d?e.val(""):r.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){S.parent()&&S.remove(),n.$setViewValue(e.val())})})}function h(t,e,n){var r;n.$render=function(){var t=new Le(n.$viewValue);o(e.find("option"),function(e){e.selected=y(t.get(e.value))})},t.$watch(function(){L(r,n.$viewValue)||(r=R(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function p(e,a,u){function c(t,n,r){return L[T]=r,j&&(L[j]=n),t(e,L)}function l(){e.$apply(function(){var t,n=B(e)||[];if(b)t=[],o(a.val(),function(e){t.push(f(e,n[e]))});else{var r=a.val();t=f(r,n[r])}u.$setViewValue(t),g()})}function f(t,e){if("?"===t)return n;if(""===t)return null;var r=C?C:O;return c(r,t,e)}function h(){var t,n=B(e);if(n&&Qr(n)){t=new Array(n.length);for(var r=0,i=n.length;i>r;r++)t[r]=c(A,r,n[r]);return t}if(n){t={};for(var o in n)n.hasOwnProperty(o)&&(t[o]=c(A,o,n[o]))}return t}function p(t){var e;if(b)if(N&&Qr(t)){e=new Le([]);for(var n=0;n<t.length;n++)e.put(c(N,null,t[n]),!0)}else e=new Le(t);else N&&(t=c(N,null,t));return function(n,r){var i;return i=N?N:C?C:O,b?y(e.remove(c(i,n,r))):t==c(i,n,r)}}function d(){$||(e.$$postDigest(g),$=!0)}function m(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function g(){$=!1;var t,n,r,i,l,f,h,d,g,_,S,T,k,C,O,D,N={"":[]},L=[""],q=u.$viewValue,M=B(e)||[],F=j?s(M):M,P={},U=p(q),H=!1;for(T=0;_=F.length,_>T;T++)h=T,j&&(h=F[T],"$"===h.charAt(0))||(d=M[h],t=c(I,h,d)||"",(n=N[t])||(n=N[t]=[],L.push(t)),k=U(h,d),H=H||k,D=c(A,h,d),D=y(D)?D:"",n.push({id:j?F[T]:T,label:D,selected:k}));for(b||(w||null===q?N[""].unshift({id:"",label:"",selected:!H}):H||N[""].unshift({id:"?",label:"",selected:!0})),S=0,g=L.length;g>S;S++){for(t=L[S],n=N[t],R.length<=S?(i={element:E.clone().attr("label",t),label:n.label},l=[i],R.push(l),a.append(i.element)):(l=R[S],i=l[0],i.label!=t&&i.element.attr("label",i.label=t)),C=null,T=0,_=n.length;_>T;T++)r=n[T],(f=l[T+1])?(C=f.element,f.label!==r.label&&(m(P,f.label,!1),m(P,r.label,!0),C.text(f.label=r.label)),f.id!==r.id&&C.val(f.id=r.id),C[0].selected!==r.selected&&(C.prop("selected",f.selected=r.selected),Pr&&C.prop("selected",f.selected))):(""===r.id&&w?O=w:(O=x.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).text(r.label),l.push(f={element:O,label:r.label,id:r.id,selected:r.selected}),m(P,r.label,!0),C?C.after(O):i.element.append(O),C=O);for(T++;l.length>T;)r=l.pop(),m(P,r.label,!1),r.element.remove();o(P,function(t,e){t>0?v.addOption(e):0>t&&v.removeOption(e)})}for(;R.length>S;)R.pop()[0].element.remove()}var S;if(!(S=_.match(i)))throw _s("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",_,z(a));var A=r(S[2]||S[1]),T=S[4]||S[6],k=/ as /.test(S[0])&&S[1],C=k?r(k):null,j=S[5],I=r(S[3]||""),O=r(S[2]?S[1]:T),B=r(S[7]),D=S[8],N=D?r(S[8]):null,R=[[{element:a,label:""}]],L={};
w&&(t(w)(e),w.removeClass("ng-scope"),w.remove()),a.empty(),a.on("change",l),u.$render=g,e.$watchCollection(B,d),e.$watchCollection(h,d),b&&e.$watchCollection(function(){return u.$modelValue},d)}if(l[1]){for(var d,v=l[0],m=l[1],b=c.multiple,_=c.ngOptions,w=!1,$=!1,x=Ur(e.createElement("option")),E=Ur(e.createElement("optgroup")),S=x.clone(),A=0,T=u.children(),k=T.length;k>A;A++)if(""===T[A].value){d=w=T.eq(A);break}v.init(m,w,S),b&&(m.$isEmpty=function(t){return!t||0===t.length}),_?p(a,u,m):b?h(a,u,m):f(a,u,m,v)}}}}],xs=["$interpolate",function(t){var e={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(n,r){if(g(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",s=n.parent(),a=s.data(o)||s.parent().data(o);a&&a.databound||(a=e),i?t.$watch(i,function(t,e){r.$set("value",t),e!==t&&a.removeOption(e),a.addOption(t,n)}):a.addOption(r.value,n),n.on("$destroy",function(){a.removeOption(r.value)})}}}}],Es=m({restrict:"E",terminal:!1});return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ne(),le(Jr),void Ur(e).ready(function(){Z(e,Y)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),/**
 * @license AngularJS v1.3.0
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";e.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(t,r){function i(){var t,i,o,u;for(t in a)l(s[t])&&r.cookies(t,n);for(t in s)i=s[t],e.isString(i)||(i=""+i,s[t]=i),i!==a[t]&&(r.cookies(t,i),u=!0);if(u){u=!1,o=r.cookies();for(t in s)s[t]!==o[t]&&(l(o[t])?delete s[t]:s[t]=o[t],u=!0)}}var o,s={},a={},u=!1,c=e.copy,l=e.isUndefined;return r.addPollFn(function(){var e=r.cookies();o!=e&&(o=e,c(e,a),c(e,s),u&&t.$apply())})(),u=!0,t.$watch(i),s}]).factory("$cookieStore",["$cookies",function(t){return{get:function(n){var r=t[n];return r?e.fromJson(r):r},put:function(n,r){t[n]=e.toJson(r)},remove:function(e){delete t[e]}}}])}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.11
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function r(t,e){return N(new(N(function(){},{prototype:t})),e)}function i(t){return D(arguments,function(e){e!==t&&D(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function s(t){if(Object.keys)return Object.keys(t);var n=[];return e.forEach(t,function(t,e){n.push(e)}),n}function a(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in t&&t[r]===e)return r;return-1}function u(t,e,n,r){var i,u=o(n,r),c={},l=[];for(var f in u)if(u[f].params&&(i=s(u[f].params),i.length))for(var h in i)a(l,i[h])>=0||(l.push(i[h]),c[i[h]]=t[i[h]]);return N({},c,e)}function c(t,e,n){if(!n){n=[];for(var r in t)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!=e[o])return!1}return!0}function l(t,e){var n={};return D(t,function(t){n[t]=e[t]}),n}function f(t,e){var r=1,o=2,s={},a=[],u=s,c=N(t.when(s),{$$promises:s,$$values:s});this.study=function(s){function l(t,n){if(d[n]!==o){if(p.push(n),d[n]===r)throw p.splice(0,p.indexOf(n)),new Error("Cyclic dependency: "+p.join(" -> "));if(d[n]=r,I(t))h.push(n,[function(){return e.get(t)}],a);else{var i=e.annotate(t);D(i,function(t){t!==n&&s.hasOwnProperty(t)&&l(s[t],t)}),h.push(n,t,i)}p.pop(),d[n]=o}}function f(t){return O(t)&&t.then&&t.$$promises}if(!O(s))throw new Error("'invocables' must be an object");var h=[],p=[],d={};return D(s,l),s=p=d=null,function(r,o,s){function a(){--y||(b||i(g,o.$$values),v.$$values=g,v.$$promises=!0,delete v.$$inheritedValues,d.resolve(g))}function l(t){v.$$failure=t,d.reject(t)}function p(n,i,o){function u(t){f.reject(t),l(t)}function c(){if(!C(v.$$failure))try{f.resolve(e.invoke(i,s,g)),f.promise.then(function(t){g[n]=t,a()},u)}catch(t){u(t)}}var f=t.defer(),h=0;D(o,function(t){m.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(h++,m[t].then(function(e){g[t]=e,--h||c()},u))}),h||c(),m[n]=f.promise}if(f(r)&&s===n&&(s=o,o=r,r=null),r){if(!O(r))throw new Error("'locals' must be an object")}else r=u;if(o){if(!f(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=c;var d=t.defer(),v=d.promise,m=v.$$promises={},g=N({},r),y=1+h.length/3,b=!1;if(C(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&i(g,o.$$inheritedValues),o.$$values?(b=i(g,o.$$values),v.$$inheritedValues=o.$$values,a()):(o.$$inheritedValues&&(v.$$inheritedValues=o.$$inheritedValues),N(m,o.$$promises),o.then(a,l));for(var _=0,w=h.length;w>_;_+=3)r.hasOwnProperty(h[_])?a():p(h[_],h[_+1],h[_+2]);return v}},this.resolve=function(t,e,n,r){return this.study(t)(e,n,r)}}function h(t,e,n){this.fromConfig=function(t,e,n){return C(t.template)?this.fromString(t.template,e):C(t.templateUrl)?this.fromUrl(t.templateUrl,e):C(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return j(t)?t(e):t},this.fromUrl=function(n,r){return j(n)&&(n=n(r)),null==n?null:t.get(n,{cache:e}).then(function(t){return t.data})},this.fromProvider=function(t,e,r){return n.invoke(t,null,r||{params:e})}}function p(t,r){function i(t){return C(t)?this.type.decode(t):v.$$getDefaultValue(this)}function o(e,n,r){if(!/^\w+(-+\w+)*$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(p[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");p[e]=N({type:n||new d,$value:i},r)}function s(t,e,n){var r=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return r;var i=n?"?":"";return r+i+"("+e+")"+i}function a(t){if(!r.params||!r.params[t])return{};var e=r.params[t];return O(e)?e:{value:e}}r=e.isObject(r)?r:{};var u,c=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",f=0,h=this.segments=[],p=this.params={};this.source=t;for(var m,g,y,b,_;(u=c.exec(t))&&(m=u[2]||u[3],g=u[4]||("*"==u[1]?".*":"[^/]*"),y=t.substring(f,u.index),b=this.$types[g]||new d({pattern:new RegExp(g)}),_=a(m),!(y.indexOf("?")>=0));)l+=s(y,b.$subPattern(),C(_.value)),o(m,b,_),h.push(y),f=c.lastIndex;y=t.substring(f);var w=y.indexOf("?");if(w>=0){var $=this.sourceSearch=y.substring(w);y=y.substring(0,w),this.sourcePath=t.substring(0,f+w),D($.substring(1).split(/[&?]/),function(t){o(t,null,a(t))})}else this.sourcePath=t,this.sourceSearch="";l+=s(y)+(r.strict===!1?"/?":"")+"$",h.push(y),this.regexp=new RegExp(l,r.caseInsensitive?"i":n),this.prefix=h[0]}function d(t){N(this,t)}function v(){function t(){return{strict:o,caseInsensitive:i}}function e(t){return j(t)||B(t)&&j(t[t.length-1])}function n(){D(a,function(t){if(p.prototype.$types[t.name])throw new Error("A type named '"+t.name+"' has already been defined.");var n=new d(e(t.def)?r.invoke(t.def):t.def);p.prototype.$types[t.name]=n})}var r,i=!1,o=!0,s=!0,a=[],u={"int":{decode:function(t){return parseInt(t,10)},is:function(t){return C(t)?this.decode(t.toString())===t:!1},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0===parseInt(t,10)?!1:!0},is:function(t){return t===!0||t===!1},pattern:/0|1/},string:{pattern:/[^\/]*/},date:{equals:function(t,e){return t.toISOString()===e.toISOString()},decode:function(t){return new Date(t)},encode:function(t){return[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-")},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/}};v.$$getDefaultValue=function(t){if(!e(t.value))return t.value;if(!r)throw new Error("Injectable functions cannot be called at configuration time");return r.invoke(t.value)},this.caseInsensitive=function(t){i=t},this.strictMode=function(t){o=t},this.compile=function(e,n){return new p(e,N(t(),n))},this.isMatcher=function(t){if(!O(t))return!1;var e=!0;return D(p.prototype,function(n,r){j(n)&&(e=e&&C(t[r])&&j(t[r]))}),e},this.type=function(t,e){return C(e)?(a.push({name:t,def:e}),s||n(),this):p.prototype.$types[t]},this.$get=["$injector",function(t){return r=t,s=!1,p.prototype.$types={},n(),D(u,function(t,e){p.prototype.$types[e]||(p.prototype.$types[e]=new d(t))}),this}]}function m(t,e){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function i(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function o(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return C(r)?r:!0}function s(e,n,r,i){function o(t,e,n){return"/"===h?t:e?h.slice(0,-1)+t:n?h.slice(1)+t:t}function s(t){function n(t){var n=t(r,e);return n?(I(n)&&e.replace().url(n),!0):!1}if(!t||!t.defaultPrevented){var i,o=u.length;for(i=0;o>i;i++)if(n(u[i]))return;c&&n(c)}}function f(){return a=a||n.$on("$locationChangeSuccess",s)}var h=i.baseHref(),p=e.url();return l||f(),{sync:function(){s()},listen:function(){return f()},update:function(t){return t?void(p=e.url()):void(e.url()!==p&&(e.url(p),e.replace()))},push:function(t,n,r){e.url(t.format(n||{})),r&&r.replace&&e.replace()},href:function(n,r,i){if(!n.validates(r))return null;var s=t.html5Mode(),a=n.format(r);if(i=i||{},s||null===a||(a="#"+t.hashPrefix()+a),a=o(a,s,i.absolute),!i.absolute||!a)return a;var u=!s&&a?"/":"",c=e.port();return c=80===c||443===c?"":":"+c,[e.protocol(),"://",e.host(),c,u,a].join("")}}}var a,u=[],c=null,l=!1;this.rule=function(t){if(!j(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(I(t)){var e=t;t=function(){return e}}else if(!j(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,n){var s,a=I(n);if(I(t)&&(t=e.compile(t)),!a&&!j(n)&&!B(n))throw new Error("invalid 'handler' in when()");var u={matcher:function(t,n){return a&&(s=e.compile(n),n=["$match",function(t){return s.format(t)}]),N(function(e,r){return o(e,n,t.exec(r.path(),r.search()))},{prefix:I(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(s=e,e=["$match",function(t){return i(s,t)}]),N(function(n,r){return o(n,e,t.exec(r.path()))},{prefix:r(t)})}},c={matcher:e.isMatcher(t),regex:t instanceof RegExp};for(var l in c)if(c[l])return this.rule(u[l](t,n));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),l=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function g(t,i){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function a(t,e){if(!t)return n;var r=I(t),i=r?t:t.name,s=o(i);if(s){if(!e)throw new Error("No reference point given for path '"+i+"'");for(var a=i.split("."),u=0,c=a.length,l=e;c>u;u++)if(""!==a[u]||0!==u){if("^"!==a[u])break;if(!l.parent)throw new Error("Path '"+i+"' not valid for state '"+e.name+"'");l=l.parent}else l=e;a=a.slice(u).join("."),i=l.name+(l.name&&a?".":"")+a}var f=w[i];return!f||!r&&(r||f!==t&&f.self!==t)?n:f}function f(t,e){$[t]||($[t]=[]),$[t].push(e)}function h(e){e=r(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!I(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(w.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):I(e.parent)?e.parent:"";if(i&&!w[i])return f(i,e.self);for(var o in E)j(E[o])&&(e[o]=E[o](e,E.$delegates[o]));if(w[n]=e,!e[x]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){_.$current.navigable==e&&c(t,n)||_.transitionTo(e,t,{location:!1})}]),$[n])for(var s=0;s<$[n].length;s++)h($[n][s]);return e}function p(t){return t.indexOf("*")>-1}function d(t){var e=t.split("."),n=_.$current.name.split(".");if("**"===e[0]&&(n=n.slice(n.indexOf(e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(n.indexOf(e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length)return!1;for(var r=0,i=e.length;i>r;r++)"*"===e[r]&&(n[r]="*");return n.join("")===e.join("")}function v(t,e){return I(t)&&!C(e)?E[t]:j(e)&&I(t)?(E[t]&&!E.$delegates[t]&&(E.$delegates[t]=E[t]),E[t]=e,this):this}function m(t,e){return O(t)?e=t:e.name=t,h(e),this}function g(t,i,o,f,h,v,m){function g(e,n,r,o){var s=t.$broadcast("$stateNotFound",e,n,r);if(s.defaultPrevented)return m.update(),A;if(!s.retry)return null;if(o.$retry)return m.update(),T;var a=_.transition=i.when(s.retry);return a.then(function(){return a!==_.transition?E:(e.options.$retry=!0,_.transitionTo(e.to,e.toParams,e.options))},function(){return A}),m.update(),a}function $(t,n,r,a,u){var c=r?n:l(s(t.params),n),p={$stateParams:c};u.resolve=h.resolve(t.resolve,p,u.resolve,t);var d=[u.resolve.then(function(t){u.globals=t})];return a&&d.push(a),D(t.views,function(n,r){var i=n.resolve&&n.resolve!==t.resolve?n.resolve:{};i.$template=[function(){return o.load(r,{view:n,locals:p,params:c})||""}],d.push(h.resolve(i,p,u.resolve,t).then(function(o){if(j(n.controllerProvider)||B(n.controllerProvider)){var s=e.extend({},i,p);o.$$controller=f.invoke(n.controllerProvider,null,s)}else o.$$controller=n.controller;o.$$state=t,o.$$controllerAs=n.controllerAs,u[r]=o}))}),i.all(d).then(function(){return u})}var E=i.reject(new Error("transition superseded")),S=i.reject(new Error("transition prevented")),A=i.reject(new Error("transition aborted")),T=i.reject(new Error("transition failed"));return b.locals={resolve:null,globals:{$stateParams:{}}},_={params:{},current:b.self,$current:b,transition:null},_.reload=function(){_.transitionTo(_.current,v,{reload:!0,inherit:!1,notify:!1})},_.go=function(t,e,n){return _.transitionTo(t,e,N({inherit:!0,relative:_.$current},n))},_.transitionTo=function(e,n,o){n=n||{},o=N({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var h,p=_.$current,d=_.params,w=p.path,A=a(e,o.relative);if(!C(A)){var T={to:e,toParams:n,options:o},k=g(T,p.self,d,o);if(k)return k;if(e=T.to,n=T.toParams,o=T.options,A=a(e,o.relative),!C(A)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(A[x])throw new Error("Cannot transition to abstract state '"+e+"'");o.inherit&&(n=u(v,n||{},_.$current,A)),e=A;var j=e.path,I=0,O=j[I],B=b.locals,D=[];if(!o.reload)for(;O&&O===w[I]&&c(n,d,O.ownParams);)B=D[I]=O.locals,I++,O=j[I];if(y(e,p,B,o))return e.self.reloadOnSearch!==!1&&m.update(),_.transition=null,i.when(_.current);if(n=l(s(e.params),n||{}),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,p.self,d).defaultPrevented)return m.update(),S;for(var L=i.when(B),q=I;q<j.length;q++,O=j[q])B=D[q]=r(B),L=$(O,n,O===e,L,B);var M=_.transition=L.then(function(){var r,i,s;if(_.transition!==M)return E;for(r=w.length-1;r>=I;r--)s=w[r],s.self.onExit&&f.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(r=I;r<j.length;r++)i=j[r],i.locals=D[r],i.self.onEnter&&f.invoke(i.self.onEnter,i.self,i.locals.globals);return _.transition!==M?E:(_.$current=e,_.current=e.self,_.params=n,R(_.params,v),_.transition=null,o.location&&e.navigable&&m.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,p.self,d),m.update(!0),_.current)},function(r){return _.transition!==M?E:(_.transition=null,h=t.$broadcast("$stateChangeError",e.self,n,p.self,d,r),h.defaultPrevented||m.update(),i.reject(r))});return M},_.is=function(t,r){var i=a(t);return C(i)?_.$current!==i?!1:C(r)&&null!==r?e.equals(v,r):!0:n},_.includes=function(t,e){if(I(t)&&p(t)){if(!d(t))return!1;t=_.$current.name}var r=a(t);return C(r)?C(_.$current.includes[r.name])?c(e,v):!1:n},_.href=function(t,e,n){n=N({lossy:!0,inherit:!0,absolute:!1,relative:_.$current},n||{});var r=a(t,n.relative);if(!C(r))return null;n.inherit&&(e=u(v,e||{},_.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&i.url?m.href(i.url,l(s(r.params),e||{}),{absolute:n.absolute}):null},_.get=function(t,e){if(0===arguments.length)return s(w).map(function(t){return w[t].self});var n=a(t,e);return n&&n.self?n.self:null},_}function y(t,e,n,r){return t!==e||(n!==e.locals||r.reload)&&t.self.reloadOnSearch!==!1?void 0:!0}var b,_,w={},$={},x="abstract",E={parent:function(t){if(C(t.parent)&&t.parent)return a(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?a(e[1]):b},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=N({},t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(I(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||b).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},params:function(t){return t.params?t.params:t.url?t.url.params:t.parent.params},views:function(t){var e={};return D(C(t.views)?t.views:{"":t},function(n,r){r.indexOf("@")<0&&(r+="@"+t.parent.name),e[r]=n}),e},ownParams:function(t){if(t.params=t.params||{},!t.parent)return s(t.params);var e={};D(t.params,function(t,n){e[n]=!0}),D(t.parent.params,function(n,r){if(!e[r])throw new Error("Missing required parameter '"+r+"' in state '"+t.name+"'");e[r]=!1});var n=[];return D(e,function(t,e){t&&n.push(e)}),n},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?N({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};b=h({name:"",url:"^",views:null,"abstract":!0}),b.navigable=null,this.decorator=v,this.state=m,this.$get=g,g.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter"]}function y(){function t(t,e){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=N(o,r),r.view&&(i=e.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&t.$broadcast("$viewContentLoading",r),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function b(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){n(function(){t[0].scrollIntoView()},0,!1)}}]}function _(t,n,r){function i(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function o(t,e){var n=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(u)return{enter:function(t,e,n){u.enter(t,null,e,n)},leave:function(t,e){u.leave(t,e)}};if(a){var r=a&&a(e,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return n()}var s=i(),a=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,i,s){return function(n,i,a){function u(){l&&(l.remove(),l=null),h&&(h.$destroy(),h=null),f&&(m.leave(f,function(){l=null}),l=f,f=null)}function c(o){var c,l=$(a,i.inheritedData("$uiView")),g=l&&t.$current&&t.$current.locals[l];if(o||g!==p){c=n.$new(),p=t.$current.locals[l];var y=s(c,function(t){m.enter(t,i,function(){(e.isDefined(v)&&!v||n.$eval(v))&&r(t)}),u()});f=y,h=c,h.$emit("$viewContentLoaded"),h.$eval(d)}}var l,f,h,p,d=a.onload||"",v=a.autoscroll,m=o(a,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function w(t,e,n){return{restrict:"ECA",priority:-400,compile:function(r){var i=r.html();return function(r,o,s){var a=n.$current,u=$(s,o.inheritedData("$uiView")),c=a&&a.locals[u];if(c){o.data("$uiView",{name:u,state:c.$$state}),o.html(c.$template?c.$template:i);var l=t(o.contents());if(c.$$controller){c.$scope=r;var f=e(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=f),o.data("$ngControllerController",f),o.children().data("$ngControllerController",f)}l(r)}}}}}function $(t,e){var n=t.uiView||t.name||"";return n.indexOf("@")>=0?n:n+"@"+(e?e.state.name:"")}function x(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function E(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function S(t,n){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,s,a){var u=x(s.uiSref,t.current.name),c=null,l=E(o)||t.$current,f="FORM"===o[0].nodeName,h=f?"action":"href",p=!0,d={relative:l,inherit:!0},v=i.$eval(s.uiSrefOpts)||{};e.forEach(r,function(t){t in v&&(d[t]=v[t])});var m=function(e){if(e&&(c=e),p){var n=t.href(u.state,c,d),r=a[1]||a[0];return r&&r.$$setStateInfo(u.state,c),null===n?(p=!1,!1):void(o[0][h]=n)}};u.paramExpr&&(i.$watch(u.paramExpr,function(t){t!==c&&m(t)},!0),c=i.$eval(u.paramExpr)),m(),f||o.bind("click",function(e){var r=e.which||e.button;if(!(r>1||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var i=n(function(){t.go(u.state,c,d)});e.preventDefault(),e.preventDefault=function(){n.cancel(i)}}})}}}function A(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(r,i,o){function s(){a()?i.addClass(h):i.removeClass(h)}function a(){return"undefined"!=typeof o.uiSrefActiveEq?t.$current.self===l&&u():t.includes(l.name)&&u()}function u(){return!f||c(f,e)}var l,f,h;h=n(o.uiSrefActiveEq||o.uiSrefActive||"",!1)(r),this.$$setStateInfo=function(e,n){l=t.get(e,E(i)),f=n,s()},r.$on("$stateChangeSuccess",s)}]}}function T(t){return function(e){return t.is(e)}}function k(t){return function(e){return t.includes(e)}}var C=e.isDefined,j=e.isFunction,I=e.isString,O=e.isObject,B=e.isArray,D=e.forEach,N=e.extend,R=e.copy;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),f.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",f),h.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",h),p.prototype.concat=function(t,e){return new p(this.sourcePath+t+this.sourceSearch,e)},p.prototype.toString=function(){return this.source},p.prototype.exec=function(t,e){var n=this.regexp.exec(t);if(!n)return null;e=e||{};var r,i,o,s=this.parameters(),a=s.length,u=this.segments.length-1,c={};if(u!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;u>r;r++)o=s[r],i=this.params[o],c[o]=i.$value(n[r+1]);for(;a>r;r++)o=s[r],i=this.params[o],c[o]=i.$value(e[o]);return c},p.prototype.parameters=function(t){return C(t)?this.params[t]||null:s(this.params)},p.prototype.validates=function(t){var e,n,r=!0,i=this;return D(t,function(t,o){i.params[o]&&(n=i.params[o],e=!t&&C(n.value),r=r&&(e||n.type.is(t)))}),r},p.prototype.format=function(t){var e=this.segments,n=this.parameters();if(!t)return e.join("").replace("//","/");var r,i,o,s,a,u,c=e.length-1,l=n.length,f=e[0];if(!this.validates(t))return null;for(r=0;c>r;r++)s=n[r],o=t[s],a=this.params[s],(C(o)||"/"!==e[r]&&"/"!==e[r+1])&&(null!=o&&(f+=encodeURIComponent(a.type.encode(o))),f+=e[r+1]);for(;l>r;r++)s=n[r],o=t[s],null!=o&&(u=B(o),u&&(o=o.map(encodeURIComponent).join("&"+s+"=")),f+=(i?"&":"?")+s+"="+(u?o:encodeURIComponent(o)),i=!0);return f},p.prototype.$types={},d.prototype.is=function(){return!0},d.prototype.encode=function(t){return t},d.prototype.decode=function(t){return t},d.prototype.equals=function(t,e){return t==e},d.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},d.prototype.pattern=/.*/,e.module("ui.router.util").provider("$urlMatcherFactory",v),m.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",m),g.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").value("$stateParams",{}).provider("$state",g),y.$inject=[],e.module("ui.router.state").provider("$view",y),e.module("ui.router.state").provider("$uiViewScroll",b),_.$inject=["$state","$injector","$uiViewScroll"],w.$inject=["$compile","$controller","$state"],e.module("ui.router.state").directive("uiView",_),e.module("ui.router.state").directive("uiView",w),S.$inject=["$state","$timeout"],A.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",S).directive("uiSrefActive",A).directive("uiSrefActiveEq",A),T.$inject=["$state"],k.$inject=["$state"],e.module("ui.router.state").filter("isState",T).filter("includedByState",k)}(window,window.angular),function(t){"use strict";function e(){}e.currencyCodes={X:"XRP",B:"BTC",U:"USD",E:"EUR",G:"GBP",Y:"JPY",A:"AUD",D:"CAD",R:"RUB",H:"UAH",I:"ILS",C:"CNY"},e.codeCurrency={},Object.keys(e.currencyCodes).map(function(t){e.codeCurrency[e.currencyCodes[t]]=t}),e.currencies=Object.keys(e.currencyCodes).map(function(t){return e.currencyCodes[t]}),e.yearCodes={A:2014,B:2015,C:2016,D:2017,E:2018,F:2019,G:2020},e.monthCodes={F:0,G:1,H:2,J:3,K:4,M:5,N:6,Q:7,U:8,V:9,X:10,Z:11},e.monthLetters=Object.keys(e.monthCodes).map(function(t){return t}),e.getNowUTC=function(){var t=new Date;return new Date(t.getTime()+60*t.getTimezoneOffset()*1e3)},e.isSymbol=function(t){return"string"!=typeof t?!1:3!==t.length?!1:-1!==e.currencies.indexOf(t)?!1:e.currencyCodes.hasOwnProperty(t[0])&&e.yearCodes.hasOwnProperty(t[1])&&e.monthCodes.hasOwnProperty(t[2])?!0:!1},e.isCurrency=function(t){return e.currencies.indexOf(t)>-1},e.getNumPeriods=function(t,e){var n=e.getTime()-t.getTime();return 0>=n?0:n/1e3/60/60/24/30.5},e.getExpDate=function(t){var n=e.yearCodes[t[1]],r=e.monthCodes[t[2]];return r++,12===r&&(r=0,n++),new Date(Date.UTC(n,r,1))},e.YTM=function(t,n,r,i){i=i||1;var o=e.getNumPeriods(t,n);return 0===o?(i-r)/r:Math.pow(i/r,1/o)-1},e.YTMNow=function(t,n,r){return e.YTM(e.getNowUTC(),t,n,r)},e.YTMNowSymbol=function(t,n,r){var i=e.getExpDate(t);return e.YTM(e.getNowUTC(),i,n,r)},e.YTMSymbol=function(t,n,r,i){var o=e.getExpDate(n);return e.YTM(t,o,r,i)},e.PV=function(t,n,r,i){i=i||1;var o=e.getNumPeriods(t,n);return 0===o?i/(r+1):i/Math.pow(1+r,o)},e.PVNow=function(t,n,r){return e.PV(e.getNowUTC(),t,n,r)},e.PVNowSymbol=function(t,n,r){var i=e.getExpDate(t);return e.PV(e.getNowUTC(),i,n,r)},e.PVSymbol=function(t,n,r,i){var o=e.getExpDate(n);return e.PV(t,o,r,i)},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.rippleBonds=e):"function"==typeof define&&define.amd?define(function(){return e}):t.rippleBonds=e}(this),angular.module("percentage",[]).filter("percentage",["$window",function(t){return function(e,n,r){return n=angular.isNumber(n)?n:3,r=r||"%",t.isNaN(e)?"":Math.round(e*Math.pow(10,n+2))/Math.pow(10,n)+r}}]);var ripple=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){function r(t){var n=e[t];Object.keys(n.prototype).forEach(function(t){var e=/([A-Z]{1})[a-z]+/g;if(e.test(t)){var r=t.replace(e,function(t){return"_"+t.toLowerCase()});n.prototype[r]=n.prototype[t]}})}e.Remote=n(1).Remote,e.Request=n(2).Request,e.Amount=n(3).Amount,e.Account=n(4).Account,e.Transaction=n(5).Transaction,e.Currency=n(6).Currency,e.Base=n(7).Base,e.UInt160=n(8).UInt160,e.UInt256=n(9).UInt256,e.Seed=n(10).Seed,e.Meta=n(11).Meta,e.SerializedObject=n(12).SerializedObject,e.RippleError=n(13).RippleError,e.Message=n(14).Message,e.VaultClient=n(15).VaultClient,e.AuthInfo=n(16).AuthInfo,e.RippleTxt=n(17).RippleTxt,e.binformat=n(18),e.utils=n(19),e.Server=n(20).Server,e.Wallet=n(21),e.sjcl=n(19).sjcl,e.config=n(22),["Remote","Request","Transaction","Account","Server"].forEach(r)},function(t,e,n){function r(t){function e(t){"transaction_all"===t&&(!s._transaction_subs&&s.isConnected()&&s.request_subscribe("transactions").request(),s._transaction_subs+=1)}function n(t){"transaction_all"===t&&(s._transaction_subs-=1,!s._transaction_subs&&s.isConnected()&&s.request_unsubscribe("transactions").request())}function r(){s._pingInterval=setInterval(function(){var t=s.requestPing();t.on("error",function(){}),t.broadcast()},1e3*t.ping)}function o(){s.reconnect()}i.call(this);var s=this,t=t||{};if(this.trusted=Boolean(t.trusted),this.state="offline",this._server_fatal=!1,this._allow_partial_history="boolean"==typeof t.allow_partial_history?t.allow_partial_history:!0,this.local_sequence=Boolean(t.local_sequence),this.local_fee="boolean"==typeof t.local_fee?t.local_fee:!0,this.local_signing="boolean"==typeof t.local_signing?t.local_signing:!0,this.canonical_signing="boolean"==typeof t.canonical_signing?t.canonical_signing:!0,this.fee_cushion="number"==typeof t.fee_cushion?t.fee_cushion:1.2,this.max_fee="number"==typeof t.max_fee?t.max_fee:1/0,this._ledger_current_index=void 0,this._ledger_hash=void 0,this._ledger_time=void 0,this._stand_alone=void 0,this._testnet=void 0,this.trace=Boolean(t.trace),this._transaction_subs=0,this._connection_count=0,this._connected=!1,this._should_connect=!0,this._submission_timeout=1e3*("number"==typeof t.submission_timeout?t.submission_timeout:20),this._received_tx=a({max:100}),this._cur_path_find=null,this.local_signing&&(this.local_sequence=!0,this.local_fee=!0),this._servers=[],this._primary_server=void 0,this.accounts={},this._accounts={},this._books={},this.secrets={},this.ledgers={current:{account_root:{}}},"number"!=typeof this._submission_timeout)throw new TypeError('Remote "submission_timeout" configuration is not a Number');if("number"!=typeof this.max_fee)throw new TypeError('Remote "max_fee" configuration is not a Number');if("number"!=typeof this.fee_cushion)throw new TypeError('Remote "fee_cushion" configuration is not a Number');if(!/^(undefined|boolean)$/.test(typeof t.trace))throw new TypeError('Remote "trace" configuration is not a Boolean');if("boolean"!=typeof this.local_signing)throw new TypeError('Remote "local_signing" configuration is not a Boolean');if("boolean"!=typeof this.local_fee)throw new TypeError('Remote "local_fee" configuration is not a Boolean');if("boolean"!=typeof this.local_sequence)throw new TypeError('Remote "local_sequence" configuration is not a Boolean');if(!/^(undefined|number)$/.test(typeof t.ping))throw new TypeError('Remote "ping" configuration is not a Number');if(!/^(undefined|object)$/.test(typeof t.storage))throw new TypeError('Remote "storage" configuration is not an Object');!t.hasOwnProperty("servers")&&t.hasOwnProperty("websocket_ip")&&(t.servers=[{host:t.websocket_ip,port:t.websocket_port,secure:t.websocket_ssl,trusted:t.trusted}]),(t.servers||[]).forEach(function(t){s.addServer(t)});var u=t.maxListeners||t.max_listeners||0;this._servers.concat(this).forEach(function(t){t instanceof i&&t.setMaxListeners(u)}),this.on("newListener",e),this.on("removeListener",n),t.storage&&(this.storage=t.storage,this.once("connect",this.getPendingTransactions.bind(this))),t.ping&&this.on("connect",r),"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("online",o):window.attachEvent&&window.attachEvent("ononline",o))}var i=n(37).EventEmitter,o=n(43),s=n(38),a=n(48),u=n(20).Server,c=n(2).Request,u=n(20).Server,l=n(3).Amount,f=n(6).Currency,h=n(8).UInt160,p=n(5).Transaction,d=n(4).Account,v=n(11).Meta,m=n(23).OrderBook,g=n(24).PathFind,y=n(12).SerializedObject,b=n(13).RippleError,_=n(19),w=n(19).sjcl,$=n(22),x=n(25).internal.sub("remote");o.inherits(r,i),r.flags={account_root:{PasswordSpent:65536,RequireDestTag:131072,RequireAuth:262144,DisallowXRP:524288,DisableMaster:1048576},offer:{Passive:65536,Sell:131072},state:{LowReserve:65536,HighReserve:131072,LowAuth:262144,HighAuth:524288,LowNoRipple:1048576,HighNoRipple:2097152}},r.from_config=function(t,e){function n(t){var e=$.accounts[t];"object"==typeof e&&e.secret&&(o.setSecret(t,e.secret),o.setSecret(e.account,e.secret))}var i="string"==typeof t?$.servers[t]:t,o=new r(i,e);return $.accounts&&Object.keys($.accounts).forEach(n),o},r.isValidMessage=function(t){return"object"==typeof t&&"string"==typeof t.type},r.isValidLedgerData=function(t){return"object"==typeof t&&"number"==typeof t.fee_base&&"number"==typeof t.fee_ref&&"string"==typeof t.ledger_hash&&"number"==typeof t.ledger_index&&"number"==typeof t.ledger_time&&"number"==typeof t.reserve_base&&"number"==typeof t.reserve_inc},r.isValidLoadStatus=function(t){return"number"==typeof t.load_base&&"number"==typeof t.load_factor},r.prototype._setState=function(t){if(this.state!==t)switch(this.trace&&x.info("set_state:",t),this.state=t,this.emit("state",t),t){case"online":this._online_state="open",this._connected=!0,this.emit("connect"),this.emit("connected");break;case"offline":this._online_state="closed",this._connected=!1,this.emit("disconnect"),this.emit("disconnected")}},r.prototype.setServerFatal=function(){this._server_fatal=!0},r.prototype.setTrace=function(t){return this.trace=void 0===t||t,this},r.prototype._trace=function(){this.trace&&x.info.apply(x,arguments)},r.prototype.setSecret=function(t,e){this.secrets[t]=e},r.prototype.getPendingTransactions=function(){function t(t){if("object"==typeof t){var n=e.transaction();n.parseJson(t.tx_json),n.clientID(t.clientID),Object.keys(t).forEach(function(e){switch(e){case"secret":case"submittedIDs":case"submitIndex":n[e]=t[e]}}),n.submit()}}var e=this;this.storage.getPendingTransactions(function(e,n){!e&&Array.isArray(n)&&n.forEach(t)})},r.prototype.addServer=function(t){function e(t){i._handleMessage(t,o)}function n(){i._connection_count+=1,t.primary&&i._setPrimaryServer(o),1===i._connection_count&&i._setState("online"),i._connection_count===i._servers.length&&i.emit("ready")}function r(){i._connection_count--,0===i._connection_count&&i._setState("offline")}var i=this,o=new u(this,t);return o.on("message",e),o.on("connect",n),o.on("disconnect",r),this._servers.push(o),this},r.prototype.reconnect=function(){if(this._should_connect)return x.info("reconnecting"),this._servers.forEach(function(t){t.reconnect()
}),this},r.prototype.connect=function(t){if(!this._servers.length)throw new Error("No servers available.");switch(typeof t){case"undefined":break;case"function":this.once("connect",t);break;default:if(!Boolean(t))return this.disconnect()}return this._should_connect=!0,this._servers.forEach(function(t){t.connect()}),this},r.prototype.disconnect=function(t){if(!this._servers.length)throw new Error("No servers available, not disconnecting");var t="function"==typeof t?t:function(){};return this.isConnected()?(this._should_connect=!1,this.once("disconnect",t),this._servers.forEach(function(t){t.disconnect()}),this._set_state("offline"),this):(t(),this)},r.prototype._handleMessage=function(t,e){try{t=JSON.parse(t)}catch(n){}if(!r.isValidMessage(t))return void this.emit("error",new b("remoteUnexpected","Unexpected response from remote"));switch(t.type){case"ledgerClosed":this._handleLedgerClosed(t,e);break;case"serverStatus":this._handleServerStatus(t,e);break;case"transaction":this._handleTransaction(t,e);break;case"path_find":this._handlePathFind(t,e);break;default:this.trace&&x.info(t.type+": ",t)}},r.prototype._handleLedgerClosed=function(t,e){var n=this;if(r.isValidLedgerData(t)){var i=t.ledger_index>=this._ledger_current_index;(isNaN(this._ledger_current_index)||i)&&(this._ledger_time=t.ledger_time,this._ledger_hash=t.ledger_hash,this._ledger_current_index=t.ledger_index+1,this.isConnected()?this.emit("ledger_closed",t,e):this.once("connect",function(){n.emit("ledger_closed",t,e)}))}},r.prototype._handleServerStatus=function(t,e){this.emit("server_status",t,e)},r.prototype._handleTransaction=function(t,e){function n(e){var n=this[e];n&&"function"==typeof n.notify&&n.notify(t)}var r=this,i=t.transaction.hash;if(!this._received_tx.get(i)){t.validated&&this._received_tx.set(i,!0),this.trace&&x.info("tx:",t);var o=t.meta||t.metadata;if(o){t.mmeta=new v(o);var s=t.mmeta.getAffectedAccounts();s.forEach(n.bind(this._accounts));var a=t.mmeta.getAffectedBooks();a.forEach(n.bind(this._books))}else["Account","Destination"].forEach(function(e){n.call(r._accounts,t.transaction[e])});this.emit("transaction",t,e),this.emit("transaction_all",t,e)}},r.prototype._handlePathFind=function(t,e){this._cur_path_find&&this._cur_path_find.notify_update(t),this.emit("path_find_all",t,e)},r.prototype.getLedgerHash=function(){return this._ledger_hash},r.prototype._setPrimaryServer=r.prototype.setPrimaryServer=function(t){this._primary_server&&(this._primary_server._primary=!1),this._primary_server=t,this._primary_server._primary=!0},r.prototype.isConnected=function(){return this._connected},r.prototype.getConnectedServers=function(){for(var t=[],e=0;e<this._servers.length;e++)this._servers[e].isConnected()&&t.push(this._servers[e]);return t},r.prototype._getServer=r.prototype.getServer=function(){if(this._primary_server&&this._primary_server.isConnected())return this._primary_server;if(!this._servers.length)return null;var t=this.getConnectedServers();if(0===t.length||!t[0])return null;for(var e=t[0],n=e._score+e._fee,r=1;r<t.length;r++){var i=t[r],o=i._score+i._fee;n>o&&(e=i,n=o)}return e},r.prototype.request=function(t){if("string"==typeof t){if(/^request_/.test(t)||(t="request_"+t),"function"==typeof this[t]){var e=Array.prototype.slice.call(arguments,1);return this[t].apply(this,e)}throw new Error("Command does not exist: "+t)}if(!(t instanceof c))throw new Error("Argument is not a Request");if(this._servers.length)if(this.isConnected())if(null===t.server)t.emit("error",new Error("Server does not exist"));else{var n=t.server||this.getServer();n?n._request(t):t.emit("error",new Error("No servers available"))}else this.once("connect",this.request.bind(this,t));else t.emit("error",new Error("No servers available"))},r.prototype.ping=r.prototype.requestPing=function(t,e){var n=new c(this,"ping");switch(typeof t){case"function":e=t;break;case"string":n.setServer(t)}var r=Date.now();return n.once("success",function(){n.emit("pong",Date.now()-r)}),n.callback(e,"pong"),n},r.prototype.requestServerInfo=function(t){return new c(this,"server_info").callback(t)},r.prototype.requestLedger=function(t,e){var n=new c(this,"ledger");switch(typeof t){case"undefined":break;case"function":e=t;break;case"object":Object.keys(t).forEach(function(t){switch(t){case"full":case"expand":case"transactions":case"accounts":case"ledger_index":case"ledger_hash":n.message[t]=!0}},t);break;default:n.ledgerSelect(t)}return n.callback(e),n},r.prototype.requestLedgerClosed=r.prototype.requestLedgerHash=function(t){return new c(this,"ledger_closed").callback(t)},r.prototype.requestLedgerHeader=function(t){return new c(this,"ledger_header").callback(t)},r.prototype.requestLedgerCurrent=function(t){return new c(this,"ledger_current").callback(t)},r.prototype.requestLedgerEntry=function(t,e){var n=this,r=new c(this,"ledger_entry");return"function"==typeof t&&(e=t),"account_root"===t&&(r.request_default=r.request,r.request=function(){var e=!0;if(!n._ledger_hash&&"account_root"===t){var i=n.ledgers.current.account_root;i||(i=n.ledgers.current.account_root={});var o=n.ledgers.current.account_root[r.message.account_root];if(o)r.emit("success",{node:o}),e=!1;else switch(t){case"account_root":r.once("success",function(t){n.ledgers.current.account_root[t.node.Account]=t.node})}}e&&r.request_default()}),r.callback(e),r},r.prototype.requestSubscribe=function(t,e){var n=new c(this,"subscribe");return t&&(n.message.streams=Array.isArray(t)?t:[t]),n.callback(e),n},r.prototype.requestUnsubscribe=function(t,e){var n=new c(this,"unsubscribe");return t&&(n.message.streams=Array.isArray(t)?t:[t]),n.callback(e),n},r.prototype.requestTransactionEntry=function(t,e,n){var r=new c(this,"transaction_entry");switch(r.txHash(t),typeof e){case"string":case"number":r.ledgerSelect(e);break;case"undefined":case"function":r.ledgerIndex("validated"),n=e;break;default:throw new Error("Invalid ledger_hash type")}return r.callback(n),r},r.prototype.requestTransaction=r.prototype.requestTx=function(t,e){var n=new c(this,"tx");return n.message.transaction=t,n.callback(e),n},r.accountRequest=function(t,e,n,r,i,o){if("object"==typeof e){var s=e;o=n,r=s.ledger,n=s.account_index||s.accountIndex,e=s.accountID||s.account,i=s.peer}var a=arguments[arguments.length-1];"function"==typeof a&&(o=a);var u=new c(this,t),e=h.json_rewrite(e);return u.message.ident=e,u.message.account=e,"number"==typeof n&&(u.message.index=n),/^(undefined|function)$/.test(typeof r)||u.ledgerChoose(r),/^(undefined|function)$/.test(typeof i)||(u.message.peer=h.json_rewrite(i)),u.callback(o),u},r.prototype.requestAccountInfo=function(){var t=Array.prototype.concat.apply(["account_info"],arguments);return r.accountRequest.apply(this,t)},r.prototype.requestAccountCurrencies=function(){var t=Array.prototype.concat.apply(["account_currencies"],arguments);return r.accountRequest.apply(this,t)},r.prototype.requestAccountLines=function(){var t=Array.prototype.concat.apply(["account_lines"],arguments);return r.accountRequest.apply(this,t)},r.prototype.requestAccountOffers=function(){var t=Array.prototype.concat.apply(["account_offers"],arguments);return r.accountRequest.apply(this,t)},r.prototype.requestAccountTransactions=r.prototype.requestAccountTx=function(t,e){var n=new c(this,"account_tx");return void 0!==t.min_ledger&&(t.ledger_index_min=t.min_ledger),void 0!==t.max_ledger&&(t.ledger_index_max=t.max_ledger),t.binary&&void 0===t.parseBinary&&(t.parseBinary=!0),Object.keys(t).forEach(function(t){switch(t){case"account":case"ledger_index_min":case"ledger_index_max":case"binary":case"count":case"descending":case"offset":case"limit":case"forward":case"marker":n.message[t]=this[t]}},t),n.once("success",function(e){t.parseBinary&&(e.transactions=e.transactions.map(r.parseBinaryTransaction)),n.emit("transactions",e)}),n.callback(e,"transactions"),n},r.parseBinaryTransaction=function(t){var e={validated:t.validated};return e.meta=new y(t.meta).to_json(),e.tx=new y(t.tx_blob).to_json(),e.tx.ledger_index=t.ledger_index,e.tx.hash=p.from_json(e.tx).hash(),e},r.prototype.requestTransactionHistory=r.prototype.requestTxHistory=function(t,e){var n=new c(this,"tx_history");return n.message.start=t,n.callback(e),n},r.prototype.requestBookOffers=function(t,e,n,r){var i=arguments[arguments.length-1];if(t.hasOwnProperty("gets")||t.hasOwnProperty("taker_gets")){var o=t;r=e,n=o.taker,e=o.pays||o.taker_pays,t=o.gets||o.taker_gets}"function"==typeof i&&(r=i);var s=new c(this,"book_offers");return s.message.taker_gets={currency:f.json_rewrite(t.currency,{force_hex:!0})},f.from_json(s.message.taker_gets.currency).is_native()||(s.message.taker_gets.issuer=h.json_rewrite(t.issuer)),s.message.taker_pays={currency:f.json_rewrite(e.currency,{force_hex:!0})},f.from_json(s.message.taker_pays.currency).is_native()||(s.message.taker_pays.issuer=h.json_rewrite(e.issuer)),s.message.taker=n?n:h.ACCOUNT_ONE,s.callback(r),s},r.prototype.requestWalletAccounts=function(t,e){_.assert(this.trusted);var n=new c(this,"wallet_accounts");return n.message.seed=t,n.callback(e),n},r.prototype.requestSign=function(t,e,n){_.assert(this.trusted);var r=new c(this,"sign");return r.message.secret=t,r.message.tx_json=e,r.callback(n),r},r.prototype.requestSubmit=function(t){return new c(this,"submit").callback(t)},r.prototype._serverPrepareSubscribe=function(t,e){function n(e){if(r._stand_alone=!!e.stand_alone,r._testnet=!!e.testnet,"string"==typeof e.random){for(var n=e.random.match(/[0-9A-F]{8}/gi);n&&n.length;)w.random.addEntropy(parseInt(n.pop(),16));r.emit("random",_.hexToArray(e.random))}r._handleLedgerClosed(e,t),r.emit("subscribed")}var r=this,i=["ledger","server"];"function"==typeof t&&(e=t),this._transaction_subs&&i.push("transactions");var o=this.requestSubscribe(i);return o.on("error",function(t){r.trace&&x.info("Initial server subscribe failed",t)}),o.once("success",n),r.emit("prepare_subscribe",o),o.callback(e,"subscribed"),o},r.prototype.ledgerAccept=r.prototype.requestLedgerAccept=function(t){if(!this._stand_alone)return void this.emit("error",new b("notStandAlone"));var e=new c(this,"ledger_accept");return this.once("ledger_closed",function(t){e.emit("ledger_closed",t)}),e.callback(t,"ledger_closed"),e.request(),this},r.accountRootRequest=function(t,e,n,r,i){"object"==typeof n&&(i=r,r=n.ledger,n=n.account);var o=arguments[arguments.length-1];"function"==typeof o&&(i=o);var s=this.requestLedgerEntry("account_root");return s.accountRoot(n),s.ledgerChoose(r),s.once("success",function(n){s.emit(t,e(n))}),s.callback(i,t),s},r.prototype.requestAccountBalance=function(){function t(t){return l.from_json(t.node.Balance)}var e=Array.prototype.concat.apply(["account_balance",t],arguments),n=r.accountRootRequest.apply(this,e);return n},r.prototype.requestAccountFlags=function(){function t(t){return t.node.Flags}var e=Array.prototype.concat.apply(["account_flags",t],arguments),n=r.accountRootRequest.apply(this,e);return n},r.prototype.requestOwnerCount=function(){function t(t){return t.node.OwnerCount}var e=Array.prototype.concat.apply(["owner_count",t],arguments),n=r.accountRootRequest.apply(this,e);return n},r.prototype.getAccount=function(t){return this._accounts[h.json_rewrite(t)]},r.prototype.addAccount=function(t){var e=new d(this,t);return e.isValid()&&(this._accounts[t]=e),e},r.prototype.account=r.prototype.findAccount=function(t){var e=this.getAccount(t);return e?e:this.addAccount(t)},r.prototype.pathFind=r.prototype.createPathFind=function(t,e,n,r){if("object"==typeof t){var i=t;r=i.src_currencies,n=i.dst_amount,e=i.dst_account,t=i.src_account}var o=new g(this,t,e,n,r);return this._cur_path_find&&this._cur_path_find.notify_superceded(),o.create(),this._cur_path_find=o,o},r.prepareTrade=function(t,e){return t+(f.from_json(t).is_native()?"":"/"+e)},r.prototype.book=r.prototype.createOrderBook=function(t,e,n,i){if("object"==typeof t){var o=t;i=o.issuer_pays,n=o.currency_pays,e=o.issuer_gets,t=o.currency_gets}var s=r.prepareTrade(t,e),a=r.prepareTrade(n,i),u=s+":"+a;if(this._books.hasOwnProperty(u))return this._books[u];var c=new m(this,t,e,n,i,u);return c.is_valid()&&(this._books[u]=c),c},r.prototype.accountSeq=r.prototype.getAccountSequence=function(t,e){var t=h.json_rewrite(t),n=this.accounts[t];if(n){var r=n.seq,i={ADVANCE:1,REWIND:-1}[e.toUpperCase()]||0;return n.seq+=i,r}},r.prototype.setAccountSequence=r.prototype.setAccountSeq=function(t,e){var t=h.json_rewrite(t);this.accounts.hasOwnProperty(t)||(this.accounts[t]={}),this.accounts[t].seq=e},r.prototype.accountSeqCache=function(t,e,n){function r(t){delete s.caching_seq_request;var e=t.node.Sequence;s.seq=e,a.emit("success_account_seq_cache",t)}function i(t){delete s.caching_seq_request,a.emit("error_account_seq_cache",t)}if("object"==typeof t){var o=t;n=e,e=o.ledger,t=o.account}this.accounts.hasOwnProperty(t)||(this.accounts[t]={});var s=this.accounts[t],a=s.caching_seq_request;return a||(a=this.requestLedgerEntry("account_root"),a.accountRoot(t),a.ledgerChoose(e),a.once("success",r),a.once("error",i),s.caching_seq_request=a),a.callback(n,"success_account_seq_cache","error_account_seq_cache"),a},r.prototype.dirtyAccountRoot=function(t){var t=h.json_rewrite(t);delete this.ledgers.current.account_root[t]},r.prototype.requestRippleBalance=function(t,e,n,r,i){function o(n){var r=n.node,i=l.from_json(r.LowLimit),o=l.from_json(r.HighLimit),s=l.from_json(r.Balance),u=h.from_json(t).equals(o.issuer());a.emit("ripple_state",{account_balance:(u?s.negate():s.clone()).parse_issuer(t),peer_balance:(u?s.clone():s.negate()).parse_issuer(e),account_limit:(u?o:i).clone().parse_issuer(e),peer_limit:(u?i:o).clone().parse_issuer(t),account_quality_in:u?r.HighQualityIn:r.LowQualityIn,peer_quality_in:u?r.LowQualityIn:r.HighQualityIn,account_quality_out:u?r.HighQualityOut:r.LowQualityOut,peer_quality_out:u?r.LowQualityOut:r.HighQualityOut})}if("object"==typeof t){var s=t;i=e,r=s.ledger,n=s.currency,e=s.issuer,t=s.account}var a=this.requestLedgerEntry("ripple_state");return a.rippleState(t,e,n),a.ledgerChoose(r),a.once("success",o),a.callback(i,"ripple_state"),a},r.prepareCurrencies=function(t){var e={};return t.hasOwnProperty("issuer")&&(e.issuer=h.json_rewrite(t.issuer)),t.hasOwnProperty("currency")&&(e.currency=f.json_rewrite(t.currency,{force_hex:!0})),e},r.prototype.requestRipplePathFind=function(t,e,n,i,o){if("object"==typeof t){var s=t;o=e,i=s.src_currencies,n=s.dst_amount,e=s.dst_account,t=s.src_account}var a=new c(this,"ripple_path_find");return a.message.source_account=h.json_rewrite(t),a.message.destination_account=h.json_rewrite(e),a.message.destination_amount=l.json_rewrite(n),i&&(a.message.source_currencies=i.map(r.prepareCurrencies)),a.callback(o),a},r.prototype.requestPathFindCreate=function(t,e,n,i,o){if("object"==typeof t){var s=t;o=e,i=s.src_currencies,n=s.dst_amount,e=s.dst_account,t=s.src_account}var a=new c(this,"path_find");return a.message.subcommand="create",a.message.source_account=h.json_rewrite(t),a.message.destination_account=h.json_rewrite(e),a.message.destination_amount=l.json_rewrite(n),i&&(a.message.source_currencies=i.map(r.prepareCurrencies)),a.callback(o),a},r.prototype.requestPathFindClose=function(t){var e=new c(this,"path_find");return e.message.subcommand="close",e.callback(t),e},r.prototype.requestUnlList=function(t){return new c(this,"unl_list").callback(t)},r.prototype.requestUnlAdd=function(t,e,n){var r=new c(this,"unl_add");return r.message.node=t,e&&(r.message.comment=void 0),r.callback(n),r},r.prototype.requestUnlDelete=function(t,e){var n=new c(this,"unl_delete");return n.message.node=t,n.callback(e),n},r.prototype.requestPeers=function(t){return new c(this,"peers").callback(t)},r.prototype.requestConnect=function(t,e,n){var r=new c(this,"connect");return r.message.ip=t,e&&(r.message.port=e),r.callback(n),r},r.prototype.transaction=r.prototype.createTransaction=function(t,e){if(0===arguments.length)return new p(this);s.strictEqual(typeof t,"string","TransactionType must be a string"),s.strictEqual(typeof e,"object","Transaction options must be an object");var n=new p(this),r={payment:"payment",accountset:"accountSet",trustset:"trustSet",offercreate:"offerCreate",offercancel:"offerCancel",setregularkey:"setRegularKey",sign:"sign"},i=r[t.toLowerCase()];if(!i)throw new Error("Invalid transaction type: "+t);return n[i](e)},r.prototype.feeTx=function(t){var e=this.getServer();if(!e)throw new Error("No connected servers");return e._feeTx(t)},r.prototype.feeTxUnit=function(){var t=this.getServer();if(!t)throw new Error("No connected servers");return t._feeTxUnit()},r.prototype.reserve=function(t){var e=this.getServer();if(!e)throw new Error("No connected servers");return e._reserve(t)},e.Remote=r},function(t,e,n){function r(t,e){i.call(this),this.remote=t,this.requested=!1,this.message={command:e,id:void 0}}var i=n(37).EventEmitter,o=n(43),s=n(8).UInt160,a=n(6).Currency,u=n(13).RippleError,c=n(20).Server;o.inherits(r,i),r.prototype.broadcast=function(){var t=this.remote.getConnectedServers();return this.request(t),t.length},r.prototype.request=function(t,e){return this.requested?this:("function"==typeof t&&(e=t),this.requested=!0,this.on("error",function(){}),this.emit("request",this.remote),Array.isArray(t)?t.forEach(function(t){this.setServer(t),this.remote.request(this)},this):this.remote.request(this),this.callback(e),this)},r.prototype.callback=function(t,e,n){function r(e){s||(s=!0,t.call(o,null,e))}function i(e){s||(s=!0,e instanceof u||(e=new u(e)),t.call(o,e))}var o=this;if("function"!=typeof t)return this;var s=!1;return this.once(e||"success",r),this.once(n||"error",i),this.request(),this},r.prototype.timeout=function(t,e){function n(){r.timeout(t,e)}var r=this;if(!this.requested)return this.once("request",n);var i=this.emit,o=!1,s=setTimeout(function(){o=!0,"function"==typeof e&&e(),i.call(r,"timeout")},t);return this.emit=function(){o||(clearTimeout(s),i.apply(r,arguments))},this},r.prototype.setServer=function(t){var e=null;switch(typeof t){case"object":e=t;break;case"string":for(var n,r=this.remote._servers,i=0;n=r[i];i++)if(n._url===t){e=n;break}}return e instanceof c&&(this.server=e),this},r.prototype.buildPath=function(t){if(this.remote.local_signing)throw new Error("`build_path` is completely ignored when doing local signing as `Paths` is a component of the signed blob. The `tx_blob` is signed,sealed and delivered, and the txn unmodified after");return t?this.message.build_path=!0:delete this.message.build_path,this},r.prototype.ledgerChoose=function(t){return t?this.message.ledger_index=this.remote._ledger_current_index:this.message.ledger_hash=this.remote._ledger_hash,this},r.prototype.ledgerHash=function(t){return this.message.ledger_hash=t,this},r.prototype.ledgerIndex=function(t){return this.message.ledger_index=t,this},r.prototype.ledgerSelect=function(t){switch(t){case"current":case"closed":case"validated":this.message.ledger_index=t;break;default:isNaN(t)?this.message.ledger_hash=t:(t=Number(t))&&(this.message.ledger_index=t)}return this},r.prototype.accountRoot=function(t){return this.message.account_root=s.json_rewrite(t),this},r.prototype.index=function(t){return this.message.index=t,this},r.prototype.offerId=function(t,e){return this.message.offer={account:s.json_rewrite(t),seq:e},this},r.prototype.offerIndex=function(t){return this.message.offer=t,this},r.prototype.secret=function(t){return t&&(this.message.secret=t),this},r.prototype.txHash=function(t){return this.message.tx_hash=t,this},r.prototype.txJson=function(t){return this.message.tx_json=t,this},r.prototype.txBlob=function(t){return this.message.tx_blob=t,this},r.prototype.rippleState=function(t,e,n){return this.message.ripple_state={currency:n,accounts:[s.json_rewrite(t),s.json_rewrite(e)]},this},r.prototype.setAccounts=r.prototype.accounts=function(t,e){Array.isArray(t)||(t=[t]);var n=t.map(function(t){return s.json_rewrite(t)});return e?this.message.accounts_proposed=n:this.message.accounts=n,this},r.prototype.addAccount=function(t,e){if(Array.isArray(t))return t.forEach(this.addAccount,this),this;var n=s.json_rewrite(t);return e===!0?this.message.accounts_proposed=(this.message.accounts_proposed||[]).concat(n):this.message.accounts=(this.message.accounts||[]).concat(n),this},r.prototype.setAccountsProposed=r.prototype.rtAccounts=r.prototype.accountsProposed=function(t){return this.accounts(t,!0)},r.prototype.addAccountProposed=function(t){return Array.isArray(t)?(t.forEach(this.addAccountProposed,this),this):this.addAccount(t,!0)},r.prototype.setBooks=r.prototype.books=function(t,e){this.message.books=[];for(var n=0,r=t.length;r>n;n++){var i=t[n];this.addBook(i,e)}return this},r.prototype.addBook=function(t,e){function n(e){if(!t[e])throw new Error("Missing "+e);var n=r[e]={currency:a.json_rewrite(t[e].currency,{force_hex:!0})};a.from_json(n.currency).is_native()||(n.issuer=s.json_rewrite(t[e].issuer))}if(Array.isArray(t))return t.forEach(this.addBook,this),this;var r={};return["taker_gets","taker_pays"].forEach(n),"boolean"!=typeof e?r.snapshot=!0:e?r.snapshot=!0:delete r.snapshot,t.both&&(r.both=!0),this.message.books=(this.message.books||[]).concat(r),this},r.prototype.addStream=function(t,e){if(Array.isArray(e))switch(t){case"accounts":this.addAccount(e);break;case"accounts_proposed":this.addAccountProposed(e);break;case"books":this.addBook(e)}else if(arguments.length>1){for(arg in arguments)this.addStream(arguments[arg]);return}return Array.isArray(this.message.streams)||(this.message.streams=[]),-1===this.message.streams.indexOf(t)&&this.message.streams.push(t),this},e.Request=r},function(t,e,n){function r(){this._value=new a,this._offset=0,this._is_native=!0,this._is_negative=!1,this._currency=new l,this._issuer=new u}var i=n(44),o=n(19),s=o.sjcl,a=(s.bn,o.jsbn.BigInteger),u=n(8).UInt160,c=n(10).Seed,l=n(6).Currency,f={currency_xns:0,currency_one:1,xns_precision:6,bi_5:new a("5"),bi_7:new a("7"),bi_10:new a("10"),bi_1e14:new a(String(1e14)),bi_1e16:new a(String(1e16)),bi_1e17:new a(String(1e17)),bi_1e32:new a("100000000000000000000000000000000"),bi_man_max_value:new a("9999999999999999"),bi_man_min_value:new a("1000000000000000"),bi_xns_max:new a("9000000000000000000"),bi_xns_min:new a("-9000000000000000000"),bi_xns_unit:new a("1000000"),cMinOffset:-96,cMaxOffset:80,max_value:"9999999999999999e80"};i(r,f),e.consts=f,r.text_full_rewrite=function(t){return r.from_json(t).to_text_full()},r.json_rewrite=function(t){return r.from_json(t).to_json()},r.from_number=function(t){return(new r).parse_number(t)},r.from_json=function(t){return(new r).parse_json(t)},r.from_quality=function(t,e,n,i){return(new r).parse_quality(t,e,n,i)},r.from_human=function(t,e){return(new r).parse_human(t,e)},r.is_valid=function(t){return r.from_json(t).is_valid()},r.is_valid_full=function(t){return r.from_json(t).is_valid_full()},r.NaN=function(){var t=new r;return t._value=0/0,t},r.prototype.abs=function(){return this.clone(this.is_negative())},r.prototype.add=function(t){var e;if(t=r.from_json(t),this.is_comparable(t))if(t.is_zero())e=this;else if(this.is_zero())e=t.clone(),e._is_native=this._is_native,e._currency=this._currency,e._issuer=this._issuer;else if(this._is_native){e=new r;var n=this._is_negative?this._value.negate():this._value,i=t._is_negative?t._value.negate():t._value,o=n.add(i);e._is_negative=o.compareTo(a.ZERO)<0,e._value=e._is_negative?o.negate():o,e._currency=this._currency,e._issuer=this._issuer}else{for(var n=this._is_negative?this._value.negate():this._value,s=this._offset,i=t._is_negative?t._value.negate():t._value,u=t._offset;u>s;)n=n.divide(r.bi_10),s+=1;for(;s>u;)i=i.divide(r.bi_10),u+=1;e=new r,e._is_native=!1,e._offset=s,e._value=n.add(i),e._is_negative=e._value.compareTo(a.ZERO)<0,e._is_negative&&(e._value=e._value.negate()),e._currency=this._currency,e._issuer=this._issuer,e.canonicalize()}else e=r.NaN();return e},r.prototype.subtract=function(t){return this.add(r.from_json(t).negate())},r.prototype.multiply=function(t){var e;if(t=r.from_json(t),this.is_zero())e=this;else if(t.is_zero())e=this.clone(),e._value=a.ZERO;else{var n=this._value,i=this._offset,o=t._value,s=t._offset;if(this.is_native())for(;n.compareTo(r.bi_man_min_value)<0;)n=n.multiply(r.bi_10),i-=1;if(t.is_native())for(;o.compareTo(r.bi_man_min_value)<0;)o=o.multiply(r.bi_10),s-=1;e=new r,e._offset=i+s+14,e._value=n.multiply(o).divide(r.bi_1e14).add(r.bi_7),e._is_native=this._is_native,e._is_negative=this._is_negative!==t._is_negative,e._currency=this._currency,e._issuer=this._issuer,e.canonicalize()}return e},r.prototype.divide=function(t){var e;if(t=r.from_json(t),t.is_zero())throw new Error("divide by zero");if(this.is_zero())e=this;else{if(!this.is_valid())throw new Error("Invalid dividend");if(!t.is_valid())throw new Error("Invalid divisor");var n=this;if(n.is_native())for(n=n.clone();n._value.compareTo(r.bi_man_min_value)<0;)n._value=n._value.multiply(r.bi_10),n._offset-=1;var i=t;if(i.is_native())for(i=i.clone();i._value.compareTo(r.bi_man_min_value)<0;)i._value=i._value.multiply(r.bi_10),i._offset-=1;e=new r,e._offset=n._offset-i._offset-17,e._value=n._value.multiply(r.bi_1e17).divide(i._value).add(r.bi_5),e._is_native=n._is_native,e._is_negative=n._is_negative!==i._is_negative,e._currency=n._currency,e._issuer=n._issuer,e.canonicalize()}return e},r.prototype.ratio_human=function(t,e){e=i({},e);var n=this;return t=r.from_json("number"==typeof t&&parseInt(t,10)===t?String(t)+".0":t),t=r.from_json(t),n.is_valid()&&t.is_valid()?t.is_zero()?r.NaN():(e.reference_date&&(t=t.applyInterest(e.reference_date)),t._is_native&&(n=n.clone(),n._value=n._value.multiply(r.bi_xns_unit),n.canonicalize()),n.divide(t)):r.NaN()},r.prototype.product_human=function(t,e){if(e=e||{},t=r.from_json("number"==typeof t&&parseInt(t,10)===t?String(t)+".0":t),!this.is_valid()||!t.is_valid())return r.NaN();e.reference_date&&(t=t.applyInterest(e.reference_date));var n=this.multiply(t);return t._is_native&&(n._value=n._value.divide(r.bi_xns_unit),n.canonicalize()),n},r.prototype._invert=function(){return this._value=r.bi_1e32.divide(this._value),this._offset=-32-this._offset,this.canonicalize(),this},r.prototype.invert=function(){return this.copy()._invert()},r.prototype.canonicalize=function(){if(this._value instanceof a)if(this._is_native)if(this._value.equals(a.ZERO))this._offset=0,this._is_negative=!1;else{for(;this._offset<0;)this._value=this._value.divide(r.bi_10),this._offset+=1;for(;this._offset>0;)this._value=this._value.multiply(r.bi_10),this._offset-=1}else if(this.is_zero())this._offset=-100,this._is_negative=!1;else{for(;this._value.compareTo(r.bi_man_min_value)<0;)this._value=this._value.multiply(r.bi_10),this._offset-=1;for(;this._value.compareTo(r.bi_man_max_value)>0;)this._value=this._value.divide(r.bi_10),this._offset+=1}else;return this},r.prototype.clone=function(t){return this.copyTo(new r,t)},r.prototype.compareTo=function(t){var e;return t=r.from_json(t),this.is_comparable(t)?this._is_negative!==t._is_negative?e=this._is_negative?-1:1:this._value.equals(a.ZERO)?e=t._value.equals(a.ZERO)?0:-1:t._value.equals(a.ZERO)?e=1:!this._is_native&&this._offset>t._offset?e=this._is_negative?-1:1:!this._is_native&&this._offset<t._offset?e=this._is_negative?1:-1:(e=this._value.compareTo(t._value),e>0?e=this._is_negative?-1:1:0>e&&(e=this._is_negative?1:-1)):e=r.NaN(),e},r.prototype.copyTo=function(t,e){return"object"==typeof this._value?this._value.copyTo(t._value):t._value=this._value,t._offset=this._offset,t._is_native=this._is_native,t._is_negative=e?!this._is_negative:this._is_negative,t._currency=this._currency,t._issuer=this._issuer,t.is_zero()&&(t._is_negative=!1),t},r.prototype.currency=function(){return this._currency},r.prototype.equals=function(t,e){if("string"==typeof t)return this.equals(r.from_json(t));var n=!0;return n=!!(this.is_valid()&&t.is_valid()&&this._is_native===t._is_native&&this._value.equals(t._value)&&this._offset===t._offset&&this._is_negative===t._is_negative&&(this._is_native||this._currency.equals(t._currency)&&(e||this._issuer.equals(t._issuer))))},r.prototype.is_comparable=function(t){return this._value instanceof a&&t._value instanceof a&&this._is_native===t._is_native},r.prototype.is_native=function(){return this._is_native},r.prototype.is_negative=function(){return this._value instanceof a?this._is_negative:!1},r.prototype.is_positive=function(){return!this.is_zero()&&!this.is_negative()},r.prototype.is_valid=function(){return this._value instanceof a},r.prototype.is_valid_full=function(){return this.is_valid()&&this._currency.is_valid()&&this._issuer.is_valid()},r.prototype.is_zero=function(){return this._value instanceof a?this._value.equals(a.ZERO):!1},r.prototype.issuer=function(){return this._issuer},r.prototype.negate=function(){return this.clone("NEGATE")},r.prototype.invert=function(){var t=this.clone();return t._value=a.ONE,t._offset=0,t._is_negative=!1,t.canonicalize(),t.ratio_human(this)},r.human_RE_hex=/^\s*(-)?(\d+)(?:\.(\d*))?\s*([a-fA-F0-9]{40})\s*$/,r.human_RE=/^\s*([A-z]{3}|[0-9]{3})?\s*(-)?(\d+)(?:\.(\d*))?\s*([A-z]{3}|[0-9]{3})?\s*$/,r.prototype.parse_human=function(t,e){e=e||{};var n,i,o,s=null,u=String(t).match(r.human_RE_hex);if(u&&5===u.length&&u[4]&&(n=u[2],i=u[3]||"",o=u[4],this._is_negative=Boolean(u[1])),void 0===n&&void 0===o){var c=String(t).match(r.human_RE);c&&(o=c[5]||c[1]||"XRP",n=c[5]&&c[1]?c[1]+""+c[3]:c[3]||"0",i=c[4]||"",this._is_negative=Boolean(c[2]))}if(n){if(o=o.toUpperCase(),this._value=new a(n),this.set_currency(o),"XRP"===o){for(i=i.slice(0,6);i.length<6;)i+="0";this._is_native=!0,this._value=this._value.multiply(r.bi_xns_unit).add(new a(i))}else{i=i.replace(/0+$/,""),s=i.length,this._is_native=!1;var l=r.bi_10.clone().pow(s);this._value=this._value.multiply(l).add(new a(i)),this._offset=-s,this.canonicalize()}if(e.reference_date&&this._currency.has_interest()){var f=this._currency.get_interest_at(e.reference_date),h=r.from_json(""+f+"/1/1");if(h.is_valid()){var p=this.divide(h);this._value=p._value,this._offset=p._offset}}}else this._value=0/0;return this},r.prototype.parse_issuer=function(t){return this._issuer=u.from_json(t),this},r.prototype.parse_quality=function(t,e,n,i){i=i||{};var o=l.from_json(i.base_currency);if(this._is_negative=!1,this._value=new a(t.substring(t.length-14),16),this._offset=parseInt(t.substring(t.length-16,t.length-14),16)-100,this._currency=l.from_json(e),this._issuer=u.from_json(n),this._is_native=this._currency.is_native(),!i.xrp_as_drops&&o.is_valid()&&o.is_native()&&(i.inverse?this._offset-=6:this._offset+=6),i.inverse&&this._invert(),this.canonicalize(),i.reference_date&&o.is_valid()&&o.has_interest()){var s=o.get_interest_at(i.reference_date),c=r.from_json(""+s+"/1/1");if(c.is_valid()){var f=this.divide(c);this._value=f._value,this._offset=f._offset}}return this},r.prototype.parse_number=function(t){return this._is_native=!1,this._currency=l.from_json(1),this._issuer=u.from_json(1),this._is_negative=0>t?!0:!1,this._value=new a(String(this._is_negative?-t:t)),this._offset=0,this.canonicalize(),this},r.prototype.parse_json=function(t){switch(typeof t){case"string":var e=t.match(/^([^/]+)\/([^/]+)(?:\/(.+))?$/);e?(this._currency=l.from_json(e[2]),this._issuer=u.from_json(e[3]?e[3]:"1"),this.parse_value(e[1])):(this.parse_native(t),this._currency=l.from_json("0"),this._issuer=u.from_json("0"));break;case"number":this.parse_json(String(t));break;case"object":if(null===t)break;t instanceof r?t.copyTo(this):t.hasOwnProperty("value")&&(this._currency.parse_json(t.currency,!0),"string"==typeof t.issuer&&this._issuer.parse_json(t.issuer),this.parse_value(t.value));break;default:this._value=0/0}return this},r.prototype.parse_native=function(t){var e;if("string"==typeof t&&(e=t.match(/^(-?)(\d*)(\.\d{0,6})?$/)),e){if(void 0===e[3])this._value=new a(e[2]);else{var n=new a(e[2]).multiply(r.bi_xns_unit),i=new a(e[3]).multiply(new a(String(Math.pow(10,1+r.xns_precision-e[3].length))));this._value=n.add(i)}this._is_native=!0,this._offset=0,this._is_negative=!!e[1]&&0!==this._value.compareTo(a.ZERO),this._value.compareTo(r.bi_xns_max)>0&&(this._value=0/0)
}else this._value=0/0;return this},r.prototype.parse_value=function(t){switch(this._is_native=!1,typeof t){case"number":this._is_negative=0>t,this._value=new a(Math.abs(t)),this._offset=0,this.canonicalize();break;case"string":var e=t.match(/^(-?)(\d+)$/),n=!e&&t.match(/^(-?)(\d*)\.(\d*)$/),i=!i&&t.match(/^(-?)(\d*)e(-?\d+)$/);if(i)this._value=new a(i[2]),this._offset=parseInt(i[3]),this._is_negative=!!i[1],this.canonicalize();else if(n){var o=new a(n[2]),s=new a(n[3]),u=n[3].length;this._value=o.multiply(r.bi_10.clone().pow(u)).add(s),this._offset=-u,this._is_negative=!!n[1],this.canonicalize()}else e?(this._value=new a(e[2]),this._offset=0,this._is_negative=!!e[1],this.canonicalize()):this._value=0/0;break;default:this._value=t instanceof a?t:0/0}return this},r.prototype.set_currency=function(t){return this._currency=l.from_json(t),this._is_native=this._currency.is_native(),this},r.prototype.set_issuer=function(t){return this._issuer=t instanceof u?t:u.from_json(t),this},r.prototype.to_number=function(t){var e=this.to_text(t);return"string"==typeof e?Number(e):e},r.prototype.to_text=function(t){var e=0/0;if(this._is_native)this.is_valid()&&this._value.compareTo(r.bi_xns_max)<=0&&(e=this._value.toString());else if(this.is_zero())e="0";else if(this._offset&&(this._offset<-25||this._offset>-4))e=this._value.toString()+"e"+this._offset;else{var n="000000000000000000000000000"+this._value.toString()+"00000000000000000000000",i=n.substring(0,this._offset+43),o=n.substring(this._offset+43),s=i.match(/[1-9].*$/),a=o.match(/[1-9]0*$/);e=""+(s?s[0]:"0")+(a?"."+o.substring(0,1+o.length-a[0].length):"")}return!t&&"number"==typeof e&&isNaN(e)?e="0":this._is_negative&&(e="-"+e),e},r.prototype.applyInterest=function(t){if(!this._currency.has_interest())return this;var e=this._currency.get_interest_at(t),n=r.from_json(String(e)+"/1/1");return n.is_valid()?this.multiply(n):void 0},r.prototype.to_human=function(t){if(t=t||{},!this.is_valid())return"";"undefined"==typeof t.signed&&(t.signed=!0),"undefined"==typeof t.group_sep&&(t.group_sep=!0),t.group_width=t.group_width||3;var e=this;t.reference_date&&(e=this.applyInterest(t.reference_date));for(var n=e._is_native?r.xns_precision:-e._offset,i=r.bi_10.clone().pow(n),s=e._value.divide(i).toString(),a=e._value.mod(i).toString();a.length<n;)a="0"+a;if(s=s.replace(/^0*/,""),a=a.replace(/0*$/,""),a.length||!t.skip_empty_fraction){if("number"==typeof t.precision&&(0===t.precision&&a.charCodeAt(0)>=53&&(s=(Number(s)+1).toString()),a=a.slice(0,t.precision)),"number"==typeof t.max_sig_digits){var u=0===+s,c=u?0:s.length,l=u?a.replace(/^0*/,""):a;c+=l.length;var f=c-t.max_sig_digits;f=Math.max(f,0),f=Math.min(f,a.length),f>0&&(a=a.slice(0,-f))}if("number"==typeof t.min_precision)for(;a.length<t.min_precision;)a+="0"}t.group_sep&&("string"!=typeof t.group_sep&&(t.group_sep=","),s=o.chunkString(s,t.group_width,!0).join(t.group_sep));var h="";return t.signed&&this._is_negative&&("string"!=typeof t.signed&&(t.signed="-"),h+=t.signed),h+=s.length?s:"0",h+=a.length?"."+a:""},r.prototype.to_human_full=function(t){t=t||{};var e=this.to_human(t),n=this._currency.to_human(),r=this._issuer.to_json(t),i=i=this.is_native()?e+"/"+n:e+"/"+n+"/"+r;return i},r.prototype.to_json=function(){var t;if(this._is_native)t=this.to_text();else{var e={value:this.to_text(),currency:this._currency.has_interest()?this._currency.to_hex():this._currency.to_json()};this._issuer.is_valid()&&(e.issuer=this._issuer.to_json()),t=e}return t},r.prototype.to_text_full=function(t){return this._value instanceof a?this._is_native?this.to_human()+"/XRP":this.to_text()+"/"+this._currency.to_json()+"/"+this._issuer.to_json(t):0/0},r.prototype.not_equals_why=function(t,e){if("string"==typeof t)return this.not_equals_why(r.from_json(t));if(!(t instanceof r))return"Not an Amount";var n=!1;if(this.is_valid()&&t.is_valid())if(this._is_native!==t._is_native)n="Native mismatch.";else{var i=this._is_native?"XRP":"Non-XRP";this._value.equals(t._value)&&this._offset===t._offset?this._is_negative!==t._is_negative?n=i+" sign differs.":this._is_native||(this._currency.equals(t._currency)?e||this._issuer.equals(t._issuer)||(n="Non-XRP issuer differs: "+t._issuer.to_json()+"/"+this._issuer.to_json()):n="Non-XRP currency differs."):n=i+" value differs."}else n="Invalid amount.";return n},e.Amount=r,e.Currency=l,e.Seed=c,e.UInt160=u},function(t,e,n){function r(t,e){function n(t){~r.subscribeEvents.indexOf(t)&&(!f._subs&&f._remote._connected&&f._remote.request_subscribe().add_account(f._account_id).broadcast(),f._subs+=1)}function i(t){~r.subscribeEvents.indexOf(t)&&(f._subs-=1,!f._subs&&f._remote._connected&&f._remote.request_unsubscribe().add_account(f._account_id).broadcast())}function o(t){f._account.is_valid()&&f._subs&&t.add_account(f._account_id)}function l(t){if(t.mmeta){var e=!1;t.mmeta.each(function(t){var n=t.fields.Account===f._account_id,r=n&&"AccountRoot"===t.entryType;r&&(s(f._entry,t.fieldsNew,t.fieldsFinal),e=!0)}),e&&f.emit("entry",f._entry)}}a.call(this);var f=this;return this._remote=t,this._account=u.from_json(e),this._account_id=this._account.to_json(),this._subs=0,this._entry={},this.on("newListener",n),this.on("removeListener",i),this._remote.on("prepare_subscribe",o),this.on("transaction",l),this._transactionManager=new c(this),this}var i=n(49),o=n(43),s=n(44),a=n(37).EventEmitter,u=(n(3).Amount,n(8).UInt160),c=n(26).TransactionManager,l=n(19).sjcl,f=n(7).Base;o.inherits(r,a),r.subscribeEvents=["transaction","entry"],r.prototype.toJson=function(){return this._account.to_json()},r.prototype.isValid=function(){return this._account.is_valid()},r.prototype.getInfo=function(t){return this._remote.request_account_info(this._account_id,t)},r.prototype.entry=function(t){function e(e,r){e?t(e):(s(n._entry,r.account_data),n.emit("entry",n._entry),t(null,r))}var n=this,t="function"==typeof t?t:function(){};return this.getInfo(e),this},r.prototype.getNextSequence=function(t){function e(t){return t&&"object"==typeof t&&"object"==typeof t.remote&&"actNotFound"===t.remote.error}function n(n,r){e(n)?t(null,0):n?t(n):t(null,r.account_data.Sequence)}var t="function"==typeof t?t:function(){};return this.getInfo(n),this},r.prototype.lines=function(t){function e(e,r){e?t(e):(n._lines=r.lines,n.emit("lines",n._lines),t(null,r))}var n=this,t="function"==typeof t?t:function(){};return this._remote.requestAccountLines(this._account_id,e),this},r.prototype.line=function(t,e,n){var r=this,n="function"==typeof n?n:function(){};return r.lines(function(r,i){if(r)return n(r);var o;t:for(var s=0;s<i.lines.length;s++){var a=i.lines[s];if(a.account===e&&a.currency===t){o=a;break t}}n(null,o)}),this},r.prototype.notify=r.prototype.notifyTx=function(t){if(this._subs){this.emit("transaction",t);var e=t.transaction.Account;if(e){var n=e===this._account_id;this.emit(n?"transaction-outbound":"transaction-inbound",t)}}},r.prototype.submit=function(t){this._transactionManager.submit(t)},r.prototype.publicKeyIsActive=function(t,e){function n(t){a.getInfo(function(e,n){e&&e.remote&&"actNotFound"===e.remote.error?t(null,null):t(e,n)})}function o(t,e){if(!t)return void(s===a._account_id?e(null,!0):e(null,!1));var n=t.account_data;n.RegularKey&&n.RegularKey===s?e(null,!0):n.Account===s&&0===(1048576&n.Flags)?e(null,!0):e(null,!1)}var s,a=this;try{s=r._publicKeyToAddress(t)}catch(u){return e(u)}var c=[n,o];i.waterfall(c,e)},r._publicKeyToAddress=function(t){function e(t){var e=l.codec.hex.toBits(t),n=l.hash.ripemd160.hash(l.hash.sha256.hash(e)),r=u.from_bits(n);return r.set_version(f.VER_ACCOUNT_ID),r.to_json()}if(u.is_valid(t))return t;if(/^[0-9a-fA-F]+$/.test(t))return e(t);throw new Error("Public key is invalid. Must be a UInt160 or a hex string")},e.Account=r},function(t,e,n){function r(t){i.call(this);var e=this,t=t||{};this.remote=t,this.tx_json={Flags:0},this._secret=void 0,this._build_path=!1,this._maxFee=this.remote.max_fee,this.state="unsubmitted",this.finalized=!1,this.previousSigningHash=void 0,this.submitIndex=void 0,this.canonical="object"==typeof t?Boolean(t.canonical_signing):!0,this.submittedIDs=[],this.once("success",function(t){e.finalize(t),e.setState("validated"),e.emit("cleanup",t)}),this.once("error",function(t){e.finalize(t),e.setState("failed"),e.emit("cleanup",t)}),this.once("submitted",function(){e.setState("submitted")}),this.once("proposed",function(){e.setState("pending")})}var i=n(37).EventEmitter,o=n(43),s=n(19),a=n(19).sjcl,u=n(3).Amount,c=n(3).Currency,l=n(3).UInt160,f=n(10).Seed,h=n(12).SerializedObject,p=n(13).RippleError,d=n(27),v=n(22);o.inherits(r,i),r.fee_units={"default":10},r.flags={Universal:{FullyCanonicalSig:2147483648},AccountSet:{RequireDestTag:65536,OptionalDestTag:131072,RequireAuth:262144,OptionalAuth:524288,DisallowXRP:1048576,AllowXRP:2097152},TrustSet:{SetAuth:65536,NoRipple:131072,SetNoRipple:131072,ClearNoRipple:262144,SetFreeze:1048576,ClearFreeze:2097152},OfferCreate:{Passive:65536,ImmediateOrCancel:131072,FillOrKill:262144,Sell:524288},Payment:{NoRippleDirect:65536,PartialPayment:131072,LimitQuality:262144}},r.set_clear_flags={AccountSet:{asfRequireDest:1,asfRequireAuth:2,asfDisallowXRP:3,asfDisableMaster:4,asfNoFreeze:6,asfGlobalFreeze:7}},r.MEMO_TYPES={},r.formats=n(18).tx,r.prototype.consts={telLOCAL_ERROR:-399,temMALFORMED:-299,tefFAILURE:-199,terRETRY:-99,tesSUCCESS:0,tecCLAIMED:100},r.from_json=function(t){return(new r).parseJson(t)},r.prototype.parseJson=function(t){return this.tx_json=t,this},r.prototype.isTelLocal=function(t){return t>=this.consts.telLOCAL_ERROR&&t<this.consts.temMALFORMED},r.prototype.isTemMalformed=function(t){return t>=this.consts.temMALFORMED&&t<this.consts.tefFAILURE},r.prototype.isTefFailure=function(t){return t>=this.consts.tefFAILURE&&t<this.consts.terRETRY},r.prototype.isTerRetry=function(t){return t>=this.consts.terRETRY&&t<this.consts.tesSUCCESS},r.prototype.isTepSuccess=function(t){return t>=this.consts.tesSUCCESS},r.prototype.isTecClaimed=function(t){return t>=this.consts.tecCLAIMED},r.prototype.isRejected=function(t){return this.isTelLocal(t)||this.isTemMalformed(t)||this.isTefFailure(t)},r.prototype.setState=function(t){this.state!==t&&(this.state=t,this.emit("state",t),this.emit("save"))},r.prototype.finalize=function(t){return this.finalized=!0,this.result?(this.result.ledger_index=t.ledger_index,this.result.ledger_hash=t.ledger_hash):(this.result=t,this.result.tx_json=this.tx_json),this},r.prototype._accountSecret=function(t){return this.remote.secrets[t]},r.prototype._getFeeUnits=r.prototype.feeUnits=function(){return r.fee_units["default"]},r.prototype._computeFee=function(){for(var t=this.remote._servers,e=[],n=0;n<t.length;n++){var r=t[n];r._connected&&e.push(Number(r._computeFee(this)))}switch(e.length){case 0:return;case 1:return String(e[0])}e.sort(function(t,e){return t>e?1:e>t?-1:0});var i=Math.floor(e.length/2),o=e.length%2===0?Math.floor(.5+(e[i]+e[i-1])/2):e[i];return String(o)},r.prototype.complete=function(){if(this.remote&&!this.remote.trusted&&!this.remote.local_signing)return this.emit("error",new p("tejServerUntrusted","Attempt to give secret to untrusted server")),!1;if(!this._secret&&!(this._secret=this._accountSecret(this.tx_json.Account)))return this.emit("error",new p("tejSecretUnknown","Missing secret")),!1;if("undefined"==typeof this.tx_json.SigningPubKey)try{var t=f.from_json(this._secret),e=t.get_key(this.tx_json.Account);this.tx_json.SigningPubKey=e.to_hex_pub()}catch(n){return this.emit("error",new p("tejSecretInvalid","Invalid secret")),!1}return!this.remote||"undefined"!=typeof this.tx_json.Fee||!this.remote.local_fee&&this.remote.trusted||(this.tx_json.Fee=this._computeFee())?Number(this.tx_json.Fee)>this._maxFee?(this.emit("error",new p("tejMaxFeeExceeded","Max fee exceeded")),!1):(this.remote&&this.remote.local_signing&&this.canonical&&(this.tx_json.Flags|=r.flags.Universal.FullyCanonicalSig,this.tx_json.Flags=this.tx_json.Flags>>>0),this.tx_json):void this.emit("error",new p("tejUnconnected"))},r.prototype.serialize=function(){return h.from_json(this.tx_json)},r.prototype.signingHash=function(){return this.hash(v.testnet?"HASH_TX_SIGN_TESTNET":"HASH_TX_SIGN")},r.prototype.hash=function(t,e){if("string"==typeof t){if("undefined"==typeof d[t])throw new Error("Unknown hashing prefix requested.");t=d[t]}else t||(t=d.HASH_TX_ID);var n=h.from_json(this.tx_json).hash(t);return e?n:n.to_hex()},r.prototype.sign=function(t){var t="function"==typeof t?t:function(){},e=f.from_json(this._secret),n=this.tx_json.TxnSignature;delete this.tx_json.TxnSignature;var r=this.signingHash();if(n&&r===this.previousSigningHash)return this.tx_json.TxnSignature=n,t(),this;var i=e.get_key(this.tx_json.Account),o=i.sign(r,0),s=a.codec.hex.fromBits(o).toUpperCase();return this.tx_json.TxnSignature=s,this.previousSigningHash=r,t(),this},r.prototype.addId=function(t){-1===this.submittedIDs.indexOf(t)&&(this.submittedIDs.unshift(t),this.emit("signed",t),this.emit("save"))},r.prototype.findId=function(t){for(var e,n=0;n<this.submittedIDs.length;n++){var r=this.submittedIDs[n];if(e=t[r])break}return e},r.prototype.buildPath=function(t){return this._build_path=t,this},r.prototype.destinationTag=function(t){return void 0!==t&&(this.tx_json.DestinationTag=t),this},r.prototype.invoiceID=function(t){if("string"==typeof t){for(;t.length<64;)t+="0";this.tx_json.InvoiceID=t}return this},r.prototype.clientID=function(t){return"string"==typeof t&&(this._clientID=t),this},r.prototype.lastLedger=function(t){return"number"==typeof t&&isFinite(t)&&(this._setLastLedger=!0,this.tx_json.LastLedgerSequence=t),this},r._pathRewrite=function(t){if(Array.isArray(t)){var e=t.map(function(t){var e={};return t.hasOwnProperty("account")&&(e.account=l.json_rewrite(t.account)),t.hasOwnProperty("issuer")&&(e.issuer=l.json_rewrite(t.issuer)),t.hasOwnProperty("currency")&&(e.currency=c.json_rewrite(t.currency)),t.hasOwnProperty("type_hex")&&(e.type_hex=t.type_hex),e});return e}},r.prototype.pathAdd=function(t){return Array.isArray(t)&&(this.tx_json.Paths=this.tx_json.Paths||[],this.tx_json.Paths.push(r._pathRewrite(t))),this},r.prototype.paths=function(t){if(Array.isArray(t))for(var e=0,n=t.length;n>e;e++)this.pathAdd(t[e]);return this},r.prototype.secret=function(t){return this._secret=t,this},r.prototype.sendMax=function(t){return t&&(this.tx_json.SendMax=u.json_rewrite(t)),this},r.prototype.sourceTag=function(t){return t&&(this.tx_json.SourceTag=t),this},r.prototype.transferRate=function(t){if(this.tx_json.TransferRate=Number(t),this.tx_json.TransferRate<1e9)throw new Error("invalidTransferRate");return this},r.prototype.setFlags=function(t){if(void 0===t)return this;if("number"==typeof t)return this.tx_json.Flags=t,this;for(var e=Array.isArray(t)?t:Array.prototype.slice.call(arguments),n=r.flags[this.tx_json.TransactionType]||{},i=0,o=e.length;o>i;i++){var s=e[i];if(!n.hasOwnProperty(s))return this.emit("error",new p("tejInvalidFlag"));this.tx_json.Flags+=n[s]}return this},r.prototype.addMemo=function(t,e){function n(t){return a.codec.hex.fromBits(a.codec.utf8String.toBits(t))}if(!/(undefined|string)/.test(typeof t))throw new Error("MemoType must be a string");if(!/(undefined|string)/.test(typeof e))throw new Error("MemoData must be a string");var i={};return t&&(i.MemoType=r.MEMO_TYPES[t]?r.MEMO_TYPES[t]:n(t)),e&&(i.MemoData=n(e)),this.tx_json.Memos=(this.tx_json.Memos||[]).concat({Memo:i}),this},r.prototype.accountSet=function(t,e,n){function i(t){return"number"==typeof t?t:s[t]||s["asf"+t]}if("object"==typeof t){var o=t;t=o.source||o.from||o.account,e=o.set_flag||o.set,n=o.clear_flag||o.clear}if(!l.is_valid(t))throw new Error("Source address invalid");this.tx_json.TransactionType="AccountSet",this.tx_json.Account=l.json_rewrite(t);var s=r.set_clear_flags.AccountSet;return e&&(e=i(e))&&(this.tx_json.SetFlag=e),n&&(n=i(n))&&(this.tx_json.ClearFlag=n),this},r.prototype.claim=function(t,e,n,r){if("object"==typeof t){var i=t;r=i.signature,n=i.public_key,e=i.generator,t=i.source||i.from||i.account}return this.tx_json.TransactionType="Claim",this.tx_json.Generator=e,this.tx_json.PublicKey=n,this.tx_json.Signature=r,this},r.prototype.offerCancel=function(t,e){if("object"==typeof t){var n=t;e=n.sequence,t=n.source||n.from||n.account}if(!l.is_valid(t))throw new Error("Source address invalid");return this.tx_json.TransactionType="OfferCancel",this.tx_json.Account=l.json_rewrite(t),this.tx_json.OfferSequence=Number(e),this},r.prototype.offerCreate=function(t,e,n,r,i){if("object"==typeof t){var o=t;i=o.cancel_sequence,r=o.expiration,n=o.taker_gets||o.sell,e=o.taker_pays||o.buy,t=o.source||o.from||o.account}if(!l.is_valid(t))throw new Error("Source address invalid");return this.tx_json.TransactionType="OfferCreate",this.tx_json.Account=l.json_rewrite(t),this.tx_json.TakerPays=u.json_rewrite(e),this.tx_json.TakerGets=u.json_rewrite(n),r&&(this.tx_json.Expiration=s.time.toRipple(r)),i&&(this.tx_json.OfferSequence=Number(i)),this},r.prototype.setRegularKey=function(t,e){if("object"==typeof t){var n=t;t=n.address||n.account||n.from,e=n.regular_key}if(!l.is_valid(t))throw new Error("Source address invalid");if(!l.is_valid(e))throw new Error("RegularKey must be a valid Ripple Address (a Hash160 of the public key)");return this.tx_json.TransactionType="SetRegularKey",this.tx_json.Account=l.json_rewrite(t),this.tx_json.RegularKey=l.json_rewrite(e),this},r.prototype.payment=function(t,e,n){if("object"==typeof t){var r=t;n=r.amount,e=r.destination||r.to,t=r.source||r.from||r.account}if(!l.is_valid(t))throw new Error("Payment source address invalid");if(!l.is_valid(e))throw new Error("Payment destination address invalid");return this.tx_json.TransactionType="Payment",this.tx_json.Account=l.json_rewrite(t),this.tx_json.Amount=u.json_rewrite(n),this.tx_json.Destination=l.json_rewrite(e),this},r.prototype.trustSet=r.prototype.rippleLineSet=function(t,e,n,r){if("object"==typeof t){var i=t;r=i.quality_out,n=i.quality_in,e=i.limit,t=i.source||i.from||i.account}if(!l.is_valid(t))throw new Error("Source address invalid");return this.tx_json.TransactionType="TrustSet",this.tx_json.Account=l.json_rewrite(t),void 0!==e&&(this.tx_json.LimitAmount=u.json_rewrite(e)),n&&(this.tx_json.QualityIn=n),r&&(this.tx_json.QualityOut=r),this},r.prototype.submit=function(t){function e(t,e){t instanceof p||(t=new p(t,e)),r.callback(t)}function n(t){r.callback(null,t)}var r=this;this.callback="function"==typeof t?t:function(){},this._errorHandler=e,this._successHandler=n,this.on("error",function(){});var i=this.tx_json.Account;return l.is_valid(i)?(this.remote.account(i).submit(this),this):this.emit("error",new p("tejInvalidAccount","Account is missing or invalid"))},r.prototype.abort=function(t){var t="function"==typeof t?t:function(){};this.finalized||(this.once("final",t),this.emit("abort"))},r.prototype.summary=function(){return r.summary.call(this)},r.summary=function(){var t={tx_json:this.tx_json,clientID:this._clientID,submittedIDs:this.submittedIDs,submissionAttempts:this.attempts,submitIndex:this.submitIndex,initialSubmitIndex:this.initialSubmitIndex,lastLedgerSequence:this.lastLedgerSequence,state:this.state,server:this._server?this._server._opts.url:void 0,finalized:this.finalized};return this.result&&(t.result={engine_result:this.result.engine_result,engine_result_message:this.result.engine_result_message,ledger_hash:this.result.ledger_hash,ledger_index:this.result.ledger_index,transaction_hash:this.result.tx_json.hash}),t},e.Transaction=r},function(t,e,n){var r=n(44),i=n(8).UInt160,o=n(19),s=n(28).Float,a=r(function(){this._value=0/0,this._update()},i);a.prototype=r({},i.prototype),a.prototype.constructor=a,a.HEX_CURRENCY_BAD="0000000000000000000000005852500000000000",a.prototype.human_RE=/^\s*([a-zA-Z0-9]{3})(\s*-\s*[- \w]+)?(\s*\(-?\d+\.?\d*%pa\))?\s*$/,a.from_json=function(t,e){return t instanceof this?t.clone():(new this).parse_json(t,e)},a.from_human=function(t,e){return(new a).parse_human(t,e)},a.prototype.parse_json=function(t,e){switch(this._value=0/0,typeof t){case"string":if(!t||/^(0|XRP)$/.test(t)){this.parse_hex(e?a.HEX_CURRENCY_BAD:a.HEX_ZERO);break}var n=String(t).match(this.human_RE);if(n){var r=n[1],i=n[3]||"",u=i.match(/(-?\d+\.?\d+)/);r=r.toUpperCase();var c=o.arraySet(20,0);if(u){c[0]=1,c[1]=255&r.charCodeAt(0),c[2]=255&r.charCodeAt(1),c[3]=255&r.charCodeAt(2),u=parseFloat(u[0]);for(var l=31536e3,f=l/Math.log(1+u/100),h=s.toIEEE754Double(f),p=0;p<=h.length;p++)c[8+p]=255&h[p]}else c[12]=255&r.charCodeAt(0),c[13]=255&r.charCodeAt(1),c[14]=255&r.charCodeAt(2);this.parse_bytes(c)}else this.parse_hex(t);break;case"number":isNaN(t)||this.parse_number(t);break;case"object":t instanceof a&&(this._value=t.copyTo({})._value,this._update())}return this},a.prototype.parse_human=function(t){return this.parse_json(t)},a.prototype._update=function(){var t=this.to_bytes(),e=!0;if(!t)return"XRP";this._native=!1,this._type=-1,this._interest_start=0/0,this._interest_period=0/0,this._iso_code="";for(var n=0;20>n;n++)e=e&&(12===n||13===n||14===n||0===t[n]);e?(this._iso_code=String.fromCharCode(t[12])+String.fromCharCode(t[13])+String.fromCharCode(t[14]),"\x00\x00\x00"===this._iso_code&&(this._native=!0,this._iso_code="XRP"),this._type=0):1===t[0]&&(this._iso_code=String.fromCharCode(t[1])+String.fromCharCode(t[2])+String.fromCharCode(t[3]),this._type=1,this._interest_start=(t[4]<<24)+(t[5]<<16)+(t[6]<<8)+t[7],this._interest_period=s.fromIEEE754Double(t.slice(8,16)))},a.prototype.is_native=function(){return this._native},a.prototype.has_interest=function(){return 1===this._type&&!isNaN(this._interest_start)&&!isNaN(this._interest_period)},a.prototype.get_interest_at=function(t){return this.has_interest?(t||(t=this._interest_start+31536e3),t instanceof Date&&(t=o.fromTimestamp(t.getTime())),Math.exp((t-this._interest_start)/this._interest_period)):0},a.prototype.get_interest_percentage_at=function(t,e){var n=this.get_interest_at(t,e),n=100*n-100,r=e?Math.pow(10,e):100;return Math.round(n*r)/r},a.prototype.to_json=function(t){if(!this.is_valid())return"XRP";var e,t=t||{},n=t&&t.full_name?" - "+t.full_name:"";if(t.force_hex||!/^[A-Z0-9]{3}$/.test(this._iso_code)||this.has_interest())if(!t.force_hex&&this.has_interest()){var r=t?t.decimals:void 0;e=this._iso_code+n+" ("+this.get_interest_percentage_at(this._interest_start+31536e3,r)+"%pa)"}else e=this.to_hex(),e===a.HEX_ONE&&(e=1);else e=this._iso_code+n;return e},a.prototype.to_human=function(t){return this.to_json(t)},a.prototype.get_iso=function(){return this._iso_code},e.Currency=a},function(t,e,n){function r(t){return o.codec.bytes.fromBits(o.hash.sha256.hash(o.codec.bytes.toBits(t)))}function i(t){return r(r(t))}var o=n(19).sjcl,s=n(19),a=n(44),u=s.jsbn.BigInteger,c={},l=c.alphabets={ripple:"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz",tipple:"RPShNAF39wBUDnEGHJKLM4pQrsT7VWXYZ2bcdeCg65jkm8ofqi1tuvaxyz",bitcoin:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"};a(c,{VER_NONE:1,VER_NODE_PUBLIC:28,VER_NODE_PRIVATE:32,VER_ACCOUNT_ID:0,VER_ACCOUNT_PUBLIC:35,VER_ACCOUNT_PRIVATE:34,VER_FAMILY_GENERATOR:41,VER_FAMILY_SEED:33}),c.encode=function(t,e){for(var n=l[e||"ripple"],r=new u(String(n.length)),i=new u,o=new u,s=new u(t),a=[];s.compareTo(u.ZERO)>0;)s.divRemTo(r,i,o),i.copyTo(s),a.push(n[o.intValue()]);for(var c=0;c!==t.length&&!t[c];c+=1)a.push(n[0]);return a.reverse().join("")},c.decode=function(t,e){if("string"!=typeof t)return void 0;var n,r=l[e||"ripple"],i=new u(String(r.length)),o=new u;for(n=0;n!==t.length&&t[n]===r[0];n+=1);for(;n!==t.length;n+=1){var a=r.indexOf(t[n]);if(0>a)return void 0;var c=new u;c.fromInt(a),o=o.multiply(i).add(c)}for(var f=o.toByteArray().map(function(t){return t?0>t?256+t:t:0}),h=0;h!==f.length&&!f[h];)h+=1;h&&(f=f.slice(h));for(var p=0;p!==t.length&&t[p]===r[0];)p+=1;return[].concat(s.arraySet(p,0),f)},c.verify_checksum=function(t){for(var e=i(t.slice(0,-4)).slice(0,4),n=t.slice(-4),r=!0,o=0;4>o;o++)if(e[o]!==n[o]){r=!1;break}return r},c.encode_check=function(t,e,n){var i=[].concat(t,e),o=r(r(i)).slice(0,4);return c.encode([].concat(i,o),n)},c.decode_check=function(t,e,n){var r=c.decode(e,n);if(!r||r.length<5)return 0/0;if("number"==typeof t&&r[0]!==t)return 0/0;if(Array.isArray(t)){for(var i=!1,o=0,s=t.length;s>o;o++)i|=t[o]===r[0];if(!i)return 0/0}return c.verify_checksum(r)?(r[0]=0,new u(r.slice(0,-4),256)):0/0},e.Base=c},function(t,e,n){var r=n(19),i=n(22),o=n(44),s=r.jsbn.BigInteger,a=n(29).UInt,u=n(7).Base,c=o(function(){this._value=0/0,this._version_byte=void 0,this._update()},a);c.width=20,c.prototype=o({},a.prototype),c.prototype.constructor=c;{var l=(c.ACCOUNT_ZERO="rrrrrrrrrrrrrrrrrrrrrhoLvTp",c.ACCOUNT_ONE="rrrrrrrrrrrrrrrrrrrrBZbvji",c.HEX_ZERO="0000000000000000000000000000000000000000"),f=c.HEX_ONE="0000000000000000000000000000000000000001";c.STR_ZERO=r.hexToString(l),c.STR_ONE=r.hexToString(f)}c.prototype.set_version=function(t){return this._version_byte=t,this},c.prototype.get_version=function(){return this._version_byte},c.prototype.parse_json=function(t){return i.accounts&&t in i.accounts&&(t=i.accounts[t].account),"number"!=typeof t||isNaN(t)?"string"!=typeof t?this._value=0/0:"r"===t[0]?(this._value=u.decode_check(u.VER_ACCOUNT_ID,t),this._version_byte=u.VER_ACCOUNT_ID):this.parse_hex(t):(this._value=new s(String(t)),this._version_byte=u.VER_ACCOUNT_ID),this._update(),this},c.prototype.parse_generic=function(t){return a.prototype.parse_generic.call(this,t),isNaN(this._value)&&"string"==typeof t&&"r"===t[0]&&(this._value=u.decode_check(u.VER_ACCOUNT_ID,t)),this._update(),this},c.prototype.to_json=function(t){if(t=t||{},this._value instanceof s){if("number"==typeof this._version_byte){var e=u.encode_check(this._version_byte,this.to_bytes());return t.gateways&&e in t.gateways&&(e=t.gateways[e]),e}return this.to_hex()}return 0/0},e.UInt160=c},function(t,e,n){var r=n(19),i=n(44),o=n(29).UInt,s=i(function(){this._value=0/0},o);s.width=32,s.prototype=i({},o.prototype),s.prototype.constructor=s;{var a=s.HEX_ZERO="0000000000000000000000000000000000000000000000000000000000000000",u=s.HEX_ONE="0000000000000000000000000000000000000000000000000000000000000001";s.STR_ZERO=r.hexToString(a),s.STR_ONE=r.hexToString(u)}e.UInt256=s},function(t,e,n){function r(t,e){return[].concat(t,e>>24,e>>16&255,e>>8&255,255&e)}function i(t){return a.bitArray.bitSlice(a.hash.sha512.hash(a.codec.bytes.toBits(t)),0,256)}var o=n(44),s=n(19),a=s.sjcl,u=s.jsbn.BigInteger,c=n(7).Base,l=n(29).UInt,f=(n(9).UInt256,n(8).UInt160),h=n(30).KeyPair,p=o(function(){this._curve=a.ecc.curves.c256,this._value=0/0},l);p.width=16,p.prototype=o({},l.prototype),p.prototype.constructor=p,p.prototype.parse_json=function(t){return"string"==typeof t&&t.length?"s"===t[0]?this._value=c.decode_check(c.VER_FAMILY_SEED,t):/^[0-9a-fA-f]{32}$/.test(t)?this.parse_hex(t):this.parse_passphrase(t):this._value=0/0,this},p.prototype.parse_passphrase=function(t){if("string"!=typeof t)throw new Error("Passphrase must be a string");var e=a.hash.sha512.hash(a.codec.utf8String.toBits(t)),n=a.bitArray.bitSlice(e,0,128);return this.parse_bits(n),this},p.prototype.to_json=function(){if(!(this._value instanceof u))return 0/0;var t=c.encode_check(c.VER_FAMILY_SEED,this.to_bytes());return t},p.prototype.get_key=function(t){var e,n=0;if(!this.is_valid())throw new Error("Cannot generate keys from invalid seed!");t&&("number"==typeof t?n=t:e=f.from_json(t));var o,s,u=this._curve,c=0;do o=a.bn.fromBits(i(r(this.to_bytes(),c))),c++;while(!u.r.greaterEquals(o));s=u.G.mult(o);var l,p,d=1e3;do{c=0;do l=a.bn.fromBits(i(r(r(s.toBytesCompressed(),n),c))),c++;while(!u.r.greaterEquals(l));if(n++,l=l.add(o).mod(u.r),p=h.from_bn_secret(l),--d<=0)throw new Error("Too many loops looking for KeyPair yielding "+e.to_json()+" from "+this.to_json())}while(e&&!p.get_address().equals(e));return p},e.Seed=p},function(t,e,n){function r(t){if(this.nodes=[],"object"!=typeof t)throw new TypeError("Missing metadata");if(!Array.isArray(t.AffectedNodes))throw new TypeError("Metadata missing AffectedNodes");t.AffectedNodes.forEach(this.addNode,this)}var i=n(44),o=n(19),s=n(8).UInt160,a=n(3).Amount;r.nodeTypes=["CreatedNode","ModifiedNode","DeletedNode"],r.amountFieldsAffectingIssuer=["LowLimit","HighLimit","TakerPays","TakerGets"],r.prototype.getNodeType=function(t){for(var e=null,n=0;n<r.nodeTypes.length;n++){var i=r.nodeTypes[n];if(t.hasOwnProperty(i)){e=i;break}}return e},r.prototype.addNode=function(t){this._affectedAccounts=void 0,this._affectedBooks=void 0;var e={};(e.nodeType=this.getNodeType(t))&&(t=t[e.nodeType],e.diffType=e.nodeType,e.entryType=t.LedgerEntryType,e.ledgerIndex=t.LedgerIndex,e.fields=i({},t.PreviousFields,t.NewFields,t.FinalFields),e.fieldsPrev=t.PreviousFields||{},e.fieldsNew=t.NewFields||{},e.fieldsFinal=t.FinalFields||{},this.nodes.push(e))},r.prototype.getNodes=function(t){return"object"==typeof t?this.nodes.filter(function(e){return t.nodeType&&t.nodeType!==e.nodeType?!1:t.entryType&&t.entryType!==e.entryType?!1:t.bookKey&&t.bookKey!==e.bookKey?!1:!0}):this.nodes},["forEach","map","filter","every","some","reduce"].forEach(function(t){r.prototype[t]=function(){return Array.prototype[t].apply(this.nodes,arguments)}}),r.prototype.each=r.prototype.forEach,r.prototype.getAffectedAccounts=function(){if(this._affectedAccounts)return this._affectedAccounts;for(var t=[],e=0;e<this.nodes.length;e++){var n=this.nodes[e],i="CreatedNode"===n.nodeType?n.fieldsNew:n.fieldsFinal;for(var u in i){var c=i[u];if("string"==typeof c&&s.is_valid(c))t.push(c);else if(~r.amountFieldsAffectingIssuer.indexOf(u)){var l=a.from_json(c),f=l.issuer();f.is_valid()&&!f.is_zero()&&t.push(f.to_json())}}}return this._affectedAccounts=o.arrayUnique(t),this._affectedAccounts},r.prototype.getAffectedBooks=function(){if(this._affectedBooks)return this._affectedBooks;for(var t=[],e=0;e<this.nodes.length;e++){var n=this.nodes[e];if("Offer"===n.entryType){var r=a.from_json(n.fields.TakerGets),i=a.from_json(n.fields.TakerPays),s=r.currency().to_json(),u=i.currency().to_json();"XRP"!==s&&(s+="/"+r.issuer().to_json()),"XRP"!==u&&(u+="/"+i.issuer().to_json());var c=s+":"+u;n.bookKey=c,t.push(c)}}return this._affectedBooks=o.arrayUnique(t),this._affectedBooks},e.Meta=r},function(t,e,n){(function(t){function r(e){if(Array.isArray(e)||t&&t.isBuffer(e))this.buffer=e;else if("string"==typeof e)this.buffer=f.codec.bytes.fromBits(f.codec.hex.toBits(e));else{if(e)throw new Error("Invalid buffer passed.");this.buffer=[]}this.pointer=0}function i(t){return function(e){var n=this.pointer,r=n+e;if(r>this.buffer.length)throw new Error("Buffer length exceeded");var i=this.buffer.slice(n,r);return t&&(this.pointer=r),i}}var o=n(38),s=n(44),a=n(18),u=n(31),c=(n(9).UInt256,n(32).Crypt),l=n(19),f=l.sjcl,h=l.jsbn.BigInteger,p={};Object.keys(a.tx).forEach(function(t){p[a.tx[t][0]]=t});var d={};Object.keys(a.ledger).forEach(function(t){d[a.ledger[t][0]]=t});var v={};Object.keys(a.ter).forEach(function(t){v[a.ter[t]]=t}),r.from_json=function(t){var e,t=s({},t),n=new r;if("number"==typeof t.TransactionType&&(t.TransactionType=r.lookup_type_tx(t.TransactionType),!t.TransactionType))throw new Error("Transaction type ID is invalid.");if("number"==typeof t.LedgerEntryType&&(t.LedgerEntryType=r.lookup_type_le(t.LedgerEntryType),!t.LedgerEntryType))throw new Error("LedgerEntryType ID is invalid.");if("string"==typeof t.TransactionType){if(e=a.tx[t.TransactionType],!Array.isArray(e))throw new Error("Transaction type is invalid");e=e.slice(),t.TransactionType=e.shift()}else if("string"==typeof t.LedgerEntryType){if(e=a.ledger[t.LedgerEntryType],!Array.isArray(e))throw new Error("LedgerEntryType is invalid");e=e.slice(),t.LedgerEntryType=e.shift()}else{if("object"!=typeof t.AffectedNodes)throw new Error("Object to be serialized must contain either TransactionType, LedgerEntryType or AffectedNodes.");e=a.metadata}return r.check_no_missing_fields(e,t),n.serialize(e,t),n},r.check_no_missing_fields=function(t,e){for(var n=[],i=t.length-1;i>=0;i--){var o=t[i],s=o[0],u=o[1];
a.REQUIRED===u&&void 0===e[s]&&n.push(s)}if(n.length>0){var c;throw c=void 0!==e.TransactionType?r.lookup_type_tx(e.TransactionType):null!=e.LedgerEntryType?r.lookup_type_le(e.LedgerEntryType):"TransactionMetaData",new Error(c+" is missing fields: "+JSON.stringify(n))}},r.prototype.append=function(t){t instanceof r&&(t=t.buffer),this.buffer=this.buffer.concat(t),this.pointer+=t.length},r.prototype.resetPointer=function(){this.pointer=0},r.prototype.read=i(!0),r.prototype.peek=i(!1),r.prototype.to_bits=function(){return f.codec.bytes.toBits(this.buffer)},r.prototype.to_hex=function(){return f.codec.hex.fromBits(this.to_bits()).toUpperCase()},r.prototype.to_json=function(){var t=this.pointer;this.resetPointer();for(var e={};this.pointer<this.buffer.length;){var n=u.parse(this),i=n[0],o=n[1];e[i]=r.jsonify_structure(o,i)}return this.pointer=t,e},r.jsonify_structure=function(t,e){var n;switch(typeof t){case"number":switch(e){case"LedgerEntryType":n=d[t];break;case"TransactionResult":n=v[t];break;case"TransactionType":n=p[t];break;default:n=t}break;case"object":if(null===t)break;if("function"==typeof t.to_json)n=t.to_json();else if(t instanceof h)n=t.toString(16).toUpperCase();else{n=new t.constructor;for(var i=Object.keys(t),o=0,s=i.length;s>o;o++){var a=i[o];n[a]=r.jsonify_structure(t[a],a)}}break;default:n=t}return n},r.prototype.serialize=function(t,e){u.Object.serialize(this,e,!0)},r.prototype.hash=function(t){var e=new r;"undefined"!=typeof t&&u.Int32.serialize(e,t),e.append(this.buffer);var n=f.codec.bytes.toBits(e.buffer);return c.hashSha512Half(n)},r.prototype.signing_hash=r.prototype.hash,r.prototype.serialize_field=function(t,e){{var n=t[0],r=t[1];t[2],u[t[3]]}if("undefined"!=typeof e[n])try{u.serialize(this,n,e[n])}catch(i){throw i.message='Error serializing "'+n+'": '+i.message,i}else if(r===a.REQUIRED)throw new Error("Missing required field "+n)},r.get_field_header=function(t,e){var n=[0];return t>15?n.push(255&t):n[0]+=(15&t)<<4,e>15?n.push(255&e):n[0]+=15&e,n},r.sort_typedef=function(t){function e(t,e){return t[3]!==e[3]?u[t[3]].id-u[e[3]].id:t[2]-e[2]}return o(Array.isArray(t)),t.sort(e)},r.lookup_type_tx=function(t){return o.strictEqual(typeof t,"number"),p[t]},r.lookup_type_le=function(t){return o("number"==typeof t),d[t]},e.SerializedObject=r}).call(e,n(41).Buffer)},function(t,e,n){function r(t,e){switch(typeof t){case"object":o(this,t);break;case"string":this.result=t,this.result_message=e}this.engine_result=this.result=this.result||this.engine_result||this.error||"Error",this.engine_result_message=this.result_message=this.result_message||this.engine_result_message||this.error_message||"Error",this.result_message=this.message=this.result_message;var n;Error.captureStackTrace?Error.captureStackTrace(this,t||this):(n=(new Error).stack)&&(this.stack=n)}var i=n(43),o=n(44);i.inherits(r,Error),r.prototype.name="RippleError",e.RippleError=r},function(t,e,n){var r=n(49),i=(n(40),n(19).sjcl),o=n(1).Remote,s=n(10).Seed,a=n(30).KeyPair,u=n(4).Account,c=n(8).UInt160,l={};l.HASH_FUNCTION=i.hash.sha512.hash,l.MAGIC_BYTES="Ripple Signed Message:\n";var f=/^[0-9a-fA-F]+$/,h=/^([A-Za-z0-9\+]{4})*([A-Za-z0-9\+]{2}==)|([A-Za-z0-9\+]{3}=)?$/;l.signMessage=function(t,e,n){return l.signHash(l.HASH_FUNCTION(l.MAGIC_BYTES+t),e,n)},l.signHash=function(t,e,n){if("string"==typeof t&&/^[0-9a-fA-F]+$/.test(t)&&(t=i.codec.hex.toBits(t)),"object"!=typeof t||t.length<=0||"number"!=typeof t[0])throw new Error("Hash must be a bitArray or hex-encoded string");e instanceof i.ecc.ecdsa.secretKey||(e=s.from_json(e).get_key(n)._secret);var r=e.signWithRecoverablePublicKey(t),o=i.codec.base64.fromBits(r);return o},l.verifyMessageSignature=function(t,e,n){return"string"!=typeof t.message?n(new Error("Data object must contain message field to verify signature")):(t.hash=l.HASH_FUNCTION(l.MAGIC_BYTES+t.message),l.verifyHashSignature(t,e,n))},l.verifyHashSignature=function(t,e,n){function s(t){var e;try{e=i.ecc.ecdsa.publicKey.recoverFromSignature(p,v)}catch(n){return t(n)}e?t(null,e):t(new Error("Could not recover public key from signature"))}function l(t,n){var r=new a;r._pubkey=t;var i=r.to_hex_pub(),o=new u(e,d);o.publicKeyIsActive(i,n)}var p,d,v;if("function"!=typeof n)throw new Error("Must supply callback function");if(p=t.hash,p&&"string"==typeof p&&f.test(p)&&(p=i.codec.hex.toBits(p)),"object"!=typeof p||p.length<=0||"number"!=typeof p[0])return n(new Error("Hash must be a bitArray or hex-encoded string"));if(d=t.account||t.address,!d||!c.from_json(d).is_valid())return n(new Error("Account must be a valid ripple address"));if(v=t.signature,"string"!=typeof v||!h.test(v))return n(new Error("Signature must be a Base64-encoded string"));if(v=i.codec.base64.toBits(v),!(e instanceof o)||"online"!==e.state)return n(new Error("Must supply connected Remote to verify signature"));var m=[s,l];r.waterfall(m,n)},e.Message=l},function(t,e,n){function r(t){t||(t={}),"string"==typeof t&&(t={domain:t}),this.domain=t.domain||"ripple.com",this.infos={}}var i=n(49),o=n(33).BlobClient,s=n(16).AuthInfo,a=n(32).Crypt,u=n(25).sub("vault");r.prototype.getAuthInfo=function(t,e){s.get(this.domain,t,function(t,n){return t?e(t):3!==n.version?e(new Error("This wallet is incompatible with this version of the vault-client.")):n.pakdf?"string"!=typeof n.blobvault?e(new Error("No blobvault specified in the authinfo.")):void e(null,n):e(new Error("No settings for PAKDF in auth packet."))})},r.prototype._deriveLoginKeys=function(t,e,n){var r=t.username.toLowerCase().replace(/-/g,"");a.derive(t.pakdf,"login",r,e,function(r,i){r?n(r):n(null,t,e,i)})},r.prototype._deriveUnlockKey=function(t,e,n,r){var i=t.username.toLowerCase().replace(/-/g,"");a.derive(t.pakdf,"unlock",i,e,function(e,i){return e?(u.error("derive:",e),r(e)):(n||(n={}),n.unlock=i.unlock,void r(null,t,n))})},r.prototype.getRippleName=function(t,e,n){e?o.getRippleName(e,t,n):n(new Error("Blob vault URL is required"))},r.prototype.exists=function(t,e){s.get(this.domain,t.toLowerCase(),function(t,n){t?e(t):e(null,!!n.exists)})},r.prototype.login=function(t,e,n,r){function s(n){f.getAuthInfo(t,function(t,r){return r&&!r.exists?n(new Error("User does not exist.")):n(t,r,e)})}function c(t,e,r,i){var s={url:t.blobvault,blob_id:r.id,key:r.crypt,device_id:n};o.get(s,function(n,o){return n?i(n):(f.infos[r.id]=t,o.missing_fields&&o.missing_fields.encrypted_blobdecrypt_key&&(u.info("migration: saving encrypted blob decrypt key"),t.blob=o,f._deriveUnlockKey(t,e,r,l)),void i(null,{blob:o,username:t.username,verified:t.emailVerified}))})}function l(t,e,n){if(!t&&n.unlock){var r;try{r=a.decrypt(n.unlock,e.blob.encrypted_secret)}catch(i){return u.error("decrypt:",i)}options={username:e.username,blob:e.blob,masterkey:r,keys:n},o.updateKeys(options,function(t){t&&u.error("updateKeys:",t)})}}var f=this,h=[s,f._deriveLoginKeys,c];i.waterfall(h,r)},r.prototype.relogin=function(t,e,n,r,i){if(!t&&this.infos[e]&&(t=this.infos[e].blobvault),!t)return i(new Error("Blob vault URL is required"));var s={url:t,blob_id:e,key:n,device_id:r};o.get(s,function(t,e){t?i(t):i(null,{blob:e})})},r.prototype.unlock=function(t,e,n,r){function o(n){u.getAuthInfo(t,function(t,r){return r&&!r.exists?n(new Error("User does not exist.")):n(t,r,e,{})})}function s(t,e,r){var i;try{i=a.decrypt(e.unlock,n)}catch(o){return r(o)}r(null,{keys:e,secret:i})}var u=this,c=[o,u._deriveUnlockKey,s];i.waterfall(c,r)},r.prototype.loginAndUnlock=function(t,e,n,r){function o(r){c.login(t,e,n,function(t,n){if(t)return r(t);if(!n.blob||!n.blob.encrypted_secret)return r(new Error("Unable to retrieve blob and secret."));if(!n.blob.id||!n.blob.key)return r(new Error("Unable to retrieve keys."));var i=c.infos[n.blob.id];return i?void r(null,i,e,n.blob):r(new Error("Unable to find authInfo"))})}function s(t,e,n,r){c._deriveUnlockKey(t,e,null,function(t,e,i){r(t,i.unlock,e,n)})}function u(t,e,n,r){var i;try{i=a.decrypt(t,n.encrypted_secret)}catch(o){return r(o)}r(null,{blob:n,unlock:t,secret:i,username:e.username,verified:e.emailVerified})}var c=this,l=[o,s,u];i.waterfall(l,r)},r.prototype.verify=function(t,e,n){var r=this;r.getAuthInfo(t,function(r,i){return r?n(r):void o.verify(i.blobvault,t.toLowerCase(),e,n)})},r.prototype.changePassword=function(t,e){function n(e){s.getAuthInfo(t.username,function(t,n){return e(t,n,a)})}function r(e,n,r){t.keys=n,o.updateKeys(t,r)}var s=this,a=String(t.password).trim(),u=[n,s._deriveLoginKeys,s._deriveUnlockKey,r];i.waterfall(u,e)},r.prototype.rename=function(t,e){function n(t){s.getAuthInfo(a,function(e,n){return n&&n.exists?t(new Error("username already taken.")):(n.username=a,t(e,n,u))})}function r(e,n,r){t.keys=n,o.rename(t,r)}var s=this,a=String(t.new_username).trim(),u=String(t.password).trim(),c=[n,s._deriveLoginKeys,s._deriveUnlockKey,r];i.waterfall(c,e)},r.prototype.register=function(t,e){function n(t){s.getAuthInfo(u,function(e,n){return t(e,n,c)})}function r(e,n,r){var i={url:e.blobvault,id:n.id,crypt:n.crypt,unlock:n.unlock,username:u,email:t.email,masterkey:t.masterkey||a.createMaster(),activateLink:t.activateLink,oldUserBlob:t.oldUserBlob,domain:t.domain};o.create(i,function(t,e){t?r(t):r(null,{blob:e,username:u})})}var s=this,u=String(t.username).trim(),c=String(t.password).trim(),l=s.validateUsername(u);if(!l.valid)return e(new Error("invalid username."));var f=[n,s._deriveLoginKeys,s._deriveUnlockKey,r];i.waterfall(f,e)},r.prototype.validateUsername=function(t){t=String(t).trim();var e={valid:!1,reason:""};return t.length<2?e.reason="tooshort":t.length>20?e.reason="toolong":/^[a-zA-Z0-9\-]+$/.exec(t)?/^-/.exec(t)?e.reason="starthyphen":/-$/.exec(t)?e.reason="endhyphen":/--/.exec(t)?e.reason="multhyphen":e.valid=!0:e.reason="charset",e},r.prototype.generateDeviceID=function(){return a.createSecret(4)},r.prototype.resendEmail=o.resendEmail,r.prototype.updateProfile=o.updateProfile,r.prototype.recoverBlob=o.recoverBlob,r.prototype.deleteBlob=o.deleteBlob,r.prototype.requestToken=o.requestToken,r.prototype.verifyToken=o.verifyToken,e.VaultClient=r},function(t,e,n){var r=n(49),i=n(51),o=n(17).RippleTxt,s={};s._getRippleTxt=function(t,e){o.get(t,e)},s._getUser=function(t,e){i.get(t,e)},s.get=function(t,e,n){function i(n){s._getRippleTxt(t,function(r,i){if(r)return n(r);if(!i.authinfo_url)return n(new Error("Authentication is not supported on "+t));var o=Array.isArray(i.authinfo_url)?i.authinfo_url[0]:i.authinfo_url;o+="?domain="+t+"&username="+e,n(null,o)})}function o(t,e){s._getUser(t,function(t,n){t||n.error?e(new Error("Authentication info server unreachable")):e(null,n.body)})}var s=this;e=e.toLowerCase(),r.waterfall([i,o],n)},e.AuthInfo=s},function(t,e,n){var r=n(51),i=n(6).Currency,o={txts:{}};o.urlTemplates=["https://{{domain}}/ripple.txt","https://www.{{domain}}/ripple.txt","https://ripple.{{domain}}/ripple.txt","http://{{domain}}/ripple.txt","http://www.{{domain}}/ripple.txt","http://ripple.{{domain}}/ripple.txt"],o.get=function(t,e){var n=this;return n.txts[t]?e(null,n.txts[t]):void function i(s){var a=o.urlTemplates[s];return a?(a=a.replace("{{domain}}",t),void r.get(a,function(r,o){if(r||!o.text)return i(++s);var a=n.parse(o.text);n.txts[t]=a,e(null,a)})):e(new Error("No ripple.txt found"))}(0)},o.parse=function(t){var e="",n={};t=t.replace(/\r?\n/g,"\n").split("\n");for(var r=0,i=t.length;i>r;r++){var o=t[r];o.length&&"#"!==o[0]&&("["===o[0]&&"]"===o[o.length-1]?(e=o.slice(1,o.length-1),n[e]=[]):(o=o.replace(/^\s+|\s+$/g,""),n[e]&&n[e].push(o)))}return n},o.extractDomain=function(t){return match=/[^.]*\.[^.]{2,3}(?:\.[^.]{2,3})?([^.\?][^\?.]+?)?$/.exec(t),match&&match[0]?match[0]:t},o.getCurrencies=function(t,e){t=o.extractDomain(t),this.get(t,function(n,r){if(n)return e(n);if(n||!r.currencies||!r.accounts)return e(null,[]);var o=r.accounts[0],s=[];r.currencies.forEach(function(e){s.push({issuer:o,currency:i.from_json(e),domain:t})}),e(null,s)})},e.RippleTxt=o},function(t,e){var n=(e.types=[void 0,"Int16","Int32","Int64","Hash128","Hash256","Amount","VL","Account",void 0,void 0,void 0,void 0,void 0,"Object","Array","Int8","Hash160","PathSet","Vector256"],e.fields={1:{1:"LedgerEntryType",2:"TransactionType"},2:{2:"Flags",3:"SourceTag",4:"Sequence",5:"PreviousTxnLgrSeq",6:"LedgerSequence",7:"CloseTime",8:"ParentCloseTime",9:"SigningTime",10:"Expiration",11:"TransferRate",12:"WalletSize",13:"OwnerCount",14:"DestinationTag",16:"HighQualityIn",17:"HighQualityOut",18:"LowQualityIn",19:"LowQualityOut",20:"QualityIn",21:"QualityOut",22:"StampEscrow",23:"BondAmount",24:"LoadFee",25:"OfferSequence",26:"FirstLedgerSequence",27:"LastLedgerSequence",28:"TransactionIndex",29:"OperationLimit",30:"ReferenceFeeUnits",31:"ReserveBase",32:"ReserveIncrement",33:"SetFlag",34:"ClearFlag"},3:{1:"IndexNext",2:"IndexPrevious",3:"BookNode",4:"OwnerNode",5:"BaseFee",6:"ExchangeRate",7:"LowNode",8:"HighNode"},4:{1:"EmailHash"},5:{1:"LedgerHash",2:"ParentHash",3:"TransactionHash",4:"AccountHash",5:"PreviousTxnID",6:"LedgerIndex",7:"WalletLocator",8:"RootIndex",9:"AccountTxnID",16:"BookDirectory",17:"InvoiceID",18:"Nickname",19:"Feature"},6:{1:"Amount",2:"Balance",3:"LimitAmount",4:"TakerPays",5:"TakerGets",6:"LowLimit",7:"HighLimit",8:"Fee",9:"SendMax",16:"MinimumOffer",17:"RippleEscrow",18:"DeliveredAmount"},7:{1:"PublicKey",2:"MessageKey",3:"SigningPubKey",4:"TxnSignature",5:"Generator",6:"Signature",7:"Domain",8:"FundCode",9:"RemoveCode",10:"ExpireCode",11:"CreateCode",12:"MemoType",13:"MemoData"},8:{1:"Account",2:"Owner",3:"Destination",4:"Issuer",7:"Target",8:"RegularKey"},14:{1:void 0,2:"TransactionMetaData",3:"CreatedNode",4:"DeletedNode",5:"ModifiedNode",6:"PreviousFields",7:"FinalFields",8:"NewFields",9:"TemplateEntry",10:"Memo"},15:{1:void 0,2:"SigningAccounts",3:"TxnSignatures",4:"Signatures",5:"Template",6:"Necessary",7:"Sufficient",8:"AffectedNodes",9:"Memos"},16:{1:"CloseResolution",2:"TemplateEntryType",3:"TransactionResult"},17:{1:"TakerPaysCurrency",2:"TakerPaysIssuer",3:"TakerGetsCurrency",4:"TakerGetsIssuer"},18:{1:"Paths"},19:{1:"Indexes",2:"Hashes",3:"Features"}}),r=e.fieldsInverseMap={};Object.keys(n).forEach(function(t){Object.keys(n[t]).forEach(function(e){r[n[t][e]]=[Number(t),Number(e)]})});var i=e.REQUIRED=0,o=e.OPTIONAL=1,s=e.DEFAULT=2,a=[["TransactionType",i],["Flags",o],["SourceTag",o],["LastLedgerSequence",o],["Account",i],["Sequence",i],["Fee",i],["OperationLimit",o],["SigningPubKey",i],["TxnSignature",o]];e.tx={AccountSet:[3].concat(a,[["EmailHash",o],["WalletLocator",o],["WalletSize",o],["MessageKey",o],["Domain",o],["TransferRate",o]]),TrustSet:[20].concat(a,[["LimitAmount",o],["QualityIn",o],["QualityOut",o]]),OfferCreate:[7].concat(a,[["TakerPays",i],["TakerGets",i],["Expiration",o]]),OfferCancel:[8].concat(a,[["OfferSequence",i]]),SetRegularKey:[5].concat(a,[["RegularKey",i]]),Payment:[0].concat(a,[["Destination",i],["Amount",i],["SendMax",o],["Paths",s],["InvoiceID",o],["DestinationTag",o]]),Contract:[9].concat(a,[["Expiration",i],["BondAmount",i],["StampEscrow",i],["RippleEscrow",i],["CreateCode",o],["FundCode",o],["RemoveCode",o],["ExpireCode",o]]),RemoveContract:[10].concat(a,[["Target",i]]),EnableFeature:[100].concat(a,[["Feature",i]]),SetFee:[101].concat(a,[["Features",i],["BaseFee",i],["ReferenceFeeUnits",i],["ReserveBase",i],["ReserveIncrement",i]])};var u=[["LedgerIndex",o],["LedgerEntryType",i],["Flags",i]];e.ledger={AccountRoot:[97].concat(u,[["Sequence",i],["PreviousTxnLgrSeq",i],["TransferRate",o],["WalletSize",o],["OwnerCount",i],["EmailHash",o],["PreviousTxnID",i],["AccountTxnID",o],["WalletLocator",o],["Balance",i],["MessageKey",o],["Domain",o],["Account",i],["RegularKey",o]]),Contract:[99].concat(u,[["PreviousTxnLgrSeq",i],["Expiration",i],["BondAmount",i],["PreviousTxnID",i],["Balance",i],["FundCode",o],["RemoveCode",o],["ExpireCode",o],["CreateCode",o],["Account",i],["Owner",i],["Issuer",i]]),DirectoryNode:[100].concat(u,[["IndexNext",o],["IndexPrevious",o],["ExchangeRate",o],["RootIndex",i],["Owner",o],["TakerPaysCurrency",o],["TakerPaysIssuer",o],["TakerGetsCurrency",o],["TakerGetsIssuer",o],["Indexes",i]]),EnabledFeatures:[102].concat(u,[["Features",i]]),FeeSettings:[115].concat(u,[["ReferenceFeeUnits",i],["ReserveBase",i],["ReserveIncrement",i],["BaseFee",i],["LedgerIndex",o]]),GeneratorMap:[103].concat(u,[["Generator",i]]),LedgerHashes:[104].concat(u,[["LedgerEntryType",i],["Flags",i],["FirstLedgerSequence",o],["LastLedgerSequence",o],["LedgerIndex",o],["Hashes",i]]),Nickname:[110].concat(u,[["LedgerEntryType",i],["Flags",i],["LedgerIndex",o],["MinimumOffer",o],["Account",i]]),Offer:[111].concat(u,[["LedgerEntryType",i],["Flags",i],["Sequence",i],["PreviousTxnLgrSeq",i],["Expiration",o],["BookNode",i],["OwnerNode",i],["PreviousTxnID",i],["LedgerIndex",o],["BookDirectory",i],["TakerPays",i],["TakerGets",i],["Account",i]]),RippleState:[114].concat(u,[["LedgerEntryType",i],["Flags",i],["PreviousTxnLgrSeq",i],["HighQualityIn",o],["HighQualityOut",o],["LowQualityIn",o],["LowQualityOut",o],["LowNode",o],["HighNode",o],["PreviousTxnID",i],["LedgerIndex",o],["Balance",i],["LowLimit",i],["HighLimit",i]])},e.metadata=[["TransactionIndex",i],["TransactionResult",i],["AffectedNodes",i]],e.ter={tesSUCCESS:0,tecCLAIM:100,tecPATH_PARTIAL:101,tecUNFUNDED_ADD:102,tecUNFUNDED_OFFER:103,tecUNFUNDED_PAYMENT:104,tecFAILED_PROCESSING:105,tecDIR_FULL:121,tecINSUF_RESERVE_LINE:122,tecINSUF_RESERVE_OFFER:123,tecNO_DST:124,tecNO_DST_INSUF_XRP:125,tecNO_LINE_INSUF_RESERVE:126,tecNO_LINE_REDUNDANT:127,tecPATH_DRY:128,tecUNFUNDED:129,tecMASTER_DISABLED:130,tecNO_REGULAR_KEY:131,tecOWNERS:132}},function(t,e,n){function r(t,e){return function(){console.log("%s: %s",r,arguments.toString),e(arguments)}}function i(t,e){for(var n=new Array(t),r=0;t>r;r++)n[r]=e;return n}function o(t){var e=[],n=0;for(t.length%2&&(e.push(String.fromCharCode(parseInt(t.substring(0,1),16))),n=1);n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substring(n,n+2),16)));return e.join("")}function s(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);e+=16>r?"0"+r.toString(16):r.toString(16)}return e}function a(t){for(var e=new Array(t.length),n=0;n<e.length;n+=1)e[n]=t.charCodeAt(n);return e}function u(t){return a(o(t))}function c(t,e,n){var r=[],i=0,o=t.length;for(n&&(i=t.length%e,i&&r.push(t.slice(0,i)));o>i;i+=e)r.push(t.slice(i,e+i));return r}function l(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:"."))}function f(t){for(var e={},n=[],r=0,i=t.length;i>r;r++){var o=t[r];e[o]||(n.push(o),e[o]=!0)}return n}function h(t){return 1e3*(t+946684800)}function p(t){return t instanceof Date&&(t=t.getTime()),Math.round(t/1e3)-946684800}e.time={fromRipple:h,toRipple:p},e.trace=r,e.arraySet=i,e.hexToString=o,e.hexToArray=u,e.stringToArray=a,e.stringToHex=s,e.chunkString=c,e.assert=l,e.arrayUnique=f,e.toTimestamp=h,e.fromTimestamp=p,e.sjcl=n(34),e.jsbn=n(35)},function(t,e,n){function r(t,e){function n(){var t=i._checkActivity.bind(i);i._activityInterval=setInterval(t,1e3)}s.call(this);var i=this;if("string"==typeof e){var a=o.parse(e);e={host:a.hostname,port:a.port,secure:"ws:"===a.protocol?!1:!0}}if("object"!=typeof e)throw new TypeError("Server configuration is not an Object");if(!r.domainRE.test(e.host))throw new Error('Server host is malformed, use "host" and "port" server configuration');if(!(e.port=Number(e.port)))throw new TypeError("Server port must be a number");if(e.port<1||e.port>65535)throw new TypeError('Server "port" must be an integer in range 1-65535');"boolean"!=typeof e.secure&&(e.secure=!0),this._remote=t,this._opts=e,this._ws=void 0,this._connected=!1,this._shouldConnect=!1,this._state="offline",this._id=0,this._retry=0,this._requests={},this._load_base=256,this._load_factor=256,this._fee=10,this._fee_ref=10,this._fee_base=10,this._reserve_base=void 0,this._reserve_inc=void 0,this._fee_cushion=this._remote.fee_cushion,this._lastLedgerIndex=0/0,this._lastLedgerClose=0/0,this._score=0,this._scoreWeights={ledgerclose:5,response:1},this._pubkey_node="",this._url=this._opts.url=(this._opts.secure?"wss://":"ws://")+this._opts.host+":"+this._opts.port,this.on("message",function(t){i._handleMessage(t)}),this.on("response_subscribe",function(t){i._handleResponseSubscribe(t)}),this.on("disconnect",function(){clearInterval(i._activityInterval),i.once("ledger_closed",n)}),this.once("ledger_closed",n),this._remote.on("ledger_closed",function(t){i._updateScore("ledgerclose",t)}),this.on("response_ping",function(t,e){i._updateScore("response",e)}),this.on("load_changed",function(t){i._updateScore("loadchange",t)}),this.on("connect",function(){if(!i._pubkey_node){i.on("response_server_info",function(t){try{i._pubkey_node=t.info.pubkey_node}catch(e){}});var t=i._remote.requestServerInfo();t.on("error",function(){}),i._request(t)}})}var i=n(43),o=n(42),s=n(37).EventEmitter,a=n(3).Amount,u=n(5).Transaction,c=n(25).internal.sub("server");i.inherits(r,s),r.domainRE=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|[-_]){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|[-_]){0,61}[0-9A-Za-z])?)*\.?$/,r.onlineStates=["syncing","tracking","proposing","validating","full"],r.websocketConstructor=function(){return n(36)},r.prototype._setState=function(t){if(t!==this._state)switch(this._remote.trace&&c.info(this.getServerID(),"set_state:",t),this._state=t,this.emit("state",t),t){case"online":this._connected=!0,this._retry=0,this.emit("connect");break;case"offline":this._connected=!1,this.emit("disconnect")}},r.prototype._checkActivity=function(){if(this.isConnected()&&!isNaN(this._lastLedgerClose)){var t=Date.now()-this._lastLedgerClose;t>25e3&&(this._remote.trace&&c.info(this.getServerID(),"reconnect: activity delta:",t),this.reconnect())}},r.prototype._updateScore=function(t,e){if(this.isConnected()){var n=this._scoreWeights[t]||1;switch(t){case"ledgerclose":var r=e.ledger_index-this._lastLedgerIndex;r>0&&(this._score+=n*r);break;case"response":var r=Math.floor((Date.now()-e.time)/200);this._score+=n*r;break;case"loadchange":this._fee=Number(this._computeFee(10))}this._score>1e3&&(this._remote.trace&&c.info(this.getServerID(),"reconnect: score:",this._score),this.reconnect())}},r.prototype.getRemoteAddress=r.prototype._remoteAddress=function(){var t;try{t=this._ws._socket.remoteAddress}catch(e){}return t},r.prototype.getHostID=r.prototype.getServerID=function(){return this._url+" ("+(this._pubkey_node?this._pubkey_node:"")+")"},r.prototype.disconnect=function(){var t=this;return this.isConnected()?(this._lastLedgerIndex=0/0,this._lastLedgerClose=0/0,this._score=0,this._shouldConnect=!1,this._setState("offline"),void(this._ws&&this._ws.close())):void this.once("socket_open",function(){t.disconnect()})},r.prototype.reconnect=function(){function t(){e._shouldConnect=!0,e._retry=0,e.connect()}var e=this;this._ws&&this._shouldConnect&&(this.isConnected()?(this.once("disconnect",t),this.disconnect()):t())},r.prototype.connect=function(){var t=this,e=r.websocketConstructor();if(!e)throw new Error("No websocket support detected!");if(!this.isConnected()){this._ws&&this._ws.close(),this._remote.trace&&c.info(this.getServerID(),"connect");var n=this._ws=new e(this._opts.url);this._shouldConnect=!0,t.emit("connecting"),n.onmessage=function(e){t.emit("message",e.data)},n.onopen=function(){n===t._ws&&(t.emit("socket_open"),t._request(t._remote._serverPrepareSubscribe(t)))},n.onerror=function(e){n===t._ws&&(t.emit("socket_error"),t._remote.trace&&c.info(t.getServerID(),"onerror:",e.data||e),t._handleClose())},n.onclose=function(){n===t._ws&&(t._remote.trace&&c.info(t.getServerID(),"onclose:",n.readyState),t._handleClose())}}},r.prototype._retryConnect=function(){function t(){e._shouldConnect&&(e._remote.trace&&c.info(e.getServerID(),"retry",e._retry),e.connect())}var e=this;this._retry+=1;var n=this._retry<40?50:this._retry<100?1e3:this._retry<160?1e4:3e4;this._retryTimer=setTimeout(t,n)},r.prototype._handleClose=function(){function t(){}var e=this._ws;e.onopen=e.onerror=e.onclose=e.onmessage=t,this.emit("socket_close"),this._setState("offline"),this._shouldConnect&&this._retryConnect()},r.prototype._handleMessage=function(t){try{t=JSON.parse(t)}catch(e){}if(!r.isValidMessage(t))return void this.emit("unexpected",t);switch(t.type){case"ledgerClosed":this._handleLedgerClosed(t);break;case"serverStatus":this._handleServerStatus(t);break;case"response":this._handleResponse(t);break;case"path_find":this._handlePathFind(t)}},r.prototype._handleLedgerClosed=function(t){this._lastLedgerIndex=t.ledger_index,this._lastLedgerClose=Date.now(),this.emit("ledger_closed",t)},r.prototype._handleServerStatus=function(t){var e=~r.onlineStates.indexOf(t.server_status);if(this._setState(e?"online":"offline"),r.isLoadStatus(t)){this.emit("load",t,this),this._remote.emit("load",t,this);var n=t.load_base!==this._load_base||t.load_factor!==this._load_factor;n&&(this._load_base=t.load_base,this._load_factor=t.load_factor,this.emit("load_changed",t,this),this._remote.emit("load_changed",t,this))}},r.prototype._handleResponse=function(t){var e=this._requests[t.id];if(delete this._requests[t.id],!e)return void(this._remote.trace&&c.info(this.getServerID(),"UNEXPECTED:",t));if("success"===t.status){this._remote.trace&&c.info(this.getServerID(),"response:",t);var n=e.message.command,r=t.result,i="response_"+n;e.emit("success",r),[this,this._remote].forEach(function(n){n.emit(i,r,e,t)})}else t.error&&(this._remote.trace&&c.info(this.getServerID(),"error:",t),e.emit("error",{error:"remoteError",error_message:"Remote reported an error.",remote:t}))},r.prototype._handlePathFind=function(t){this._remote.trace&&c.info(this.getServerID(),"path_find:",t)},r.prototype._handleResponseSubscribe=function(t){return this._remote._allow_partial_history||r.hasFullLedgerHistory(t)?(t.pubkey_node&&(this._pubkey_node=t.pubkey_node),r.isLoadStatus(t)&&(this._load_base=t.load_base||256,this._load_factor=t.load_factor||256,this._fee_ref=t.fee_ref||10,this._fee_base=t.fee_base||10,this._reserve_base=t.reserve_base,this._reserve_inc=t.reserve_inc),void(~r.onlineStates.indexOf(t.server_status)&&this._setState("online"))):this.reconnect()},r.hasFullLedgerHistory=function(t){return"object"==typeof t&&"full"===t.server_status&&"string"==typeof t.validated_ledgers&&2===t.validated_ledgers.split("-").length},r.isValidMessage=function(t){return"object"==typeof t&&"string"==typeof t.type},r.isLoadStatus=function(t){return"object"==typeof t&&"number"==typeof t.load_base&&"number"==typeof t.load_factor},r.prototype._sendMessage=function(t){this._ws&&(this._remote.trace&&c.info(this.getServerID(),"request:",t),this._ws.send(JSON.stringify(t)))},r.prototype._request=function(t){function e(){n._sendMessage(t.message)}var n=this;if(!this._ws)return void(this._remote.trace&&c.info(this.getServerID(),"request: DROPPING:",t.message));t.server=this,t.message.id=this._id,t.time=Date.now(),this._requests[t.message.id]=t,this._id++;var r=1===this._ws.readyState,i=t&&"subscribe"===t.message.command;this.isConnected()||r&&i?e():this.once("connect",e)},r.prototype.isConnected=r.prototype._isConnected=function(){return this._connected},r.prototype._computeFee=function(t){var e;if(t instanceof u)e=t._getFeeUnits();else{if("number"!=typeof t)throw new Error("Invalid argument");e=t}return this._feeTx(e).to_json()},r.prototype._feeTx=function(t){var e=this._feeTxUnit();return a.from_json(String(Math.ceil(t*e)))},r.prototype._feeTxUnit=function(){var t=this._fee_base/this._fee_ref;return t*=this._load_factor/this._load_base,t*=this._fee_cushion},r.prototype._reserve=function(t){var e=a.from_json(String(this._reserve_base)),n=a.from_json(String(this._reserve_inc)),r=t||0;if(0>r)throw new Error("Owner count must not be negative.");return e.add(n.product_human(r))},e.Server=r},function(t,e,n){var r=n(19).sjcl,i=n(50)({sjcl:r});t.exports=i},function(t,e,n){var r=n(44),i=t.exports={load:function(t){return r(i,t),i}}},function(t,e,n){function r(t,e,n,i,o,s){function a(t,e){if(~r.EVENTS.indexOf(e))switch(t){case"add":1===++h._listeners&&h.subscribe();break;case"remove":0===--h._listeners&&h.unsubscribe()}}function c(t){h.updateFundedAmounts(t)}function l(t){h.updateTransferRate(t)}u.call(this);var h=this;return this._remote=t,this._currencyGets=f.from_json(e),this._issuerGets=n,this._currencyPays=f.from_json(i),this._issuerPays=o,this._key=s,this._subscribed=!1,this._shouldSubscribe=!0,this._listeners=0,this._offers=[],this._ownerFunds={},this._offerCounts={},this._synchronized=!1,this.on("newListener",function(t){a("add",t)}),this.on("removeListener",function(t){a("remove",t)}),this.on("unsubscribe",function(){h.resetCache(),h._remote.removeListener("transaction",c),h._remote.removeListener("transaction",l)}),this._remote.once("prepare_subscribe",function(){h.subscribe()}),this._remote.on("disconnect",function(){h.resetCache(),h._remote.once("prepare_subscribe",function(){h.subscribe()})}),this._remote.on("transaction",c),this._remote.on("transaction",l),this}var i=n(43),o=n(44),s=n(38),a=n(49),u=n(37).EventEmitter,c=n(3).Amount,l=n(8).UInt160,f=n(6).Currency,h=n(25).internal.sub("orderbook");i.inherits(r,u),r.EVENTS=["transaction","model","trade","offer"],r.DEFAULT_TRANSFER_RATE=1e9,r.prototype.isValid=r.prototype.is_valid=function(){return this._currencyPays&&this._currencyPays.is_valid()&&(this._currencyPays.is_native()||l.is_valid(this._issuerPays))&&this._currencyGets&&this._currencyGets.is_valid()&&(this._currencyGets.is_native()||l.is_valid(this._issuerGets))&&!(this._currencyPays.is_native()&&this._currencyGets.is_native())},r.prototype.subscribe=function(){var t=this;if(this._shouldSubscribe){this._remote.trace&&h.info("subscribing",this._key);var e=[function(e){t.requestTransferRate(e)},function(e){t.requestOffers(e)},function(e){t.subscribeTransactions(e)}];a.series(e,function(){})}},r.prototype.unsubscribe=function(){var t=this;this._remote.trace&&h.info("unsubscribing",this._key),this._subscribed=!1,this._shouldSubscribe=!1,r.EVENTS.forEach(function(e){t.listeners(e).length>0&&t.removeAllListeners(e)}),this.emit("unsubscribe")},r.prototype.resetCache=function(){this._ownerFunds={},this._offerCounts={},this._synchronized=!1},r.prototype.hasCachedFunds=function(t){return s(l.is_valid(t),"Account is invalid"),void 0!==this._ownerFunds[t]},r.prototype.addCachedFunds=function(t,e){s(l.is_valid(t),"Account is invalid"),s(!isNaN(e),"Funded amount is invalid"),this._ownerFunds[t]=e},r.prototype.getCachedFunds=function(t){return s(l.is_valid(t),"Account is invalid"),this._ownerFunds[t]},r.prototype.removeCachedFunds=function(t){s(l.is_valid(t),"Account is invalid"),this._ownerFunds[t]=void 0},r.prototype.getOfferCount=function(t){return s(l.is_valid(t),"Account is invalid"),this._offerCounts[t]||0},r.prototype.incrementOfferCount=function(t){s(l.is_valid(t),"Account is invalid");var e=(this._offerCounts[t]||0)+1;return this._offerCounts[t]=e,e},r.prototype.decrementOfferCount=function(t){s(l.is_valid(t),"Account is invalid");var e=(this._offerCounts[t]||1)-1;return this._offerCounts[t]=e,e},r.prototype.applyTransferRate=function(t,e){if(s(!isNaN(t),"Balance is invalid"),this._currencyGets.is_native())return t;if(void 0===e&&(e=this._issuerTransferRate),s(!isNaN(e),"Transfer rate is invalid"),e===r.DEFAULT_TRANSFER_RATE)return t;var n="/USD/rrrrrrrrrrrrrrrrrrrrBZbvji",i=c.from_json(t+n).divide(e).multiply(c.from_json(r.DEFAULT_TRANSFER_RATE)).to_json().value;return i},r.prototype.requestTransferRate=function(t){var e=this,n=this._issuerGets;return this.once("transfer_rate",function(e){"function"==typeof t&&t(null,e)}),this._currencyGets.is_native()?this.emit("transfer_rate",r.DEFAULT_TRANSFER_RATE):this._issuerTransferRate?this.emit("transfer_rate",this._issuerTransferRate):void this._remote.requestAccountInfo(n,function(n,i){if(n)return t(n);var o=i.account_data.TransferRate||r.DEFAULT_TRANSFER_RATE;e._issuerTransferRate=o,e.emit("transfer_rate",o)})},r.prototype.setFundedAmount=function(t,e){if(s.strictEqual(typeof t,"object","Offer is invalid"),s(!isNaN(e),"Funds is invalid"),"0"===e)return t.taker_gets_funded="0",t.taker_pays_funded="0",t.is_fully_funded=!1,t;
var n="/"+this._currencyGets.to_json()+"/"+this._issuerGets;if(t.is_fully_funded=c.from_json(this._currencyGets.is_native()?e:e+n).compareTo(c.from_json(t.TakerGets))>=0,t.is_fully_funded)return t.taker_gets_funded=c.from_json(t.TakerGets).to_text(),t.taker_pays_funded=c.from_json(t.TakerPays).to_text(),t;t.taker_gets_funded=e;var r="object"==typeof t.TakerPays?t.TakerPays.value:t.TakerPays,i="object"==typeof t.TakerGets?t.TakerGets.value:t.TakerGets,o=c.from_json(r+"/000/rrrrrrrrrrrrrrrrrrrrBZbvji"),a=c.from_json(i+"/000/rrrrrrrrrrrrrrrrrrrrBZbvji"),u=c.from_json(e+"/000/rrrrrrrrrrrrrrrrrrrrBZbvji"),l=o.divide(a);return u=u.multiply(l),t.taker_pays_funded=u.compareTo(o)<0?u.to_json().value:o.to_json().value,t},r.prototype.requestFundedAmount=function(t,e){function n(e){o._remote.requestAccountInfo(t,function(t,n){t?e(t):e(null,String(n.account_data.Balance))})}function r(e){var n=o._remote.requestAccountLines(t,void 0,"VALIDATED",o._issuerGets);n.request(function(t,n){if(t)return e(t);for(var r,i=o._currencyGets.to_json(),s="0",a=0;r=n.lines[a];a++)if(r.currency===i){s=r.balance;break}e(null,s)})}function i(n,r){if(n)return o._remote.trace&&h.info("failed to request funds",n),e(n);o._remote.trace&&h.info("requested funds",t,r);var i,s;o._currencyGets.is_native()?(i=r[0],s=i):(i=r[1],s=o.applyTransferRate(i,r[0])),e(null,s)}s(l.is_valid(t),"Account is invalid"),s.strictEqual(typeof e,"function","Callback is invalid");var o=this;o._remote.trace&&h.info("requesting funds",t);var u=[];this._currencyGets.is_native()?u.push(n):(u.push(this.requestTransferRate.bind(this)),u.push(r)),a.parallel(u,i)},r.prototype.getBalanceChange=function(t){var e={account:void 0,balance:void 0};switch(t.entryType){case"AccountRoot":e.account=t.fields.Account,e.balance=t.fieldsFinal.Balance;break;case"RippleState":t.fields.HighLimit.issuer===this._issuerGets?(e.account=t.fields.LowLimit.issuer,e.balance=t.fieldsFinal.Balance.value):t.fields.LowLimit.issuer===this._issuerGets&&(e.account=t.fields.HighLimit.issuer,e.balance=c.from_json(t.fieldsFinal.Balance).negate().to_json().value)}return e.isValid=!isNaN(e.balance)&&l.is_valid(e.account),e},r.prototype.isBalanceChange=function(t){return t.fields&&t.fields.Balance&&t.fieldsPrev&&t.fieldsFinal&&t.fieldsPrev.Balance&&t.fieldsFinal.Balance?this._currencyGets.is_native()?!isNaN(t.fields.Balance):t.fields.Balance.currency!==this._currencyGets.to_json()?!1:t.fields.HighLimit.issuer!==this._issuerGets&&t.fields.LowLimit.issuer!==this._issuerGets?!1:!0:!1},r.prototype.updateFundedAmounts=function(t){var e=this,n=t.mmeta.getAffectedAccounts(),r=n.some(function(t){return e.hasCachedFunds(t)});if(r){if(!this._currencyGets.is_native()&&!this._issuerTransferRate)return e._remote.trace&&h.info("waiting for transfer rate"),this.once("transfer_rate",function(){e.updateFundedAmounts(t)}),void this.requestTransferRate();for(var i=t.mmeta.getNodes({nodeType:"ModifiedNode",entryType:this._currencyGets.is_native()?"AccountRoot":"RippleState"}),o=0;o<i.length;o++){var s=i[o];if(this.isBalanceChange(s)){var a=this.getBalanceChange(s);a.isValid&&this.hasCachedFunds(a.account)&&this.updateOfferFunds(a.account,a.balance)}}}},r.prototype.updateTransferRate=function(t){var e=this,n=t.mmeta.getAffectedAccounts(),r=n.some(function(t){return t===e._issuerGets})},r.prototype.requestOffers=function(t){function e(e){if(!Array.isArray(e.offers))return t(new Error("Invalid response"));r._remote.trace&&h.info("requested offers",r._key,"offers: "+e.offers.length),r._offers=[];for(var n=0,i=e.offers.length;i>n;n++){var o,s=e.offers[n];r.hasCachedFunds(s.Account)?o=r.getCachedFunds(s.Account):s.hasOwnProperty("owner_funds")&&(o=r.applyTransferRate(s.owner_funds),r.addCachedFunds(s.Account,o)),r.setFundedAmount(s,o),r.incrementOfferCount(s.Account),r._offers.push(s)}r._synchronized=!0,r.emit("model",r._offers),t(null,r._offers)}function n(e){r._remote.trace&&h.info("failed to request offers",r._key,e),t(e)}var r=this;if("function"!=typeof t&&(t=function(){}),!this._shouldSubscribe)return t(new Error("Should not request offers"));this._remote.trace&&h.info("requesting offers",this._key);var i=this._remote.requestBookOffers(this.toJSON());return i.once("success",e),i.once("error",n),i.request(),i},r.prototype.subscribeTransactions=function(t){function e(e){r._remote.trace&&h.info("subscribed to transactions"),r._subscribed=!0,t(null,e)}function n(e){r._remote.trace&&h.info("failed to subscribe to transactions",r._key,e),t(e)}var r=this;if("function"!=typeof t&&(t=function(){}),!this._shouldSubscribe)return t("Should not subscribe");this._remote.trace&&h.info("subscribing to transactions");var i=this._remote.requestSubscribe();return i.addStream("transactions"),i.once("success",e),i.once("error",n),i.request(),i},r.prototype.offers=r.prototype.getOffers=function(t){s.strictEqual(typeof t,"function","Callback missing");return this._synchronized?t(null,this._offers):this.once("model",function(e){t(null,e)}),this},r.prototype.offersSync=r.prototype.getOffersSync=function(){return this._offers},r.prototype.insertOffer=function(t,e){this._remote.trace&&h.info("inserting offer",this._key,t.fields);var n=t.fields;n.index=t.ledgerIndex,isNaN(e)||(this.setFundedAmount(n,e),this.addCachedFunds(n.Account,e));for(var r={reference_date:new Date},i=c.from_json(n.TakerPays).ratio_human(t.fields.TakerGets,r),o=0,s=this._offers.length;s>o;o++){var a=this._offers[o],u=c.from_json(a.TakerPays).ratio_human(a.TakerGets,r);if(i.compareTo(u)<=0){this._offers.splice(o,0,n);break}o===s-1&&this._offers.push(n)}this.emit("offer_added",n)},r.prototype.modifyOffer=function(t,e){this._remote.trace&&(e?h.info("deleting offer",this._key,t.fields):h.info("modifying offer",this._key,t.fields));for(var n=0;n<this._offers.length;n++){var r=this._offers[n];if(r.index===t.ledgerIndex){if(e)this._offers.splice(n,1),this.emit("offer_removed",r);else{var i=o({},r);o(r,t.fieldsFinal),this.emit("offer_changed",i,r)}break}}},r.prototype.updateOfferFunds=function(t,e){s(l.is_valid(t),"Account is invalid"),s(!isNaN(e),"Funded amount is invalid"),this._remote.trace&&h.info("updating offer funds",this._key,t,n);var n=this.applyTransferRate(e);this.addCachedFunds(t,n);for(var r=0;r<this._offers.length;r++){var i=this._offers[r];if(i.Account===t){var a="/USD/rrrrrrrrrrrrrrrrrrrrBZbvji",u=o({},i),f=c.from_json(i.taker_gets_funded+a);i.owner_funds=e,this.setFundedAmount(i,n);var p=!f.equals(c.from_json(i.taker_gets_funded+a));p&&(this.emit("offer_changed",u,i),this.emit("offer_funds_changed",i,u.taker_gets_funded,i.taker_gets_funded))}}},r.prototype.notify=function(t){function e(e,r){var s="DeletedNode"===e.nodeType,a="OfferCancel"===t.transaction.TransactionType;switch(e.nodeType){case"DeletedNode":case"ModifiedNode":n.modifyOffer(e,s),a||(i=i.add(e.fieldsPrev.TakerGets),o=o.add(e.fieldsPrev.TakerPays),s?n.decrementOfferCount(e.fields.Account)<1&&n.removeCachedFunds(e.fields.Account):(i=i.subtract(e.fieldsFinal.TakerGets),o=o.subtract(e.fieldsFinal.TakerPays))),r();break;case"CreatedNode":n.incrementOfferCount(e.fields.Account);var u=t.transaction.owner_funds;if(!isNaN(u))return n.insertOffer(e,u),r();n.requestFundedAmount(e.fields.Account,function(t,i){t||n.insertOffer(e,i),r()})}}var n=this;if(this._subscribed){var r=t.mmeta.getNodes({entryType:"Offer",bookKey:this._key});if(!(r.length<1)){this._remote.trace&&h.info("notifying",this._key,t.transaction.hash);var i=c.from_json("0"+(f.from_json(this._currencyGets).is_native()?"":"/"+this._currencyGets+"/"+this._issuerGets)),o=c.from_json("0"+(f.from_json(this._currencyPays).is_native()?"":"/"+this._currencyPays+"/"+this._issuerPays));a.eachSeries(r,e,function(){n.emit("transaction",t),n.emit("model",n._offers),i.is_zero()||n.emit("trade",o,i)})}}},r.prototype.toJSON=r.prototype.to_json=function(){var t={taker_gets:{currency:this._currencyGets.to_hex()},taker_pays:{currency:this._currencyPays.to_hex()}};return this._currencyGets.is_native()||(t.taker_gets.issuer=this._issuerGets),this._currencyPays.is_native()||(t.taker_pays.issuer=this._issuerPays),t},e.OrderBook=r},function(t,e,n){function r(t,e,n,r,o){i.call(this),this.remote=t,this.src_account=e,this.dst_account=n,this.dst_amount=r,this.src_currencies=o}{var i=n(37).EventEmitter,o=n(43),s=n(3).Amount;n(44)}o.inherits(r,i),r.prototype.create=function(){function t(t,n){t?e.emit("error",t):e.notify_update(n)}var e=this,n=this.remote.request_path_find_create(this.src_account,this.dst_account,this.dst_amount,this.src_currencies,t);n.request()},r.prototype.close=function(){this.remote.request_path_find_close().request(),this.emit("end"),this.emit("close")},r.prototype.notify_update=function(t){var e=t.source_account,n=t.destination_account,r=s.from_json(t.destination_amount);this.src_account===e&&this.dst_account===n&&this.dst_amount.equals(r)&&this.emit("update",t)},r.prototype.notify_superceded=function(){this.emit("end"),this.emit("superceded")},e.PathFind=r},function(t,e,n){var e=t.exports=n(39),r={logObject:function(t){var e=Array.prototype.slice.call(arguments,1);e=e.map(function(t){return/MSIE/.test(navigator.userAgent)?JSON.stringify(t,null,2):t}),e.unshift(t),e.unshift("["+(new Date).toISOString()+"]"),console.log.apply(console,e)}};window.console&&window.console.log&&(e.Log.engine=r)},function(t,e,n){function r(t){function e(t){var e=r.normalizeTransaction(t),n=e.tx_json.Sequence,i=e.tx_json.hash;if(e.validated){f._pending.addReceivedSequence(n);var o=f._pending.getSubmission(i);f._remote.trace&&c.info("transaction received:",e.tx_json),o instanceof s?o.emit("success",e):f._pending.addReceivedId(i,e)}}function n(t){f._pending.forEach(function(e){switch(t.ledger_index-e.submitIndex){case 8:e.emit("lost",t);break;case 4:e.emit("missing",t)}})}function i(t){function r(r,i){!r&&Array.isArray(i.transactions)&&i.transactions.forEach(e),f._remote.on("ledger_closed",n),f._loadSequence(f._resubmit.bind(f)),t()}var t="function"==typeof t?t:function(){};if(!f._pending.length)return t();var i={account:f._accountID,ledger_index_min:-1,ledger_index_max:-1,binary:!0,parseBinary:!0,limit:100,filter:"outbound"};f._remote.requestAccountTx(i,r),f.emit("reconnect")}function a(){f._remote.once("connect",i),f._remote.removeListener("ledger_closed",n)}function l(t){f._remote.storage.saveTransaction(t.summary())}o.call(this);var f=this;this._account=t,this._accountID=t._account_id,this._remote=t._remote,this._nextSequence=void 0,this._maxFee=this._remote.max_fee,this._submissionTimeout=this._remote._submission_timeout,this._pending=new u,this._loadSequence(),this._account.on("transaction-outbound",e),this._remote.on("load_changed",this._adjustFees.bind(this)),this._remote.on("ledger_closed",n),this._remote.on("disconnect",a),this._remote.storage&&this.on("save",l)}var i=n(43),o=n(37).EventEmitter,s=n(5).Transaction,a=n(13).RippleError,u=n(45).TransactionQueue,c=n(25).internal.sub("transactionmanager");i.inherits(r,o),r.normalizeTransaction=function(t){var e={};return Object.keys(t).forEach(function(n){e[n]=t[n]}),t.engine_result||(e={engine_result:t.meta.TransactionResult,tx_json:t.tx,hash:t.tx.hash,ledger_index:t.tx.ledger_index,meta:t.meta,type:"transaction",validated:!0},e.result=e.engine_result,e.result_message=e.engine_result_message),e.metadata||(e.metadata=e.meta),e.tx_json||(e.tx_json=e.transaction),delete e.transaction,delete e.mmeta,delete e.meta,e},r.prototype._adjustFees=function(){var t=this;this._remote.local_fee&&this._pending.forEach(function(e){function n(){e.once("presubmit",function(){e.emit("error","tejMaxFeeExceeded")})}var r=e.tx_json.Fee,i=e._computeFee();return Number(i)>t._maxFee?n():(e.tx_json.Fee=i,e.emit("fee_adjusted",r,i),void(t._remote.trace&&c.info("fee adjusted:",e.tx_json,r,i)))})},r.prototype._fillSequence=function(t,e){function n(e,n){var r=i._remote.transaction();r.account_set(i._accountID),r.tx_json.Sequence=e,r.once("submitted",n),t._secret&&r.secret(t._secret),r.submit()}function r(r,i){if("number"!=typeof i)return e(new Error("Failed to fetch account transaction sequence"));var o=t.tx_json.Sequence-i,s=0;!function a(r){r>=t.tx_json.Sequence||n(r,function(){++s===o?e():a(r+1)})}(i)}var i=this;this._loadSequence(r)},r.prototype._loadSequence=function(t){function e(e,r){"number"==typeof r?(n._nextSequence=r,n.emit("sequence_loaded",r),"function"==typeof t&&t(e,r)):setTimeout(function(){n._loadSequence(t)},3e3)}var n=this;this._account.getNextSequence(e)},r.prototype._resubmit=function(t,e){function n(t){if(t&&!t.finalized){var e=t.findId(i._pending._idCache);if(i._remote.trace&&c.info("resubmit:",t.tx_json),e)return t.emit("success",e);for(;i._pending.hasSequence(t.tx_json.Sequence);)t.tx_json.Sequence+=1,i._remote.trace&&c.info("incrementing sequence:",t.tx_json);i._request(t)}}function r(){!function t(r){var o=e[r];o instanceof s&&(o.once("submitted",function(n){o.emit("resubmitted",n),i._loadSequence(),++r<e.length&&t(r)}),n(o))}(0)}var i=this,e=e?[e]:this._pending,t=Number(t)||0;this._waitLedgers(t,r)},r.prototype._waitLedgers=function(t,e){function n(){++i<t||(r._remote.removeListener("ledger_closed",n),e())}if(1>t)return e();var r=this,i=0;this._remote.on("ledger_closed",n)},r.prototype._request=function(t){function e(e){t.finalized||(e.rejected=t.isRejected(e.engine_result_code),t.emit("proposed",e))}function n(e){if(!t.finalized)switch(e.engine_result){case"tefPAST_SEQ":d._resubmit(1,t);break;case"tefALREADY":t.responses===t.submissions?t.emit("error",e):g.once("success",l);break;default:t.emit("error",e)}}function i(){t.finalized||d._fillSequence(t,function(){d._resubmit(1,t)})}function o(e){t.finalized||t.emit("error",e)}function s(e){t.finalized||(d._remote.local_fee&&"telINSUF_FEE_P"===e.engine_result?d._resubmit(2,t):u(e))}function u(e){t.finalized||(r._isTooBusy(e)?d._resubmit(1,t):(d._nextSequence--,t.emit("error",e)))}function l(r){if(!t.finalized)switch(r.tx_json&&r.tx_json.hash&&t.addId(r.tx_json.hash),r.result=r.engine_result||"",t.result=r,t.responses+=1,v.trace&&c.info("submit response:",r),t.emit("submitted",r),r.result.slice(0,3)){case"tes":e(r);break;case"tec":o(r);break;case"ter":i(r);break;case"tef":n(r);break;case"tel":s(r);break;default:u(r)}}function f(){v.local_signing?(g.tx_blob(t.serialize().to_hex()),t.addId(t.hash())):(g.build_path(t._build_path),g.secret(t._secret),g.tx_json(t.tx_json)),t._server&&(g.server=t._server),p()}function h(){t.finalized||(t.emit("timeout"),v._connected&&(v.trace&&c.info("timeout:",t.tx_json),d._resubmit(3,t)))}function p(){t.finalized||(g.timeout(d._submissionTimeout,h),t.submissions=g.broadcast(),t.attempts++,t.emit("postsubmit"))}var d=this,v=this._remote;if(t.attempts>10)return t.emit("error",new a("tejAttemptsExceeded"));if(t.attempts>0&&!v.local_signing){var m="It is not possible to resubmit transactions automatically safely without synthesizing the transactionID locally. See `local_signing` config option";return t.emit("error",new a("tejLocalSigningRequired",m))}if(t.emit("presubmit"),!t.finalized){v.trace&&c.info("submit transaction:",t.tx_json);var g=v.requestSubmit();return g.once("error",l),g.once("success",l),t.submitIndex=this._remote._ledger_current_index,0===t.attempts&&(t.initialSubmitIndex=t.submitIndex),t._setLastLedger||(t.tx_json.LastLedgerSequence=t.submitIndex+8),t.lastLedgerSequence=t.tx_json.LastLedgerSequence,v.local_signing?t.sign(f):f(),g}},r._isNoOp=function(t){return"object"==typeof t&&"object"==typeof t.tx_json&&"AccountSet"===t.tx_json.TransactionType&&0===t.tx_json.Flags},r._isRemoteError=function(t){return"object"==typeof t&&"remoteError"===t.error&&"object"==typeof t.remote},r._isNotFound=function(t){return r._isRemoteError(t)&&/^(txnNotFound|transactionNotFound)$/.test(t.remote.error)},r._isTooBusy=function(t){return r._isRemoteError(t)&&"tooBusy"===t.remote.error},r.prototype.submit=function(t){function e(e){n._pending.remove(t),t.emit("final",e),r.trace&&c.info("transaction finalized:",t.tx_json,n._pending.getLength())}var n=this,r=this._remote;if("number"!=typeof this._nextSequence)return void this.once("sequence_loaded",this.submit.bind(this,t));if(!t.finalized){if(t.once("cleanup",e),t.on("save",function(){n.emit("save",t)}),t.once("error",function(e){t._errorHandler(e)}),t.once("success",function(e){t._successHandler(e)}),t.once("abort",function(){t.emit("error",new a("tejAbort","Transaction aborted"))}),"number"!=typeof t.tx_json.Sequence&&(t.tx_json.Sequence=this._nextSequence++),!t.complete())return void this._nextSequence--;t.attempts=0,t.submissions=0,t.responses=0,this._pending.push(t),this._request(t)}},e.TransactionManager=r},function(t,e){e.HASH_TX_ID=1415073280,e.HASH_TX_NODE=1397638144,e.HASH_INNER_NODE=1296649728,e.HASH_LEAF_NODE=1296846336,e.HASH_TX_SIGN=1398036480,e.HASH_TX_SIGN_TESTNET=1937012736},function(t,e){var n=e.Float={};n.toIEEE754=function(t,e,n){var r,i,o,s=(1<<e-1)-1;if(isNaN(t))i=(1<<s)-1,o=1,r=0;else if(1/0===t||t===-1/0)i=(1<<s)-1,o=0,r=0>t?1:0;else if(0===t)i=0,o=0,r=1/t===-1/0?1:0;else if(r=0>t,t=Math.abs(t),t>=Math.pow(2,1-s)){var a=Math.min(Math.floor(Math.log(t)/Math.LN2),s);i=a+s,o=t*Math.pow(2,n-a)-Math.pow(2,n)}else i=0,o=t/Math.pow(2,1-s-n);var u,c=[];for(u=n;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(r?1:0),c.reverse();for(var l=c.join(""),f=[];l.length;)f.push(parseInt(l.substring(0,8),2)),l=l.substring(8);return f},n.fromIEEE754=function(t,e,n){for(var r=[],i=t.length;i;i-=1)for(var o=t[i-1],s=8;s;s-=1)r.push(o%2?1:0),o>>=1;r.reverse();var a=r.join(""),u=(1<<e-1)-1,c=parseInt(a.substring(0,1),2)?-1:1,l=parseInt(a.substring(1,1+e),2),f=parseInt(a.substring(1+e),2);return l===(1<<e)-1?0!==f?0/0:1/0*c:l>0?c*Math.pow(2,l-u)*(1+f/Math.pow(2,n)):0!==f?c*Math.pow(2,-(u-1))*(f/Math.pow(2,n)):0*c},n.fromIEEE754Double=function(t){return n.fromIEEE754(t,11,52)},n.toIEEE754Double=function(t){return n.toIEEE754(t,11,52)},n.fromIEEE754Single=function(t){return n.fromIEEE754(t,8,23)},n.toIEEE754Single=function(t){return n.toIEEE754(t,8,23)},n.toIEEE754DoubleString=function(t){return e.toIEEE754Double(t).map(function(t){for(t=t.toString(2);t.length<8;t="0"+t);return t}).join("").replace(/(.)(.{11})(.{52})/,"$1 $2 $3")}},function(t,e,n){var r=n(19),i=r.sjcl,o=n(22),s=r.jsbn.BigInteger,a=function(){this._value=0/0,this._update()};a.json_rewrite=function(t,e){return this.from_json(t).to_json(e)},a.from_generic=function(t){return t instanceof this?t.clone():(new this).parse_generic(t)},a.from_hex=function(t){return t instanceof this?t.clone():(new this).parse_hex(t)},a.from_json=function(t){return t instanceof this?t.clone():(new this).parse_json(t)},a.from_bits=function(t){return t instanceof this?t.clone():(new this).parse_bits(t)},a.from_bytes=function(t){return t instanceof this?t.clone():(new this).parse_bytes(t)},a.from_bn=function(t){return t instanceof this?t.clone():(new this).parse_bn(t)},a.from_number=function(t){return t instanceof this?t.clone():(new this).parse_number(t)},a.is_valid=function(t){return this.from_json(t).is_valid()},a.prototype.clone=function(){return this.copyTo(new this.constructor)},a.prototype.copyTo=function(t){return t._value=this._value,"function"==typeof t._update&&t._update(),t},a.prototype.equals=function(t){return this._value instanceof s&&t._value instanceof s&&this._value.equals(t._value)},a.prototype.is_valid=function(){return this._value instanceof s},a.prototype.is_zero=function(){return this._value.equals(s.ZERO)},a.prototype._update=function(){},a.prototype.parse_generic=function(t){switch(o.accounts&&t in o.accounts&&(t=o.accounts[t].account),t){case void 0:case"0":case this.constructor.STR_ZERO:case this.constructor.ACCOUNT_ZERO:case this.constructor.HEX_ZERO:this._value=s.valueOf();break;case"1":case this.constructor.STR_ONE:case this.constructor.ACCOUNT_ONE:case this.constructor.HEX_ONE:this._value=new s([1]);break;default:this._value="string"!=typeof t?0/0:this.constructor.width===t.length?new s(r.stringToArray(t),256):2*this.constructor.width===t.length?new s(t,16):0/0}return this._update(),this},a.prototype.parse_hex=function(t){return this._value="string"==typeof t&&t.length===2*this.constructor.width?new s(t,16):0/0,this._update(),this},a.prototype.parse_bits=function(t){if(i.bitArray.bitLength(t)!==8*this.constructor.width)this._value=0/0;else{var e=i.codec.bytes.fromBits(t);this.parse_bytes(e)}return this._update(),this},a.prototype.parse_bytes=function(t){return this._value=Array.isArray(t)&&t.length===this.constructor.width?new s([0].concat(t),256):0/0,this._update(),this},a.prototype.parse_json=a.prototype.parse_hex,a.prototype.parse_bn=function(t){if(t instanceof i.bn&&t.bitLength()<=8*this.constructor.width){var e=i.codec.bytes.fromBits(t.toBits());this._value=new s(e,256)}else this._value=0/0;return this._update(),this},a.prototype.parse_number=function(t){return this._value=0/0,"number"==typeof t&&isFinite(t)&&t>=0&&(this._value=new s(String(t))),this._update(),this},a.prototype.to_bytes=function(){if(!(this._value instanceof s))return null;var t=this._value.toByteArray();t=t.map(function(t){return(t+256)%256});var e=this.constructor.width;for(t=t.slice(-e);t.length<e;)t.unshift(0);return t},a.prototype.to_hex=function(){if(!(this._value instanceof s))return null;var t=this.to_bytes();return i.codec.hex.fromBits(i.codec.bytes.toBits(t)).toUpperCase()},a.prototype.to_json=a.prototype.to_hex,a.prototype.to_bits=function(){if(!(this._value instanceof s))return null;var t=this.to_bytes();return i.codec.bytes.toBits(t)},a.prototype.to_bn=function(){if(!(this._value instanceof s))return null;var t=this.to_bits();return i.bn.fromBits(t)},e.UInt=a},function(t,e,n){function r(){this._curve=o.ecc.curves.c256,this._secret=null,this._pubkey=null}function i(t){return o.hash.ripemd160.hash(o.hash.sha256.hash(t))}var o=n(19).sjcl,s=n(8).UInt160,a=n(9).UInt256,u=n(7).Base;r.from_bn_secret=function(t){return t instanceof this?t.clone():(new this).parse_bn_secret(t)},r.prototype.parse_bn_secret=function(t){return this._secret=new o.ecc.ecdsa.secretKey(o.ecc.curves.c256,t),this},r.prototype._pub=function(){var t=this._curve;if(!this._pubkey&&this._secret){var e=this._secret._exponent;this._pubkey=new o.ecc.ecdsa.publicKey(t,t.G.mult(e))}return this._pubkey},r.prototype._pub_bits=function(){var t=this._pub();if(!t)return null;var e=t._point,n=e.y.mod(2).equals(0);return o.bitArray.concat([o.bitArray.partial(8,n?2:3)],e.x.toBits(this._curve.r.bitLength()))},r.prototype.to_hex_pub=function(){var t=this._pub_bits();return t?o.codec.hex.fromBits(t).toUpperCase():null},r.prototype.get_address=function(){var t=this._pub_bits();if(!t)return null;var e=i(t),n=s.from_bits(e);return n.set_version(u.VER_ACCOUNT_ID),n},r.prototype.sign=function(t){t=a.from_json(t);var e=this._secret.sign(t.to_bits(),0);return e=this._secret.canonicalizeSignature(e),this._secret.encodeDER(e)},e.KeyPair=r},function(t,e,n){function r(t){return"number"==typeof t&&isFinite(t)}function i(t){return"string"==typeof t}function o(t){return i(t)&&/^[0-9A-F]{0,16}$/i.test(t)}function s(t){return t instanceof k}function a(t,e,n){var r=T.fromBits(A.toBits(e));n||C.serialize_varint(t,r.length),t.append(r)}function u(t){return y.codec.hex.fromBits(y.codec.bytes.toBits(t)).toUpperCase()}function c(t,e,n){if(!r(e))throw new Error("Value is not a number",n);if(0>e||e>=Math.pow(256,n))throw new Error("Value out of bounds");for(var i=[],o=0;n>o;o++)i.unshift(e>>>8*o&255);t.append(i)}function l(t,e){var n=0;if(e>4)throw new Error("This function only supports up to four bytes.");for(var r=0;e>r;r++){var i=t.read(1)[0];n+=i<<8*(e-r-1)}return n>>>0}function f(t,n,r){var i=m.fieldsInverseMap[n],o=i[0],s=i[1],a=(16>o?o<<4:0)|(16>s?s:0);"LedgerEntryType"===n&&"string"==typeof r&&(r=m.ledger[r][0]),"TransactionResult"===n&&"string"==typeof r&&(r=m.ter[r]),j.serialize(t,a),o>=16&&j.serialize(t,o),s>=16&&j.serialize(t,s);var u=e[m.types[o]];try{u.serialize(t,r)}catch(c){throw c.message+=" ("+n+")",c}}function h(t){var n=t.read(1)[0],r=n>>4;0===r&&(r=t.read(1)[0]);var i=e[m.types[r]];d(i,"Unknown type - header byte is 0x"+n.toString(16));var o=15&n,s=s=0===o?m.fields[r][t.read(1)[0]]:m.fields[r][o];return d(s,"Unknown field - header byte is 0x"+n.toString(16)),[s,i.parse(t)]}function p(t){function e(t,e){var n=m.fieldsInverseMap[t],r=n[0],i=n[1],o=m.fieldsInverseMap[e],s=o[0],a=o[1];return r!==s?r-s:i-a}return t.sort(e)}var d=n(38),v=n(44),m=n(18),g=n(19),y=g.sjcl,b=n(46).UInt128,_=n(8).UInt160,w=n(9).UInt256,$=n(7).Base,x=n(3),E=x.Amount,S=x.Currency,A=y.codec.hex,T=y.codec.bytes,k=g.jsbn.BigInteger,C=function(t){v(this,t)};C.serialize_varint=function(t,e){if(0>e)throw new Error("Variable integers are unsigned.");if(192>=e)t.append([e]);else if(12480>=e)e-=193,t.append([193+(e>>>8),255&e]);else{if(!(918744>=e))throw new Error("Variable integer overflow.");e-=12481,t.append([241+(e>>>16),e>>>8&255,255&e])}},C.prototype.parse_varint=function(t){var e,n,r,i=t.read(1)[0];if(i>254)throw new Error("Invalid varint length indicator");return 192>=i?r=i:240>=i?(e=t.read(1)[0],r=193+256*(i-193)+e):254>=i&&(e=t.read(1)[0],n=t.read(1)[0],r=12481+65536*(i-241)+256*e+n),r};var j=e.Int8=new C({serialize:function(t,e){c(t,e,1)},parse:function(t){return l(t,1)}});j.id=16;var I=e.Int16=new C({serialize:function(t,e){c(t,e,2)},parse:function(t){return l(t,2)}});I.id=1;var O=e.Int32=new C({serialize:function(t,e){c(t,e,4)},parse:function(t){return l(t,4)}});O.id=2;var B=e.Int64=new C({serialize:function(t,e){var n;if(r(e)){if(e=Math.floor(e),0>e)throw new Error("Negative value for unsigned Int64 is invalid.");n=new k(String(e),10)}else if(i(e)){if(!o(e))throw new Error("Not a valid hex Int64.");n=new k(e,16)}else{if(!s(e))throw new Error("Invalid type for Int64");if(e.compareTo(k.ZERO)<0)throw new Error("Negative value for unsigned Int64 is invalid.");n=e}var u=n.toString(16);if(u.length>16)throw new Error("Int64 is too large");for(;u.length<16;)u="0"+u;a(t,u,!0)},parse:function(t){var e=t.read(8),n=new k([0].concat(e),256);return d(n instanceof k),n}});B.id=3;var D=e.Hash128=new C({serialize:function(t,e){var n=b.from_json(e);if(!n.is_valid())throw new Error("Invalid Hash128");a(t,n.to_hex(),!0)},parse:function(t){return b.from_bytes(t.read(16))}});D.id=4;var N=e.Hash256=new C({serialize:function(t,e){var n=w.from_json(e);if(!n.is_valid())throw new Error("Invalid Hash256");a(t,n.to_hex(),!0)},parse:function(t){return w.from_bytes(t.read(32))}});N.id=5;var R=e.Hash160=new C({serialize:function(t,e){var n=_.from_json(e);if(!n.is_valid())throw new Error("Invalid Hash160");a(t,n.to_hex(),!0)},parse:function(t){return _.from_bytes(t.read(20))}});R.id=17;var L=new C({serialize:function(t,e){var n=e.to_bytes();if(!n)throw new Error("Tried to serialize invalid/unimplemented currency type.");t.append(n)},parse:function(t){var e=t.read(20),n=S.from_bytes(e);return n}}),q=e.Amount=new C({serialize:function(t,e){var n=E.from_json(e);if(!n.is_valid())throw new Error("Not a valid Amount object.");var r=g.arraySet(8,0);if(n.is_native()){var i=n._value.toString(16);if(i.length>16)throw new Error("Value out of bounds");for(;i.length<16;)i="0"+i;r=T.fromBits(A.toBits(i)),r[0]&=63,n.is_negative()||(r[0]|=64)}else{var o=0,s=0;o|=1<<31,n.is_zero()||(n.is_negative()||(o|=1<<30),o|=(97+n._offset&255)<<22,o|=4194303&n._value.shiftRight(32).intValue(),s=4294967295&n._value.intValue()),r=y.codec.bytes.fromBits([o,s])}if(t.append(r),!n.is_native()){var a=n.currency();L.serialize(t,a,!0),t.append(n.issuer().to_bytes())}},parse:function(t){for(var e=new E,n=t.read(8),r=!(127&n[0]),i=1;8>i;i++)r=r&&!n[i];if(128&n[0]){var o=L.parse(t),s=t.read(20),a=_.from_bytes(s);a.set_version($.VER_ACCOUNT_ID);var u=((63&n[0])<<2)+(n[1]>>>6)-97,c=n.slice(1);c[0]&=63;var l=new k(c,256);if(l.equals(k.ZERO)&&!r)throw new Error("Invalid zero representation");e._value=l,e._offset=u,e._currency=o,e._issuer=a,e._is_native=!1}else{var f=n.slice();f[0]&=63,e._value=new k(f,256),e._is_native=!0}return e._is_negative=!(r||64&n[0]),e}});q.id=6;var M=e.VariableLength=e.VL=new C({serialize:function(t,e){if("string"!=typeof e)throw new Error("Unknown datatype.");a(t,e)},parse:function(t){var e=this.parse_varint(t);return u(t.read(e))}});M.id=7;var F=e.Account=new C({serialize:function(t,e){var n=_.from_json(e);if(!n.is_valid())throw new Error("Invalid account!");a(t,n.to_hex())},parse:function(t){var e=this.parse_varint(t);if(20!==e)throw new Error("Non-standard-length account ID");var n=_.from_bytes(t.read(e));return n.set_version($.VER_ACCOUNT_ID),n}});F.id=8;var P=e.PathSet=new C({typeBoundary:255,typeEnd:0,typeAccount:1,typeCurrency:16,typeIssuer:32,serialize:function(t,e){for(var n=0,r=e.length;r>n;n++){n&&j.serialize(t,this.typeBoundary);for(var i=0,o=e[n].length;o>i;i++){var s=e[n][i],a=0;if(s.account&&(a|=this.typeAccount),s.currency&&(a|=this.typeCurrency),s.issuer&&(a|=this.typeIssuer),j.serialize(t,a),s.account&&t.append(_.from_json(s.account).to_bytes()),s.currency){var u=S.from_json(s.currency,s.non_native);L.serialize(t,u)}s.issuer&&t.append(_.from_json(s.issuer).to_bytes())}}j.serialize(t,this.typeEnd)},parse:function(t){for(var e,n=[],r=[];(e=t.read(1)[0])!==this.typeEnd;)if(e!==this.typeBoundary){var i={};if(e&this.typeAccount&&(i.account=R.parse(t),i.account.set_version($.VER_ACCOUNT_ID)),e&this.typeCurrency&&(i.currency=L.parse(t),"XRP"!==i.currency.to_json()||i.currency.is_native()||(i.non_native=!0)),e&this.typeIssuer&&(i.issuer=R.parse(t),i.issuer.set_version($.VER_ACCOUNT_ID)),!(i.account||i.currency||i.issuer))throw new Error("Invalid path entry");r.push(i)}else r&&n.push(r),r=[];return r&&n.push(r),n}});P.id=18;var U=e.Vector256=new C({serialize:function(t,e){for(var n=(C.serialize_varint(t,32*e.length),0),r=e.length;r>n;n++)N.serialize(t,e[n])},parse:function(t){for(var e=this.parse_varint(t),n=[],r=0;e/32>r;r++)n.push(N.parse(t));return n}});U.id=19,e.serialize=e.serialize_whatever=f,e.parse=e.parse_whatever=h;var H=e.Object=new C({serialize:function(t,e,n){var r=Object.keys(e);r=r.filter(function(t){return t[0]!==t[0].toLowerCase()}),r.forEach(function(t){if("undefined"==typeof m.fieldsInverseMap[t])throw new Error('JSON contains unknown field: "'+t+'"')}),r=p(r);for(var i=0;i<r.length;i++)f(t,r[i],e[r[i]]);n||j.serialize(t,225)},parse:function(t){for(var e={};225!==t.peek(1)[0];){var n=h(t);e[n[0]]=n[1]}return t.read(1),e}});H.id=14;var z=e.Array=new C({serialize:function(t,e){for(var n=0,r=e.length;r>n;n++){var i=Object.keys(e[n]);if(1!==i.length)throw Error("Cannot serialize an array containing non-single-key objects");var o=i[0],s=e[n][o];f(t,o,s)}j.serialize(t,241)},parse:function(t){for(var e=[];241!==t.peek(1)[0];){var n=h(t),r={};r[n[0]]=n[1],e.push(r)}return t.read(1),e}});z.id=15},function(t,e,n){function r(t,e){var n=e<<3;"string"==typeof t&&(t=s.codec.utf8String.toBits(t));for(var r=0,i=[];s.bitArray.bitLength(i)<n;){var o=s.hash.sha512.hash(s.bitArray.concat([r],t));i=s.bitArray.concat(i,o),r++}return i=s.bitArray.clamp(i,n)}function i(t,e){var n=new s.misc.hmac(t,s.hash.sha512);return s.codec.hex.fromBits(s.bitArray.bitSlice(n.encrypt(e),0,256))}function o(t){for(var e=0;8>e;e++)s.random.addEntropy(Math.random(),32,"Math.random()");return s.random.randomWords(t)}var s=n(19).sjcl,a=n(7).Base,u=n(10).Seed,c=n(8).UInt160,l=n(9).UInt256,f=n(51),h=(n(52),n(44)),p=(n(42),{}),d={cipher:"aes",mode:"ccm",ts:64,ks:256,iter:1e3};p.derive=function(t,e,n,o,a){var u;u="login"===e?["id","crypt"]:["unlock"];var c=new s.bn(String(t.exponent)),l=new s.bn(String(t.modulus)),h=new s.bn(String(t.alpha)),p=["PAKDF_1_0_0",t.host.length,t.host,n.length,n,e.length,e].join(":")+":",d=Math.ceil(Math.min(7+l.bitLength()>>>3,256)/8),v=r(p,d),m=s.codec.hex.fromBits(v),g=new s.bn(String(m)).setBitM(0),y=[p,o.length,o].join(":")+":",b=7+l.bitLength()>>>3,_=r(y,b),w=s.codec.hex.fromBits(_),$=new s.bn(String(w)).mod(l);1!==$.jacobi(l)&&($=$.mul(h).mod(l));for(var x;x=s.bn.random(l,0),1!==x.jacobi(l););var E=x.powermodMontgomery(g.mul(c),l),S=$.mulmod(E,l),A=s.codec.hex.fromBits(S.toBits());
f.post(t.url).send({info:p,signreq:A}).end(function(e,n){if(e||!n)return a(new Error("Could not query PAKDF server "+t.host));var r=n.body||n.text?JSON.parse(n.text):{};if("success"!==r.result)return a(new Error("Could not query PAKDF server "+t.host));var o=new s.bn(String(r.signres)),c=x.inverseMod(l),f=o.mulmod(c,l),h=f.toBits(),p={};u.forEach(function(t){p[t]=i(h,t)}),a(null,p)})},p.encrypt=function(t,e){t=s.codec.hex.toBits(t);var n=h(!0,{},d),r=JSON.parse(s.encrypt(t,e,n)),i=[s.bitArray.partial(8,0)],o=s.codec.base64.toBits(r.iv),a=s.codec.base64.toBits(r.ct),u=s.bitArray.concat(i,o);return u=s.bitArray.concat(u,a),s.codec.base64.fromBits(u)},p.decrypt=function(t,e){t=s.codec.hex.toBits(t);var n=s.codec.base64.toBits(e),r=s.bitArray.extract(n,0,8);if(0!==r)throw new Error("Unsupported encryption version: "+r);var i=h(!0,{},d,{iv:s.codec.base64.fromBits(s.bitArray.bitSlice(n,8,136)),ct:s.codec.base64.fromBits(s.bitArray.bitSlice(n,136))});return s.decrypt(t,JSON.stringify(i))},p.isValidAddress=function(t){return c.is_valid(t)},p.createSecret=function(t){return s.codec.hex.fromBits(o(t))},p.createMaster=function(){return a.encode_check(33,s.codec.bytes.fromBits(o(4)))},p.getAddress=function(t){return u.from_json(t).get_key().get_address().to_json()},p.hashSha512=function(t){return s.codec.hex.fromBits(s.hash.sha512.hash(t))},p.hashSha512Half=function(t){return l.from_hex(p.hashSha512(t).substr(0,64))},p.signString=function(t,e){var n=new s.misc.hmac(s.codec.hex.toBits(t),s.hash.sha512);return s.codec.hex.fromBits(n.mac(e))},p.deriveRecoveryEncryptionKeyFromSecret=function(t){var e=u.from_json(t).to_bits(),n=new s.misc.hmac(e,s.hash.sha512),r=n.mac("ripple/hmac/recovery_encryption_key/v1");return r=s.bitArray.bitSlice(r,0,256),s.codec.hex.fromBits(r)},p.base64ToBase64Url=function(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]+$/,"")},p.base64UrlToBase64=function(t){for(t=t.replace(/-/g,"+").replace(/_/g,"/");t.length%4;)t+="=";return t},e.Crypt=p},function(t,e,n){function r(t){t||(t={}),this.device_id=t.device_id,this.url=t.url,this.id=t.blob_id,this.key=t.key,this.identity=new _(this),this.data={}}function i(t,e){var n=s.deriveRecoveryEncryptionKeyFromSecret(t);return s.decrypt(n,e)}function o(t,e){return/(number|string)/.test(typeof t[0])?t=[t]:1===t.length&&Array.isArray(t[0])&&/(number|string)/.test(typeof t[0][0])||Array.isArray(t[0])&&(t=t[0]),t=t.map(function(t){if("string"==typeof t[0]&&(t[0]=r.ops[t[0]]),"number"!=typeof t[0])throw new Error("Invalid op in subcommand");if("string"!=typeof t[1])throw new Error("Invalid path in subcommand");return t}),e?1===t.length?t[0]:[t]:t}var s=n(32).Crypt,a=n(47).SignedRequest,u=n(51),c=n(44),l=n(49),f=n(25).sub("blob"),h={};r.ops={noop:0,set:16,unset:17,extend:18,push:32,pop:33,shift:34,unshift:35,filter:36},r.opsReverseMap=[];for(var p in r.ops)r.opsReverseMap[r.ops[p]]=p;var d="identityVault",v=["name","entityType","email","phone","address","nationalID","birthday","birthplace"],m=["individual","organization","corporation"],g=["contact","line1","line2","city","region","postalCode","country"],y=["number","type","country"],b=["ssn","taxID","passport","driversLicense","other"];r.prototype.init=function(t){var e,n=this;-1===n.url.indexOf("://")&&(n.url="http://"+e),e=n.url+"/v1/blob/"+n.id,this.device_id&&(e+="?device_id="+this.device_id),u.get(e,function(e,r){if(e)return t(new Error(e.message||"Could not retrieve blob"));if(!r.body)return t(new Error("Could not retrieve blob"));if(r.body.twofactor)return r.body.twofactor.blob_id=n.id,r.body.twofactor.blob_url=n.url,r.body.twofactor.device_id=n.device_id,r.body.twofactor.blob_key=n.key,t(r.body);if("success"!==r.body.result)return t(new Error("Incorrect username or password"));if(n.revision=r.body.revision,n.encrypted_secret=r.body.encrypted_secret,n.missing_fields=r.body.missing_fields,!n.decrypt(r.body.blob))return t(new Error("Error while decrypting blob"));if(r.body.patches&&r.body.patches.length){var i=!0;r.body.patches.forEach(function(t){i=i&&n.applyEncryptedPatch(t)}),i&&n.consolidate()}t(null,n)}).timeout(8e3)},r.prototype.consolidate=function(t){"function"!=typeof t&&(t=function(){});var e=this.encrypt(),n={method:"POST",url:this.url+"/v1/blob/consolidate",dataType:"json",data:{blob_id:this.id,data:e,revision:this.revision}},r=new a(n),i=r.signHmac(this.data.auth_secret,this.id);u.post(i.url).send(i.data).end(function(e,n){e?t(new Error("Failed to consolidate blob - XHR error")):n.body&&"success"===n.body.result?t(null,n.body):t(new Error("Failed to consolidate blob"))})},r.prototype.applyEncryptedPatch=function(t){try{var e=JSON.parse(s.decrypt(this.key,t)),n=e.shift(),r=e.shift();return this.applyUpdate(n,r,e),this.revision++,!0}catch(i){return!1}},r.prototype.encryptSecret=function(t,e){return s.encrypt(t,e)},r.prototype.decryptSecret=function(t){return s.decrypt(t,this.encrypted_secret)},r.prototype.decrypt=function(t){try{return this.data=JSON.parse(s.decrypt(this.key,t)),this}catch(e){return!1}},r.prototype.encrypt=function(){return s.encrypt(this.key,JSON.stringify(this.data))},r.prototype.encryptBlobCrypt=function(t,e){var n=s.deriveRecoveryEncryptionKeyFromSecret(t);return s.encrypt(n,e)},r.prototype.set=function(t,e,n){return t=="/"+d&&this.data[d]?n(new Error("Cannot overwrite Identity Vault")):(this.applyUpdate("set",t,[e]),void this.postUpdate("set",t,[e],n))},r.prototype.unset=function(t,e){return t=="/"+d?e(new Error("Cannot remove Identity Vault")):(this.applyUpdate("unset",t,[]),void this.postUpdate("unset",t,[],e))},r.prototype.extend=function(t,e,n){this.applyUpdate("extend",t,[e]),this.postUpdate("extend",t,[e],n)},r.prototype.unshift=function(t,e,n){this.applyUpdate("unshift",t,[e]),this.postUpdate("unshift",t,[e],n)},r.prototype.filter=function(t,e,n,r,i){var s=Array.prototype.slice.apply(arguments);"function"==typeof s[s.length-1]&&(i=s.pop()),s.shift(),s=s.slice(0,2).concat(o(s.slice(2),!0)),this.applyUpdate("filter",t,s),this.postUpdate("filter",t,s,i)},r.prototype.applyUpdate=function(t,e,n){if("number"==typeof t&&(t=r.opsReverseMap[t]),"string"!=typeof t)throw new Error("Blob update op code must be a number or a valid op id string");var i=e.split("/"),o=i.shift();if(""!==o)throw new Error("Invalid JSON pointer: "+e);this._traverse(this.data,i,e,t,n)},r.prototype._traverse=function(t,e,n,r,i){var s=this,a=s.unescapeToken(e.shift());if(Array.isArray(t)){if("-"===a)a=t.length;else if(a%1!==0&&a>=0)throw new Error(0/0)}else{if("object"!=typeof t)return null;if(!t.hasOwnProperty(a))if("set"===r)t[a]={};else{if("unshift"!==r)return null;t[a]=[]}}if(0!==e.length)return this._traverse(t[a],e,n,r,i);switch(r){case"set":t[a]=i[0];break;case"unset":Array.isArray(t)?t.splice(a,1):delete t[a];break;case"extend":if("object"!=typeof t[a])throw new Error("Tried to extend a non-object");c(!0,t[a],i[0]);break;case"unshift":if("undefined"==typeof t[a])t[a]=[];else if(!Array.isArray(t[a]))throw new Error('Operator "unshift" must be applied to an array.');t[a].unshift(i[0]);break;case"filter":Array.isArray(t[a])&&t[a].forEach(function(t,e){if("object"==typeof t&&t.hasOwnProperty(i[0])&&t[i[0]]===i[1]){var r=n+"/"+e,a=o(i.slice(2));a.forEach(function(t){var e=t[0],n=r+t[1];s.applyUpdate(e,n,t.slice(2))})}});break;default:throw new Error("Unsupported op "+r)}},r.prototype.escapeToken=function(t){return t.replace(/[~\/]/g,function(t){return"~"===t?"~0":"~1"})},r.prototype.unescapeToken=function(t){return t.replace(/~./g,function(t){switch(t){case"~0":return"~";case"~1":return"/"}throw new Error("Invalid tilde escape: "+t)})},r.prototype.postUpdate=function(t,e,n,i){if("function"!=typeof i&&(i=function(){}),"string"==typeof t&&(t=r.ops[t]),"number"!=typeof t)throw new Error("Blob update op code must be a number or a valid op id string");if(0>t||t>255)throw new Error("Blob update op code out of bounds");n.unshift(e),n.unshift(t);var o={method:"POST",url:this.url+"/v1/blob/patch",dataType:"json",data:{blob_id:this.id,patch:s.encrypt(this.key,JSON.stringify(n))}},c=new a(o),l=c.signHmac(this.data.auth_secret,this.id);u.post(l.url).send(l.data).end(function(t,e){t?i(new Error("Patch could not be saved - XHR error")):e.body&&"success"===e.body.result?i(null,e.body):i(new Error("Patch could not be saved - bad result"))})},r.prototype.get2FA=function(t){var e={method:"GET",url:this.url+"/v1/blob/"+this.id+"/2FA?device_id="+this.device_id},n=new a(e),r=n.signHmac(this.data.auth_secret,this.id);u.get(r.url).end(function(e,n){e?t(e):n.body&&"success"===n.body.result?t(null,n.body):t(n.body&&"error"===n.body.result?new Error(n.body.message):new Error("Unable to retrieve settings."))})},r.prototype.set2FA=function(t,e){var n={method:"POST",url:this.url+"/v1/blob/"+this.id+"/2FA",data:{enabled:t.enabled,phone:t.phone,country_code:t.country_code,via:t.via}},r=new a(n),i=r.signAsymmetric(t.masterkey,this.data.account_id,this.id);u.post(i.url).send(i.data).end(function(t,n){t?e(t):n.body&&"success"===n.body.result?e(null,n.body):e(n.body&&"error"===n.body.result?n.body:new Error("Unable to update settings."))})};var _=function(t){this._getBlob=function(){return t}};_.prototype.getFullAddress=function(t){var e=this._getBlob();if(!(e&&e.data&&e.data[d]&&e.data[d].address))return"";var n=this.get("address",t),r="";return n.value.contact&&(r+=n.value.contact),n.value.line1&&(r+=" "+n.value.line1),n.value.line2&&(r+=" "+n.value.line2),n.value.city&&(r+=" "+n.value.city),n.value.region&&(r+=" "+n.value.region),n.value.postalCode&&(r+=" "+n.value.postalCode),n.value.country&&(r+=" "+n.value.country),r},_.prototype.getAll=function(t){var e=this._getBlob();if(!e||!e.data||!e.data[d])return{};var n={},r=e.data[d];for(var i in r)n[i]=this.get(i,t);return n},_.prototype.get=function(t,e){function n(t,e){var n,r={encrypted:!0};try{n=s.decrypt(t,e.value)}catch(i){return r.value=e.value,r.error=i,r}try{r.value=JSON.parse(n)}catch(i){r.value=n}return r}var r=this._getBlob();if(!r||!r.data||!r.data[d])return null;var i=r.data[d][t];return i&&i.encrypted?n(e,i):i?i:null},_.prototype.set=function(t,e,n,r){function i(t){return c?c.data?c.data[d]?t(null):void c.set("/"+d,{},function(e){return t(e?e:null)}):r(new Error("Invalid Blob")):r(new Error("Identity must be associated with a blob"))}function o(r){var i={};i[t]={encrypted:e?!0:!1,value:e?a(e,n):n},u._getBlob().extend("/"+d,i,r)}function a(t,e){return"object"==typeof e&&(e=JSON.stringify(e)),s.encrypt(t,e)}var u=this,c=this._getBlob();if(r||(r=function(){}),-1===v.indexOf(t))return r(new Error("invalid identity field"));if("address"===t){if("object"!=typeof n)return r(new Error("address must be an object"));for(var f in n)if(-1===g.indexOf(f))return r(new Error("invalid address field"))}else if("nationalID"===t){if("object"!=typeof n)return r(new Error("nationalID must be an object"));for(var h in n){if(-1===y.indexOf(h))return r(new Error("invalid nationalID field"));if("type"===h&&-1===b.indexOf(n[h]))return r(new Error("invalid nationalID type"))}}else if("entityType"===t&&-1===m.indexOf(n))return r(new Error("invalid entity type"));l.waterfall([i,o],r)},_.prototype.unset=function(t,e,n){n||(n=function(){});var r=this.get(t,e);return r&&r.error?n(r.error):void this._getBlob().unset("/"+d+"/"+t,n)},e.Blob=r,h.getRippleName=function(t,e,n){return s.isValidAddress(e)&&s.isValidAddress(e)?void u.get(t+"/v1/user/"+e,function(t,e){t?n(new Error("Unable to access vault sever")):e.body&&e.body.username?n(null,e.body.username):n(e.body&&e.body.exists===!1?new Error("No ripple name for this address"):new Error("Unable to determine if ripple name exists"))}):n(new Error("Invalid ripple address"))},h.get=function(t,e){var n=new r(t);n.init(e)},h.requestToken=function(t,e,n,r){var i={method:"GET",url:t+"/v1/blob/"+e+"/2FA/requestToken"};n&&n instanceof Function?r=n:n&&(i.url+="?force_sms=true"),u.get(i.url).end(function(t,e){t?r(t):e.body&&"success"===e.body.result?r(null,e.body):r(e.body&&"error"===e.body.result?new Error(e.body.message):new Error("Unable to request authentication token."))})},h.verifyToken=function(t,e){var n={method:"POST",url:t.url+"/v1/blob/"+t.id+"/2FA/verifyToken",data:{device_id:t.device_id,token:t.token,remember_me:t.remember_me}};u.post(n.url).send(n.data).end(function(t,n){t?e(t):n.body&&"success"===n.body.result?e(null,n.body):e(n.body&&"error"===n.body.result?new Error(n.body.message):new Error("Unable to verify authentication token."))})},h.verify=function(t,e,n,r){t+="/v1/user/"+e+"/verify/"+n,u.get(t,function(t,e){t?r(new Error("Failed to verify the account - XHR error")):e.body&&"success"===e.body.result?r(null,e.body):r(new Error("Failed to verify the account"))})},h.resendEmail=function(t,e){var n={method:"POST",url:t.url+"/v1/user/email",data:{blob_id:t.id,username:t.username,email:t.email,hostlink:t.activateLink}},r=new a(n),i=r.signAsymmetric(t.masterkey,t.account_id,t.id);u.post(i.url).send(i.data).end(function(t,n){t?(f.error("resendEmail:",t),e(new Error("Failed to resend the token"))):n.body&&"success"===n.body.result?e(null,n.body):n.body&&"error"===n.body.result?(f.error("resendEmail:",n.body.message),e(new Error("Failed to resend the token"))):e(new Error("Failed to resend the token"))})},h.recoverBlob=function(t,e){function n(n){var o={url:t.url,blob_id:n.body.blob_id,key:i(t.masterkey,n.body.encrypted_blobdecrypt_key)},s=new r(o);if(s.revision=n.body.revision,s.encrypted_secret=n.body.encrypted_secret,!s.decrypt(n.body.blob))return e(new Error("Error while decrypting blob"));if(n.body.patches&&n.body.patches.length){var a=!0;n.body.patches.forEach(function(t){a=a&&s.applyEncryptedPatch(t)}),a&&s.consolidate()}e(null,s)}var o=String(t.username).trim(),s={method:"GET",url:t.url+"/v1/user/recov/"+o},c=new a(s),l=c.signAsymmetricRecovery(t.masterkey,o);u.get(l.url).end(function(t,r){t?e(t):r.body&&"success"===r.body.result?r.body.encrypted_blobdecrypt_key?n(r):e(new Error("Missing encrypted blob decrypt key.")):e(r.body&&"error"===r.body.result?new Error(r.body.message):new Error("Could not recover blob"))})},h.updateProfile=function(t,e){var n={method:"POST",url:t.url+"/v1/user/"+t.username+"/profile",dataType:"json",data:t.profile},r=new a(n),i=r.signHmac(t.auth_secret,t.blob_id);u.post(i.url).send(i.data).end(function(t,n){t?(f.error("updateProfile:",t),e(new Error("Failed to update profile - XHR error"))):n.body&&"success"===n.body.result?e(null,n.body):n.body?f.error("updateProfile:",n.body):e(new Error("Failed to update profile"))})},h.updateKeys=function(t,e){var n=t.blob.id;t.blob.id=t.keys.id,t.blob.key=t.keys.crypt,t.blob.encrypted_secret=t.blob.encryptSecret(t.keys.unlock,t.masterkey);var r={method:"POST",url:t.blob.url+"/v1/user/"+t.username+"/updatekeys",data:{blob_id:t.blob.id,data:t.blob.encrypt(),revision:t.blob.revision,encrypted_secret:t.blob.encrypted_secret,encrypted_blobdecrypt_key:t.blob.encryptBlobCrypt(t.masterkey,t.keys.crypt)}},i=new a(r),o=i.signAsymmetric(t.masterkey,t.blob.data.account_id,n);u.post(o.url).send(o.data).end(function(t,n){t?(f.error("updateKeys:",t),e(new Error("Failed to update blob - XHR error"))):n.body&&"success"===n.body.result?e(null,n.body):(f.error("updateKeys:",n.body?n.body.message:null),e(new Error("Failed to update blob - bad result")))})},h.rename=function(t,e){var n=t.blob.id;t.blob.id=t.keys.id,t.blob.key=t.keys.crypt,t.blob.encryptedSecret=t.blob.encryptSecret(t.keys.unlock,t.masterkey);var r={method:"POST",url:t.blob.url+"/v1/user/"+t.username+"/rename",data:{blob_id:t.blob.id,username:t.new_username,data:t.blob.encrypt(),revision:t.blob.revision,encrypted_secret:t.blob.encryptedSecret,encrypted_blobdecrypt_key:t.blob.encryptBlobCrypt(t.masterkey,t.keys.crypt)}},i=new a(r),o=i.signAsymmetric(t.masterkey,t.blob.data.account_id,n);u.post(o.url).send(o.data).end(function(t,n){t?(f.error("rename:",t),e(new Error("Failed to rename"))):n.body&&"success"===n.body.result?e(null,n.body):n.body&&"error"===n.body.result?(f.error("rename:",n.body.message),e(new Error("Failed to rename"))):e(new Error("Failed to rename"))})},h.create=function(t,e){var n={url:t.url,blob_id:t.id,key:t.crypt},i=new r(n);i.revision=0,i.data={auth_secret:s.createSecret(8),account_id:s.getAddress(t.masterkey),email:t.email,contacts:[],created:(new Date).toJSON()},i.encrypted_secret=i.encryptSecret(t.unlock,t.masterkey),t.oldUserBlob&&(i.data.contacts=t.oldUserBlob.data.contacts);var o={method:"POST",url:t.url+"/v1/user",data:{blob_id:t.id,username:t.username,address:i.data.account_id,auth_secret:i.data.auth_secret,data:i.encrypt(),email:t.email,hostlink:t.activateLink,domain:t.domain,encrypted_blobdecrypt_key:i.encryptBlobCrypt(t.masterkey,t.crypt),encrypted_secret:i.encrypted_secret}},c=new a(o),l=c.signAsymmetric(t.masterkey,i.data.account_id,t.id);u.post(l.url).send(l.data).end(function(t,n){t?e(t):n.body&&"success"===n.body.result?e(null,i,n.body):e(n.body&&"error"===n.body.result?new Error(n.body.message):new Error("Could not create blob"))})},h.deleteBlob=function(t,e){var n={method:"DELETE",url:t.url+"/v1/user/"+t.username},r=new a(n),i=r.signAsymmetric(t.masterkey,t.account_id,t.blob_id);u.del(i.url).end(function(t,n){t?e(t):n.body&&"success"===n.body.result?e(null,n.body):e(n.body&&"error"===n.body.result?new Error(n.body.message):new Error("Could not delete blob"))})},e.BlobClient=h},function(t){"use strict";function e(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function n(t,e){var n=t.r.bitLength();return{r:s.bn.fromBits(s.bitArray.bitSlice(e,0,n)),s:s.bn.fromBits(s.bitArray.bitSlice(e,n,s.bitArray.bitLength(e)))}}function r(t,e,n,r,o){for(var a=o.toBits(),u=0;4>u;u++){var c;try{c=i(t,e,n,r,u)}catch(l){continue}if(s.bitArray.equal(c.toBits(),a))return u}throw new s.exception.bug("unable to calculate recovery factor from signature")}function i(t,e,n,r,i){var a=t.r,c=t.field.modulus;i=3&i;var l=1&i,f=i>>1;u||(u=c.add(1).div(4));var h;h=f?e.add(a):e;var p,d=h.mul(h).mul(h).add(t.a.mul(h)).add(t.b).mod(c),v=d.powermodMontgomery(u,c),m=v.mod(2).equals(0);p=m&&!l||!m&&l?v:c.sub(v);var g=new s.ecc.point(t,h,p);if(!g.isValidPoint())throw new s.exception.corrupt("point R. Not a valid point on the curve. Cannot recover public key");var y=s.bn.fromBits(r),b=new s.bn(0).sub(y).mod(a),_=e.inverseMod(a),w=g.mult2(n,b,t.G).mult(_);if(!w.isValidPoint())throw new s.exception.corrupt("public_key_point. Not a valid point on the curve. Cannot recover public key");if(!o(t,y,e,n,w))throw new s.exception.corrupt("cannot recover public key");return w}function o(t,e,n,r,i){var o=t.r;if(new s.bn(1).greaterEquals(n)||n.greaterEquals(new s.bn(o)))return!1;if(new s.bn(1).greaterEquals(r)||r.greaterEquals(new s.bn(o)))return!1;var a=r.inverseMod(o),u=e.mul(a).mod(o),c=n.mul(a).mod(o),l=t.G.mult2(u,c,i);return n.equals(l.x.mod(o))}var s={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};"undefined"!=typeof t&&t.exports&&(t.exports=s),/** @fileOverview Low-level AES implementation.
	 *
	 * This file contains a low-level implementation of AES, optimized for
	 * size and for efficiency on several browsers.  It is based on
	 * OpenSSL's aes_core.c, a public-domain implementation by Vincent
	 * Rijmen, Antoon Bosselaers and Paulo Barreto.
	 *
	 * An older version of this implementation is available in the public
	 * domain, but this one is (c) Emily Stark, Mike Hamburg, Dan Boneh,
	 * Stanford University 2008-2010 and BSD-licensed for liability
	 * reasons.
	 *
	 * @author Emily Stark
	 * @author Mike Hamburg
	 * @author Dan Boneh
	 */
s.cipher.aes=function(t){this._tables[0][0][0]||this._precompute();var e,n,r,i,o,a=this._tables[0][4],u=this._tables[1],c=t.length,l=1;if(4!==c&&6!==c&&8!==c)throw new s.exception.invalid("invalid aes key size");for(this._key=[i=t.slice(0),o=[]],e=c;4*c+28>e;e++)r=i[e-1],(e%c===0||8===c&&e%c===4)&&(r=a[r>>>24]<<24^a[r>>16&255]<<16^a[r>>8&255]<<8^a[255&r],e%c===0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),i[e]=i[e-c]^r;for(n=0;e;n++,e--)r=i[3&n?e:e-4],o[n]=4>=e||4>n?r:u[0][a[r>>>24]]^u[1][a[r>>16&255]]^u[2][a[r>>8&255]]^u[3][a[255&r]]},s.cipher.aes.prototype={encrypt:function(t){return this._crypt(t,0)},decrypt:function(t){return this._crypt(t,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var t,e,n,r,i,o,s,a,u,c=this._tables[0],l=this._tables[1],f=c[4],h=l[4],p=[],d=[];for(t=0;256>t;t++)d[(p[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!f[e];e^=r||1,n=d[n]||1)for(s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^255&s^99,f[e]=s,h[s]=e,o=p[i=p[r=p[e]]],u=16843009*o^65537*i^257*r^16843008*e,a=257*p[s]^16843008*s,t=0;4>t;t++)c[t][e]=a=a<<24^a>>>8,l[t][s]=u=u<<24^u>>>8;for(t=0;5>t;t++)c[t]=c[t].slice(0),l[t]=l[t].slice(0)},_crypt:function(t,e){if(4!==t.length)throw new s.exception.invalid("invalid aes block size");var n,r,i,o,a=this._key[e],u=t[0]^a[0],c=t[e?3:1]^a[1],l=t[2]^a[2],f=t[e?1:3]^a[3],h=a.length/4-2,p=4,d=[0,0,0,0],v=this._tables[e],m=v[0],g=v[1],y=v[2],b=v[3],_=v[4];for(o=0;h>o;o++)n=m[u>>>24]^g[c>>16&255]^y[l>>8&255]^b[255&f]^a[p],r=m[c>>>24]^g[l>>16&255]^y[f>>8&255]^b[255&u]^a[p+1],i=m[l>>>24]^g[f>>16&255]^y[u>>8&255]^b[255&c]^a[p+2],f=m[f>>>24]^g[u>>16&255]^y[c>>8&255]^b[255&l]^a[p+3],p+=4,u=n,c=r,l=i;for(o=0;4>o;o++)d[e?3&-o:o]=_[u>>>24]<<24^_[c>>16&255]<<16^_[l>>8&255]<<8^_[255&f]^a[p++],n=u,u=c,c=l,l=f,f=n;return d}},s.bitArray={bitSlice:function(t,e,n){return t=s.bitArray._shiftRight(t.slice(e/32),32-(31&e)).slice(1),void 0===n?t:s.bitArray.clamp(t,n-e)},extract:function(t,e,n){var r,i=Math.floor(-e-n&31);return r=-32&(e+n-1^e)?t[e/32|0]<<32-i^t[e/32+1|0]>>>i:t[e/32|0]>>>i,r&(1<<n)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var n=t[t.length-1],r=s.bitArray.getPartial(n);return 32===r?t.concat(e):s.bitArray._shiftRight(e,r,0|n,t.slice(0,t.length-1))},bitLength:function(t){var e,n=t.length;return 0===n?0:(e=t[n-1],32*(n-1)+s.bitArray.getPartial(e))},clamp:function(t,e){if(32*t.length<e)return t;t=t.slice(0,Math.ceil(e/32));var n=t.length;return e=31&e,n>0&&e&&(t[n-1]=s.bitArray.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial:function(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(s.bitArray.bitLength(t)!==s.bitArray.bitLength(e))return!1;var n,r=0;for(n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r},_shiftRight:function(t,e,n,r){var i,o,a=0;for(void 0===r&&(r=[]);e>=32;e-=32)r.push(n),n=0;if(0===e)return r.concat(t);for(i=0;i<t.length;i++)r.push(n|t[i]>>>e),n=t[i]<<32-e;return a=t.length?t[t.length-1]:0,o=s.bitArray.getPartial(a),r.push(s.bitArray.partial(e+o&31,e+o>32?n:r.pop(),1)),r},_xor4:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]}},s.codec.utf8String={fromBits:function(t){var e,n,r="",i=s.bitArray.bitLength(t);for(e=0;i/8>e;e++)0===(3&e)&&(n=t[e/4]),r+=String.fromCharCode(n>>>24),n<<=8;return decodeURIComponent(escape(r))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,n=[],r=0;for(e=0;e<t.length;e++)r=r<<8|t.charCodeAt(e),3===(3&e)&&(n.push(r),r=0);return 3&e&&n.push(s.bitArray.partial(8*(3&e),r)),n}},s.codec.hex={fromBits:function(t){var e,n="";for(e=0;e<t.length;e++)n+=((0|t[e])+0xf00000000000).toString(16).substr(4);return n.substr(0,s.bitArray.bitLength(t)/4)},toBits:function(t){var e,n,r=[];for(t=t.replace(/\s|0x/g,""),n=t.length,t+="00000000",e=0;e<t.length;e+=8)r.push(0^parseInt(t.substr(e,8),16));return s.bitArray.clamp(r,4*n)}},s.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,n){var r,i="",o=0,a=s.codec.base64._chars,u=0,c=s.bitArray.bitLength(t);for(n&&(a=a.substr(0,62)+"-_"),r=0;6*i.length<c;)i+=a.charAt((u^t[r]>>>o)>>>26),6>o?(u=t[r]<<6-o,o+=26,r++):(u<<=6,o-=6);for(;3&i.length&&!e;)i+="=";return i},toBits:function(t,e){t=t.replace(/\s|=/g,"");var n,r,i=[],o=0,a=s.codec.base64._chars,u=0;for(e&&(a=a.substr(0,62)+"-_"),n=0;n<t.length;n++){if(r=a.indexOf(t.charAt(n)),0>r)throw new s.exception.invalid("this isn't base64!");o>26?(o-=26,i.push(u^r>>>o),u=r<<32-o):(o+=6,u^=r<<32-o)}return 56&o&&i.push(s.bitArray.partial(56&o,u,1)),i}},s.codec.base64url={fromBits:function(t){return s.codec.base64.fromBits(t,1,1)},toBits:function(t){return s.codec.base64.toBits(t,1)}},s.codec.bytes={fromBits:function(t){var e,n,r=[],i=s.bitArray.bitLength(t);for(e=0;i/8>e;e++)0===(3&e)&&(n=t[e/4]),r.push(n>>>24),n<<=8;return r},toBits:function(t){var e,n=[],r=0;for(e=0;e<t.length;e++)r=r<<8|t[e],3===(3&e)&&(n.push(r),r=0);return 3&e&&n.push(s.bitArray.partial(8*(3&e),r)),n}},/** @fileOverview Javascript SHA-256 implementation.
	 *
	 * An older version of this implementation is available in the public
	 * domain, but this one is (c) Emily Stark, Mike Hamburg, Dan Boneh,
	 * Stanford University 2008-2010 and BSD-licensed for liability
	 * reasons.
	 *
	 * Special thanks to Aldo Cortesi for pointing out several bugs in
	 * this code.
	 *
	 * @author Emily Stark
	 * @author Mike Hamburg
	 * @author Dan Boneh
	 */
s.hash.sha256=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},s.hash.sha256.hash=function(t){return(new s.hash.sha256).update(t).finalize()},s.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"==typeof t&&(t=s.codec.utf8String.toBits(t));var e,n=this._buffer=s.bitArray.concat(this._buffer,t),r=this._length,i=this._length=r+s.bitArray.bitLength(t);for(e=512+r&-512;i>=e;e+=512)this._block(n.splice(0,16));return this},finalize:function(){var t,e=this._buffer,n=this._h;for(e=s.bitArray.concat(e,[s.bitArray.partial(1,1)]),t=e.length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this._length/4294967296)),e.push(0|this._length);e.length;)this._block(e.splice(0,16));return this.reset(),n},_init:[],_key:[],_precompute:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}var e,n=0,r=2;t:for(;64>n;r++){for(e=2;r>=e*e;e++)if(r%e===0)continue t;8>n&&(this._init[n]=t(Math.pow(r,.5))),this._key[n]=t(Math.pow(r,1/3)),n++}},_block:function(t){var e,n,r,i,o=t.slice(0),s=this._h,a=this._key,u=s[0],c=s[1],l=s[2],f=s[3],h=s[4],p=s[5],d=s[6],v=s[7];for(e=0;64>e;e++)16>e?n=o[e]:(r=o[e+1&15],i=o[e+14&15],n=o[15&e]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+o[15&e]+o[e+9&15]|0),n=n+v+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(d^h&(p^d))+a[e],v=d,d=p,p=h,h=f+n|0,f=l,l=c,c=u,u=n+(c&l^f&(c^l))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;s[0]=s[0]+u|0,s[1]=s[1]+c|0,s[2]=s[2]+l|0,s[3]=s[3]+f|0,s[4]=s[4]+h|0,s[5]=s[5]+p|0,s[6]=s[6]+d|0,s[7]=s[7]+v|0}},/** @fileOverview Javascript SHA-512 implementation.
	 *
	 * This implementation was written for CryptoJS by Jeff Mott and adapted for
	 * SJCL by Stefan Thomas.
	 *
	 * CryptoJS (c) 2009–2012 by Jeff Mott. All rights reserved.
	 * Released with New BSD License
	 *
	 * @author Emily Stark
	 * @author Mike Hamburg
	 * @author Dan Boneh
	 * @author Jeff Mott
	 * @author Stefan Thomas
	 */
s.hash.sha512=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},s.hash.sha512.hash=function(t){return(new s.hash.sha512).update(t).finalize()},s.hash.sha512.prototype={blockSize:1024,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"==typeof t&&(t=s.codec.utf8String.toBits(t));var e,n=this._buffer=s.bitArray.concat(this._buffer,t),r=this._length,i=this._length=r+s.bitArray.bitLength(t);for(e=1024+r&-1024;i>=e;e+=1024)this._block(n.splice(0,32));return this},finalize:function(){var t,e=this._buffer,n=this._h;for(e=s.bitArray.concat(e,[s.bitArray.partial(1,1)]),t=e.length+4;31&t;t++)e.push(0);for(e.push(0),e.push(0),e.push(Math.floor(this._length/4294967296)),e.push(0|this._length);e.length;)this._block(e.splice(0,32));return this.reset(),n},_init:[],_initr:[12372232,13281083,9762859,1914609,15106769,4090911,4308331,8266105],_key:[],_keyr:[2666018,15689165,5061423,9034684,4764984,380953,1658779,7176472,197186,7368638,14987916,16757986,8096111,1480369,13046325,6891156,15813330,5187043,9229749,11312229,2818677,10937475,4324308,1135541,6741931,11809296,16458047,15666916,11046850,698149,229999,945776,13774844,2541862,12856045,9810911,11494366,7844520,15576806,8533307,15795044,4337665,16291729,5553712,15684120,6662416,7413802,12308920,13816008,4303699,9366425,10176680,13195875,4295371,6546291,11712675,15708924,1519456,15772530,6568428,6495784,8568297,13007125,7492395,2515356,12632583,14740254,7262584,1535930,13146278,16321966,1853211,294276,13051027,13221564,1051980,4080310,6651434,14088940,4675607],_precompute:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}function e(t){return 1099511627776*(t-Math.floor(t))&255}var n,r=0,i=2;t:for(;80>r;i++){for(n=2;i>=n*n;n++)if(i%n===0)continue t;8>r&&(this._init[2*r]=t(Math.pow(i,.5)),this._init[2*r+1]=e(Math.pow(i,.5))<<24|this._initr[r]),this._key[2*r]=t(Math.pow(i,1/3)),this._key[2*r+1]=e(Math.pow(i,1/3))<<24|this._keyr[r],r++}},_block:function(t){var e,n,r,i=t.slice(0),o=this._h,s=this._key,a=o[0],u=o[1],c=o[2],l=o[3],f=o[4],h=o[5],p=o[6],d=o[7],v=o[8],m=o[9],g=o[10],y=o[11],b=o[12],_=o[13],w=o[14],$=o[15],x=a,E=u,S=c,A=l,T=f,k=h,C=p,j=d,I=v,O=m,B=g,D=y,N=b,R=_,L=w,q=$;for(e=0;80>e;e++){if(16>e)n=i[2*e],r=i[2*e+1];else{var M=i[2*(e-15)],F=i[2*(e-15)+1],P=(F<<31|M>>>1)^(F<<24|M>>>8)^M>>>7,U=(M<<31|F>>>1)^(M<<24|F>>>8)^(M<<25|F>>>7),H=i[2*(e-2)],z=i[2*(e-2)+1],V=(z<<13|H>>>19)^(H<<3|z>>>29)^H>>>6,G=(H<<13|z>>>19)^(z<<3|H>>>29)^(H<<26|z>>>6),W=i[2*(e-7)],K=i[2*(e-7)+1],X=i[2*(e-16)],J=i[2*(e-16)+1];r=U+K,n=P+W+(U>>>0>r>>>0?1:0),r+=G,n+=V+(G>>>0>r>>>0?1:0),r+=J,n+=X+(J>>>0>r>>>0?1:0)}i[2*e]=n|=0,i[2*e+1]=r|=0;var Z=I&B^~I&N,Y=O&D^~O&R,Q=x&S^x&T^S&T,te=E&A^E&k^A&k,ee=(E<<4|x>>>28)^(x<<30|E>>>2)^(x<<25|E>>>7),ne=(x<<4|E>>>28)^(E<<30|x>>>2)^(E<<25|x>>>7),re=(O<<18|I>>>14)^(O<<14|I>>>18)^(I<<23|O>>>9),ie=(I<<18|O>>>14)^(I<<14|O>>>18)^(O<<23|I>>>9),oe=s[2*e],se=s[2*e+1],ae=q+ie,ue=L+re+(q>>>0>ae>>>0?1:0);ae+=Y,ue+=Z+(Y>>>0>ae>>>0?1:0),ae+=se,ue+=oe+(se>>>0>ae>>>0?1:0),ae+=r,ue+=n+(r>>>0>ae>>>0?1:0);var ce=ne+te,le=ee+Q+(ne>>>0>ce>>>0?1:0);L=N,q=R,N=B,R=D,B=I,D=O,O=j+ae|0,I=C+ue+(j>>>0>O>>>0?1:0)|0,C=T,j=k,T=S,k=A,S=x,A=E,E=ae+ce|0,x=ue+le+(ae>>>0>E>>>0?1:0)|0}u=o[1]=u+E|0,o[0]=a+x+(E>>>0>u>>>0?1:0)|0,l=o[3]=l+A|0,o[2]=c+S+(A>>>0>l>>>0?1:0)|0,h=o[5]=h+k|0,o[4]=f+T+(k>>>0>h>>>0?1:0)|0,d=o[7]=d+j|0,o[6]=p+C+(j>>>0>d>>>0?1:0)|0,m=o[9]=m+O|0,o[8]=v+I+(O>>>0>m>>>0?1:0)|0,y=o[11]=y+D|0,o[10]=g+B+(D>>>0>y>>>0?1:0)|0,_=o[13]=_+R|0,o[12]=b+N+(R>>>0>_>>>0?1:0)|0,$=o[15]=$+q|0,o[14]=w+L+(q>>>0>$>>>0?1:0)|0}},s.hash.sha1=function(t){t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},s.hash.sha1.hash=function(t){return(new s.hash.sha1).update(t).finalize()},s.hash.sha1.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"==typeof t&&(t=s.codec.utf8String.toBits(t));var e,n=this._buffer=s.bitArray.concat(this._buffer,t),r=this._length,i=this._length=r+s.bitArray.bitLength(t);for(e=this.blockSize+r&-this.blockSize;i>=e;e+=this.blockSize)this._block(n.splice(0,16));return this},finalize:function(){var t,e=this._buffer,n=this._h;for(e=s.bitArray.concat(e,[s.bitArray.partial(1,1)]),t=e.length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this._length/4294967296)),e.push(0|this._length);e.length;)this._block(e.splice(0,16));return this.reset(),n},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:function(t,e,n,r){return 19>=t?e&n|~e&r:39>=t?e^n^r:59>=t?e&n|e&r|n&r:79>=t?e^n^r:void 0},_S:function(t,e){return e<<t|e>>>32-t},_block:function(t){{var e,n,r,i,o,s,a,u=t.slice(0),c=this._h;this._key}for(r=c[0],i=c[1],o=c[2],s=c[3],a=c[4],e=0;79>=e;e++)e>=16&&(u[e]=this._S(1,u[e-3]^u[e-8]^u[e-14]^u[e-16])),n=this._S(5,r)+this._f(e,i,o,s)+a+u[e]+this._key[Math.floor(e/20)]|0,a=s,s=o,o=this._S(30,i),i=r,r=n;c[0]=c[0]+r|0,c[1]=c[1]+i|0,c[2]=c[2]+o|0,c[3]=c[3]+s|0,c[4]=c[4]+a|0}},s.mode.ccm={name:"ccm",encrypt:function(t,e,n,r,i){var o,a,u=e.slice(0),c=s.bitArray,l=c.bitLength(n)/8,f=c.bitLength(u)/8;if(i=i||64,r=r||[],7>l)throw new s.exception.invalid("ccm: iv must be at least 7 bytes");for(o=2;4>o&&f>>>8*o;o++);return 15-l>o&&(o=15-l),n=c.clamp(n,8*(15-o)),a=s.mode.ccm._computeTag(t,e,n,r,i,o),u=s.mode.ccm._ctrMode(t,u,n,a,i,o),c.concat(u.data,u.tag)},decrypt:function(t,e,n,r,i){i=i||64,r=r||[];var o,a,u=s.bitArray,c=u.bitLength(n)/8,l=u.bitLength(e),f=u.clamp(e,l-i),h=u.bitSlice(e,l-i);if(l=(l-i)/8,7>c)throw new s.exception.invalid("ccm: iv must be at least 7 bytes");for(o=2;4>o&&l>>>8*o;o++);if(15-c>o&&(o=15-c),n=u.clamp(n,8*(15-o)),f=s.mode.ccm._ctrMode(t,f,n,h,i,o),a=s.mode.ccm._computeTag(t,f.data,n,r,i,o),!u.equal(f.tag,a))throw new s.exception.corrupt("ccm: tag doesn't match");return f.data},_computeTag:function(t,e,n,r,i,o){var a,u,c,l=[],f=s.bitArray,h=f._xor4;if(i/=8,i%2||4>i||i>16)throw new s.exception.invalid("ccm: invalid tag length");if(r.length>4294967295||e.length>4294967295)throw new s.exception.bug("ccm: can't deal with 4GiB or more data");if(a=[f.partial(8,(r.length?64:0)|i-2<<2|o-1)],a=f.concat(a,n),a[3]|=f.bitLength(e)/8,a=t.encrypt(a),r.length)for(u=f.bitLength(r)/8,65279>=u?l=[f.partial(16,u)]:4294967295>=u&&(l=f.concat([f.partial(16,65534)],[u])),l=f.concat(l,r),c=0;c<l.length;c+=4)a=t.encrypt(h(a,l.slice(c,c+4).concat([0,0,0])));for(c=0;c<e.length;c+=4)a=t.encrypt(h(a,e.slice(c,c+4).concat([0,0,0])));return f.clamp(a,8*i)},_ctrMode:function(t,e,n,r,i,o){var a,u,c,l=s.bitArray,f=l._xor4,h=e.length,p=l.bitLength(e);if(c=l.concat([l.partial(8,o-1)],n).concat([0,0,0]).slice(0,4),r=l.bitSlice(f(r,t.encrypt(c)),0,i),!h)return{tag:r,data:[]};for(u=0;h>u;u+=4)c[3]++,a=t.encrypt(c),e[u]^=a[0],e[u+1]^=a[1],e[u+2]^=a[2],e[u+3]^=a[3];return{tag:r,data:l.clamp(e,p)}}},s.misc.hmac=function(t,e){this._hash=e=e||s.hash.sha256;var n,r=[[],[]],i=e.prototype.blockSize/32;for(this._baseHash=[new e,new e],t.length>i&&(t=e.hash(t)),n=0;i>n;n++)r[0][n]=909522486^t[n],r[1][n]=1549556828^t[n];this._baseHash[0].update(r[0]),this._baseHash[1].update(r[1])},s.misc.hmac.prototype.encrypt=s.misc.hmac.prototype.mac=function(t){var e=new this._hash(this._baseHash[0]).update(t).finalize();return new this._hash(this._baseHash[1]).update(e).finalize()},s.misc.pbkdf2=function(t,e,n,r,i){if(n=n||1e3,0>r||0>n)throw s.exception.invalid("invalid params to pbkdf2");"string"==typeof t&&(t=s.codec.utf8String.toBits(t)),i=i||s.misc.hmac;var o,a,u,c,l,f=new i(t),h=[],p=s.bitArray;for(l=1;32*h.length<(r||1);l++){for(o=a=f.encrypt(p.concat(e,[l])),u=1;n>u;u++)for(a=f.encrypt(a),c=0;c<a.length;c++)o[c]^=a[c];h=h.concat(o)}return r&&(h=p.clamp(h,r)),h},s.prng=function(t){this._pools=[new s.hash.sha256],this._poolEntropy=[0],this._reseedCount=0,this._robins={},this._eventId=0,this._collectorIds={},this._collectorIdNext=0,this._strength=0,this._poolStrength=0,this._nextReseed=0,this._key=[0,0,0,0,0,0,0,0],this._counter=[0,0,0,0],this._cipher=void 0,this._defaultParanoia=t,this._collectorsStarted=!1,this._callbacks={progress:{},seeded:{}},this._callbackI=0,this._NOT_READY=0,this._READY=1,this._REQUIRES_RESEED=2,this._MAX_WORDS_PER_BURST=65536,this._PARANOIA_LEVELS=[0,48,64,96,128,192,256,384,512,768,1024],this._MILLISECONDS_PER_RESEED=3e4,this._BITS_PER_RESEED=80},s.prng.prototype={randomWords:function(t,e){var n,r,i=[],o=this.isReady(e);if(o===this._NOT_READY)throw new s.exception.notReady("generator isn't seeded");for(o&this._REQUIRES_RESEED&&this._reseedFromPools(!(o&this._READY)),n=0;t>n;n+=4)(n+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),r=this._gen4words(),i.push(r[0],r[1],r[2],r[3]);return this._gate(),i.slice(0,t)},setDefaultParanoia:function(t){this._defaultParanoia=t},addEntropy:function(t,e,n){n=n||"user";var r,i,o,a=(new Date).valueOf(),u=this._robins[n],c=this.isReady(),l=0;switch(r=this._collectorIds[n],void 0===r&&(r=this._collectorIds[n]=this._collectorIdNext++),void 0===u&&(u=this._robins[n]=0),this._robins[n]=(this._robins[n]+1)%this._pools.length,typeof t){case"number":void 0===e&&(e=1),this._pools[u].update([r,this._eventId++,1,e,a,1,0|t]);break;case"object":var f=Object.prototype.toString.call(t);if("[object Uint32Array]"===f){for(o=[],i=0;i<t.length;i++)o.push(t[i]);t=o}else for("[object Array]"!==f&&(l=1),i=0;i<t.length&&!l;i++)"number"!=typeof t[i]&&(l=1);if(!l){if(void 0===e)for(e=0,i=0;i<t.length;i++)for(o=t[i];o>0;)e++,o>>>=1;this._pools[u].update([r,this._eventId++,2,e,a,t.length].concat(t))}break;case"string":void 0===e&&(e=t.length),this._pools[u].update([r,this._eventId++,3,e,a,t.length]),this._pools[u].update(t);break;default:l=1}if(l)throw new s.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[u]+=e,this._poolStrength+=e,c===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(t){var e=this._PARANOIA_LEVELS[void 0!==t?t:this._defaultParanoia];return this._strength&&this._strength>=e?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=e?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(t){var e=this._PARANOIA_LEVELS[t?t:this._defaultParanoia];return this._strength>=e?1:this._poolStrength>e?1:this._poolStrength/e},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new s.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(t,e){this._callbacks[t][this._callbackI++]=e},removeEventListener:function(t,e){var n,r,i=this._callbacks[t],o=[];for(r in i)i.hasOwnProperty(r)&&i[r]===e&&o.push(r);for(n=0;n<o.length;n++)r=o[n],delete i[r]},_gen4words:function(){for(var t=0;4>t&&(this._counter[t]=this._counter[t]+1|0,!this._counter[t]);t++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new s.cipher.aes(this._key)},_reseed:function(t){this._key=s.hash.sha256.hash(this._key.concat(t)),this._cipher=new s.cipher.aes(this._key);for(var e=0;4>e&&(this._counter[e]=this._counter[e]+1|0,!this._counter[e]);e++);},_reseedFromPools:function(t){var e,n=[],r=0;for(this._nextReseed=n[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,e=0;16>e;e++)n.push(4294967296*Math.random()|0);for(e=0;e<this._pools.length&&(n=n.concat(this._pools[e].finalize()),r+=this._poolEntropy[e],this._poolEntropy[e]=0,t||!(this._reseedCount&1<<e));e++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new s.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=r,r>this._strength&&(this._strength=r),this._reseedCount++,this._reseed(n)},_mouseCollector:function(t){var e=t.x||t.clientX||t.offsetX||0,n=t.y||t.clientY||t.offsetY||0;s.random.addEntropy([e,n],2,"mouse")},_loadTimeCollector:function(){s.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(t,e){var n,r=s.random._callbacks[t],i=[];for(n in r)r.hasOwnProperty(n)&&i.push(r[n]);for(n=0;n<i.length;n++)i[n](e)}},s.random=new s.prng(6),function(){try{var t=new Uint32Array(32);crypto.getRandomValues(t),s.random.addEntropy(t,1024,"crypto.getRandomValues")}catch(e){}}(),s.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(t,e,n,r){n=n||{},r=r||{};var i,o,a,u=s.json,c=u._add({iv:s.random.randomWords(4,0)},u.defaults);if(u._add(c,n),a=c.adata,"string"==typeof c.salt&&(c.salt=s.codec.base64.toBits(c.salt)),"string"==typeof c.iv&&(c.iv=s.codec.base64.toBits(c.iv)),!s.mode[c.mode]||!s.cipher[c.cipher]||"string"==typeof t&&c.iter<=100||64!==c.ts&&96!==c.ts&&128!==c.ts||128!==c.ks&&192!==c.ks&&256!==c.ks||c.iv.length<2||c.iv.length>4)throw new s.exception.invalid("json encrypt: invalid parameters");return"string"==typeof t?(i=s.misc.cachedPbkdf2(t,c),t=i.key.slice(0,c.ks/32),c.salt=i.salt):s.ecc&&t instanceof s.ecc.elGamal.publicKey&&(i=t.kem(),c.kemtag=i.tag,t=i.key.slice(0,c.ks/32)),"string"==typeof e&&(e=s.codec.utf8String.toBits(e)),"string"==typeof a&&(a=s.codec.utf8String.toBits(a)),o=new s.cipher[c.cipher](t),u._add(r,c),r.key=t,c.ct=s.mode[c.mode].encrypt(o,e,c.iv,a,c.ts),u.encode(c)},decrypt:function(t,e,n,r){n=n||{},r=r||{};var i,o,a,u=s.json,c=u._add(u._add(u._add({},u.defaults),u.decode(e)),n,!0),l=c.adata;if("string"==typeof c.salt&&(c.salt=s.codec.base64.toBits(c.salt)),"string"==typeof c.iv&&(c.iv=s.codec.base64.toBits(c.iv)),!s.mode[c.mode]||!s.cipher[c.cipher]||"string"==typeof t&&c.iter<=100||64!==c.ts&&96!==c.ts&&128!==c.ts||128!==c.ks&&192!==c.ks&&256!==c.ks||!c.iv||c.iv.length<2||c.iv.length>4)throw new s.exception.invalid("json decrypt: invalid parameters");return"string"==typeof t?(o=s.misc.cachedPbkdf2(t,c),t=o.key.slice(0,c.ks/32),c.salt=o.salt):s.ecc&&t instanceof s.ecc.elGamal.secretKey&&(t=t.unkem(s.codec.base64.toBits(c.kemtag)).slice(0,c.ks/32)),"string"==typeof l&&(l=s.codec.utf8String.toBits(l)),a=new s.cipher[c.cipher](t),i=s.mode[c.mode].decrypt(a,c.ct,c.iv,l,c.ts),u._add(r,c),r.key=t,s.codec.utf8String.fromBits(i)},encode:function(t){var e,n="{",r="";for(e in t)if(t.hasOwnProperty(e)){if(!e.match(/^[a-z0-9]+$/i))throw new s.exception.invalid("json encode: invalid property name");switch(n+=r+'"'+e+'":',r=",",typeof t[e]){case"number":case"boolean":n+=t[e];break;case"string":n+='"'+escape(t[e])+'"';break;case"object":n+='"'+s.codec.base64.fromBits(t[e],0)+'"';break;default:throw new s.exception.bug("json encode: unsupported type")}}return n+"}"},decode:function(t){if(t=t.replace(/\s/g,""),!t.match(/^\{.*\}$/))throw new s.exception.invalid("json decode: this isn't json!");var e,n,r=t.replace(/^\{|\}$/g,"").split(/,/),i={};for(e=0;e<r.length;e++){if(!(n=r[e].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new s.exception.invalid("json decode: this isn't json!");i[n[2]]=n[3]?parseInt(n[3],10):n[2].match(/^(ct|salt|iv)$/)?s.codec.base64.toBits(n[4]):unescape(n[4])}return i},_add:function(t,e,n){if(void 0===t&&(t={}),void 0===e)return t;var r;for(r in e)if(e.hasOwnProperty(r)){if(n&&void 0!==t[r]&&t[r]!==e[r])throw new s.exception.invalid("required parameter overridden");t[r]=e[r]}return t},_subtract:function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&t[n]!==e[n]&&(r[n]=t[n]);return r},_filter:function(t,e){var n,r={};for(n=0;n<e.length;n++)void 0!==t[e[n]]&&(r[e[n]]=t[e[n]]);return r}},s.encrypt=s.json.encrypt,s.decrypt=s.json.decrypt,s.misc._pbkdf2Cache={},s.misc.cachedPbkdf2=function(t,e){var n,r,i,o,a=s.misc._pbkdf2Cache;return e=e||{},o=e.iter||1e3,r=a[t]=a[t]||{},n=r[o]=r[o]||{firstSalt:e.salt&&e.salt.length?e.salt.slice(0):s.random.randomWords(2,0)},i=void 0===e.salt?n.firstSalt:e.salt,n[i]=n[i]||s.misc.pbkdf2(t,i,e.iter),{key:n[i].slice(0),salt:i.slice(0)}},s.bn=function(t){this.initWith(t)},s.bn.prototype={radix:24,maxMul:8,_class:s.bn,copy:function(){return new this._class(this)},initWith:function(t){var e,n=0;switch(typeof t){case"object":this.limbs=t.limbs.slice(0);break;case"number":this.limbs=[t],this.normalize();break;case"string":for(t=t.replace(/^0x/,""),this.limbs=[],e=this.radix/4,n=0;n<t.length;n+=e)this.limbs.push(parseInt(t.substring(Math.max(t.length-n-e,0),t.length-n),16));break;default:this.limbs=[0]}return this},equals:function(t){"number"==typeof t&&(t=new this._class(t));var e,n=0;for(this.fullReduce(),t.fullReduce(),e=0;e<this.limbs.length||e<t.limbs.length;e++)n|=this.getLimb(e)^t.getLimb(e);return 0===n},getLimb:function(t){return t>=this.limbs.length?0:this.limbs[t]},greaterEquals:function(t){"number"==typeof t&&(t=new this._class(t));var e,n,r,i=0,o=0;for(e=Math.max(this.limbs.length,t.limbs.length)-1;e>=0;e--)n=this.getLimb(e),r=t.getLimb(e),o|=r-n&~i,i|=n-r&~o;return(o|~i)>>>31},toString:function(){this.fullReduce();var t,e,n="",r=this.limbs;for(t=0;t<this.limbs.length;t++){for(e=r[t].toString(16);t<this.limbs.length-1&&e.length<6;)e="0"+e;n=e+n}return"0x"+n},addM:function(t){"object"!=typeof t&&(t=new this._class(t));var e,n=this.limbs,r=t.limbs;for(e=n.length;e<r.length;e++)n[e]=0;for(e=0;e<r.length;e++)n[e]+=r[e];return this},doubleM:function(){var t,e,n=0,r=this.radix,i=this.radixMask,o=this.limbs;for(t=0;t<o.length;t++)e=o[t],e=e+e+n,o[t]=e&i,n=e>>r;return n&&o.push(n),this},halveM:function(){var t,e,n=0,r=this.radix,i=this.limbs;for(t=i.length-1;t>=0;t--)e=i[t],i[t]=e+n>>1,n=(1&e)<<r;return i[i.length-1]||i.pop(),this},subM:function(t){"object"!=typeof t&&(t=new this._class(t));var e,n=this.limbs,r=t.limbs;for(e=n.length;e<r.length;e++)n[e]=0;for(e=0;e<r.length;e++)n[e]-=r[e];return this},mod:function(t){var e=!this.greaterEquals(new s.bn(0));t=new s.bn(t).normalize();var n=new s.bn(this).normalize(),r=0;for(e&&(n=new s.bn(0).subM(n).normalize());n.greaterEquals(t);r++)t.doubleM();for(e&&(n=t.sub(n).normalize());r>0;r--)t.halveM(),n.greaterEquals(t)&&n.subM(t).normalize();return n.trim()},inverseMod:function(t){var e,n,r=new s.bn(1),i=new s.bn(0),o=new s.bn(this),a=new s.bn(t),u=1;if(!(1&t.limbs[0]))throw new s.exception.invalid("inverseMod: p must be odd");do for(1&o.limbs[0]&&(o.greaterEquals(a)||(e=o,o=a,a=e,e=r,r=i,i=e),o.subM(a),o.normalize(),r.greaterEquals(i)||r.addM(t),r.subM(i)),o.halveM(),1&r.limbs[0]&&r.addM(t),r.normalize(),r.halveM(),n=u=0;n<o.limbs.length;n++)u|=o.limbs[n];while(u);if(!a.equals(1))throw new s.exception.invalid("inverseMod: p and x must be relatively prime");return i},add:function(t){return this.copy().addM(t)},sub:function(t){return this.copy().subM(t)},mul:function(t){"number"==typeof t&&(t=new this._class(t));var e,n,r,i=this.limbs,o=t.limbs,s=i.length,a=o.length,u=new this._class,c=u.limbs,l=this.maxMul;for(e=0;e<this.limbs.length+t.limbs.length+1;e++)c[e]=0;for(e=0;s>e;e++){for(r=i[e],n=0;a>n;n++)c[e+n]+=r*o[n];--l||(l=this.maxMul,u.cnormalize())}return u.cnormalize().reduce()},square:function(){return this.mul(this)},power:function(t){"number"==typeof t?t=[t]:void 0!==t.limbs&&(t=t.normalize().limbs);var e,n,r=new this._class(1),i=this;for(e=0;e<t.length;e++)for(n=0;n<this.radix;n++)t[e]&1<<n&&(r=r.mul(i)),i=i.square();return r},mulmod:function(t,e){return this.mod(e).mul(t.mod(e)).mod(e)},powermod:function(t,e){for(var n=new s.bn(1),r=new s.bn(this),i=new s.bn(t);;){if(1&i.limbs[0]&&(n=n.mulmod(r,e)),i.halveM(),i.equals(0))break;r=r.mulmod(r,e)}return n.normalize().reduce()},trim:function(){var t,e=this.limbs;do t=e.pop();while(e.length&&0===t);return e.push(t),this},reduce:function(){return this},fullReduce:function(){return this.normalize()},normalize:function(){var t,e,n,r=0,i=(this.placeVal,this.ipv),o=this.limbs,s=o.length,a=this.radixMask;for(t=0;s>t||0!==r&&-1!==r;t++)e=(o[t]||0)+r,n=o[t]=e&a,r=(e-n)*i;return-1===r&&(o[t-1]-=this.placeVal),this},cnormalize:function(){var t,e,n,r=0,i=this.ipv,o=this.limbs,s=o.length,a=this.radixMask;for(t=0;s-1>t;t++)e=o[t]+r,n=o[t]=e&a,r=(e-n)*i;return o[t]+=r,this},toBits:function(t){this.fullReduce(),t=t||this.exponent||this.bitLength();var e=Math.floor((t-1)/24),n=s.bitArray,r=(t+7&-8)%this.radix||this.radix,i=[n.partial(r,this.getLimb(e))];for(e--;e>=0;e--)i=n.concat(i,[n.partial(Math.min(this.radix,t),this.getLimb(e))]),t-=this.radix;return i},bitLength:function(){this.fullReduce();for(var t=this.radix*(this.limbs.length-1),e=this.limbs[this.limbs.length-1];e;e>>>=1)t++;return t+7&-8}},s.bn.fromBits=function(t){var e=this,n=new e,r=[],i=s.bitArray,o=this.prototype,a=Math.min(this.bitLength||4294967296,i.bitLength(t)),u=a%o.radix||o.radix;for(r[0]=i.extract(t,0,u);a>u;u+=o.radix)r.unshift(i.extract(t,u,o.radix));return n.limbs=r,n},s.bn.prototype.ipv=1/(s.bn.prototype.placeVal=Math.pow(2,s.bn.prototype.radix)),s.bn.prototype.radixMask=(1<<s.bn.prototype.radix)-1,s.bn.pseudoMersennePrime=function(t,e){function n(t){this.initWith(t)}var r,i,o,a=n.prototype=new s.bn;for(o=a.modOffset=Math.ceil(i=t/a.radix),a.exponent=t,a.offset=[],a.factor=[],a.minOffset=o,a.fullMask=0,a.fullOffset=[],a.fullFactor=[],a.modulus=n.modulus=new s.bn(Math.pow(2,t)),a.fullMask=0|-Math.pow(2,t%a.radix),r=0;r<e.length;r++)a.offset[r]=Math.floor(e[r][0]/a.radix-i),a.fullOffset[r]=Math.ceil(e[r][0]/a.radix-i),a.factor[r]=e[r][1]*Math.pow(.5,t-e[r][0]+a.offset[r]*a.radix),a.fullFactor[r]=e[r][1]*Math.pow(.5,t-e[r][0]+a.fullOffset[r]*a.radix),a.modulus.addM(new s.bn(Math.pow(2,e[r][0])*e[r][1])),a.minOffset=Math.min(a.minOffset,-a.offset[r]);return a._class=n,a.modulus.cnormalize(),a.reduce=function(){var t,e,n,r,i=this.modOffset,o=this.limbs,s=this.offset,a=this.offset.length,u=this.factor;for(t=this.minOffset;o.length>i;){for(n=o.pop(),r=o.length,e=0;a>e;e++)o[r+s[e]]-=u[e]*n;t--,t||(o.push(0),this.cnormalize(),t=this.minOffset)}return this.cnormalize(),this},a._strongReduce=-1===a.fullMask?a.reduce:function(){var t,e,n=this.limbs,r=n.length-1;if(this.reduce(),r===this.modOffset-1){for(e=n[r]&this.fullMask,n[r]-=e,t=0;t<this.fullOffset.length;t++)n[r+this.fullOffset[t]]-=this.fullFactor[t]*e;this.normalize()}},a.fullReduce=function(){var t,e;for(this._strongReduce(),this.addM(this.modulus),this.addM(this.modulus),this.normalize(),this._strongReduce(),e=this.limbs.length;e<this.modOffset;e++)this.limbs[e]=0;for(t=this.greaterEquals(this.modulus),e=0;e<this.limbs.length;e++)this.limbs[e]-=this.modulus.limbs[e]*t;return this.cnormalize(),this},a.inverse=function(){return this.power(this.modulus.sub(2))},n.fromBits=s.bn.fromBits,n},s.bn.prime={p127:s.bn.pseudoMersennePrime(127,[[0,-1]]),p25519:s.bn.pseudoMersennePrime(255,[[0,-19]]),p192:s.bn.pseudoMersennePrime(192,[[0,-1],[64,-1]]),p224:s.bn.pseudoMersennePrime(224,[[0,1],[96,-1]]),p256:s.bn.pseudoMersennePrime(256,[[0,-1],[96,1],[192,1],[224,-1]]),p384:s.bn.pseudoMersennePrime(384,[[0,-1],[32,1],[96,-1],[128,-1]]),p521:s.bn.pseudoMersennePrime(521,[[0,-1]])},s.bn.random=function(t,e){"object"!=typeof t&&(t=new s.bn(t));for(var n,r,i=t.limbs.length,o=t.limbs[i-1]+1,a=new s.bn;;){do n=s.random.randomWords(i,e),n[i-1]<0&&(n[i-1]+=4294967296);while(Math.floor(n[i-1]/o)===Math.floor(4294967296/o));for(n[i-1]%=o,r=0;i-1>r;r++)n[r]&=t.radixMask;if(a.limbs=n,!a.greaterEquals(t))return a}},s.ecc={},s.ecc.point=function(t,e,n){void 0===e?this.isIdentity=!0:(e instanceof s.bn&&(e=new t.field(e)),n instanceof s.bn&&(n=new t.field(n)),this.x=e,this.y=n,this.isIdentity=!1),this.curve=t},s.ecc.point.prototype={toJac:function(){return new s.ecc.pointJac(this.curve,this.x,this.y,new this.curve.field(1))},mult:function(t){return this.toJac().mult(t,this).toAffine()},mult2:function(t,e,n){return this.toJac().mult2(t,this,e,n).toAffine()},multiples:function(){var t,e,n;if(void 0===this._multiples)for(n=this.toJac().doubl(),t=this._multiples=[new s.ecc.point(this.curve),this,n.toAffine()],e=3;16>e;e++)n=n.add(this),t.push(n.toAffine());return this._multiples},isValid:function(){return this.y.square().equals(this.curve.b.add(this.x.mul(this.curve.a.add(this.x.square()))))},toBits:function(){return s.bitArray.concat(this.x.toBits(),this.y.toBits())}},s.ecc.pointJac=function(t,e,n,r){void 0===e?this.isIdentity=!0:(this.x=e,this.y=n,this.z=r,this.isIdentity=!1),this.curve=t},s.ecc.pointJac.prototype={add:function(t){var e,n,r,i,o,a,u,c,l,f,h,p=this;if(p.curve!==t.curve)throw"sjcl.ecc.add(): Points must be on the same curve to add them!";return p.isIdentity?t.toJac():t.isIdentity?p:(e=p.z.square(),n=t.x.mul(e).subM(p.x),n.equals(0)?p.y.equals(t.y.mul(e.mul(p.z)))?p.doubl():new s.ecc.pointJac(p.curve):(r=t.y.mul(e.mul(p.z)).subM(p.y),i=n.square(),o=r.square(),a=n.square().mul(n).addM(p.x.add(p.x).mul(i)),u=o.subM(a),c=p.x.mul(i).subM(u).mul(r),l=p.y.mul(n.square().mul(n)),f=c.subM(l),h=p.z.mul(n),new s.ecc.pointJac(this.curve,u,f,h)))},doubl:function(){if(this.isIdentity)return this;var t=this.y.square(),e=t.mul(this.x.mul(4)),n=t.square().mul(8),r=this.z.square(),i=this.x.sub(r).mul(3).mul(this.x.add(r)),o=i.square().subM(e).subM(e),a=e.sub(o).mul(i).subM(n),u=this.y.add(this.y).mul(this.z);return new s.ecc.pointJac(this.curve,o,a,u)},toAffine:function(){if(this.isIdentity||this.z.equals(0))return new s.ecc.point(this.curve);var t=this.z.inverse(),e=t.square();return new s.ecc.point(this.curve,this.x.mul(e).fullReduce(),this.y.mul(e.mul(t)).fullReduce())},mult:function(t,e){"number"==typeof t?t=[t]:void 0!==t.limbs&&(t=t.normalize().limbs);var n,r,i=new s.ecc.point(this.curve).toJac(),o=e.multiples();for(n=t.length-1;n>=0;n--)for(r=s.bn.prototype.radix-4;r>=0;r-=4)i=i.doubl().doubl().doubl().doubl().add(o[t[n]>>r&15]);return i},mult2:function(t,e,n,r){"number"==typeof t?t=[t]:void 0!==t.limbs&&(t=t.normalize().limbs),"number"==typeof n?n=[n]:void 0!==n.limbs&&(n=n.normalize().limbs);var i,o,a,u,c=new s.ecc.point(this.curve).toJac(),l=e.multiples(),f=r.multiples();for(i=Math.max(t.length,n.length)-1;i>=0;i--)for(a=0|t[i],u=0|n[i],o=s.bn.prototype.radix-4;o>=0;o-=4)c=c.doubl().doubl().doubl().doubl().add(l[a>>o&15]).add(f[u>>o&15]);return c},isValid:function(){var t=this.z.square(),e=t.square(),n=e.mul(t);return this.y.square().equals(this.curve.b.mul(n).add(this.x.mul(this.curve.a.mul(e).add(this.x.square()))))}},s.ecc.curve=function(t,e,n,r,i,o){this.field=t,this.r=t.prototype.modulus.sub(e),this.a=new t(n),this.b=new t(r),this.G=new s.ecc.point(this,new t(i),new t(o))},s.ecc.curve.prototype.fromBits=function(t){var e=s.bitArray,n=this.field.prototype.exponent+7&-8,r=new s.ecc.point(this,this.field.fromBits(e.bitSlice(t,0,n)),this.field.fromBits(e.bitSlice(t,n,2*n)));if(!r.isValid())throw new s.exception.corrupt("not on the curve!");return r},s.ecc.curves={c192:new s.ecc.curve(s.bn.prime.p192,"0x662107c8eb94364e4b2dd7ce",-3,"0x64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1","0x188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012","0x07192b95ffc8da78631011ed6b24cdd573f977a11e794811"),c224:new s.ecc.curve(s.bn.prime.p224,"0xe95c1f470fc1ec22d6baa3a3d5c4",-3,"0xb4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4","0xb70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21","0xbd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34"),c256:new s.ecc.curve(s.bn.prime.p256,"0x4319055358e8617b0c46353d039cdaae",-3,"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b","0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296","0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),c384:new s.ecc.curve(s.bn.prime.p384,"0x389cb27e0bc8d21fa7e5f24cb74f58851313e696333ad68c",-3,"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef","0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7","0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},s.ecc._dh=function(t){s.ecc[t]={publicKey:function(t,e){this._curve=t,this._curveBitLength=t.r.bitLength(),this._point=e instanceof Array?t.fromBits(e):e,this.get=function(){var t=this._point.toBits(),e=s.bitArray.bitLength(t),n=s.bitArray.bitSlice(t,0,e/2),r=s.bitArray.bitSlice(t,e/2);return{x:n,y:r}}},secretKey:function(t,e){this._curve=t,this._curveBitLength=t.r.bitLength(),this._exponent=e,this.get=function(){return this._exponent.toBits()}},generateKeys:function(e,n,r){if(void 0===e&&(e=256),"number"==typeof e&&(e=s.ecc.curves["c"+e],void 0===e))throw new s.exception.invalid("no such curve");if(void 0===r)var r=s.bn.random(e.r,n);var i=e.G.mult(r);return{pub:new s.ecc[t].publicKey(e,i),sec:new s.ecc[t].secretKey(e,r)}}}},s.ecc._dh("elGamal"),s.ecc.elGamal.publicKey.prototype={kem:function(t){var e=s.bn.random(this._curve.r,t),n=this._curve.G.mult(e).toBits(),r=s.hash.sha256.hash(this._point.mult(e).toBits());return{key:r,tag:n}}},s.ecc.elGamal.secretKey.prototype={unkem:function(t){return s.hash.sha256.hash(this._curve.fromBits(t).mult(this._exponent).toBits())},dh:function(t){return s.hash.sha256.hash(t._point.mult(this._exponent).toBits())}},s.ecc._dh("ecdsa"),s.ecc.ecdsa.secretKey.prototype={sign:function(t,e,n,r){s.bitArray.bitLength(t)>this._curveBitLength&&(t=s.bitArray.clamp(t,this._curveBitLength));var i=this._curve.r,o=i.bitLength(),a=r||s.bn.random(i.sub(1),e).add(1),u=this._curve.G.mult(a).x.mod(i),c=s.bn.fromBits(t).add(u.mul(this._exponent)),l=n?c.inverseMod(i).mul(a).mod(i):c.mul(a.inverseMod(i)).mod(i);return s.bitArray.concat(u.toBits(o),l.toBits(o))}},s.ecc.ecdsa.publicKey.prototype={verify:function(t,e,n){s.bitArray.bitLength(t)>this._curveBitLength&&(t=s.bitArray.clamp(t,this._curveBitLength));var r=s.bitArray,i=this._curve.r,o=this._curveBitLength,a=s.bn.fromBits(r.bitSlice(e,0,o)),u=s.bn.fromBits(r.bitSlice(e,o,2*o)),c=n?u:u.inverseMod(i),l=s.bn.fromBits(t).mul(c).mod(i),f=a.mul(c).mod(i),h=this._curve.G.mult2(l,f,this._point).x;if(a.equals(0)||u.equals(0)||a.greaterEquals(i)||u.greaterEquals(i)||!h.equals(a)){if(void 0===n)return this.verify(t,e,!0);throw new s.exception.corrupt("signature didn't check out")}return!0}},s.keyexchange.srp={makeVerifier:function(t,e,n,r){var i;return i=s.keyexchange.srp.makeX(t,e,n),i=s.bn.fromBits(i),r.g.powermod(i,r.N)},makeX:function(t,e,n){var r=s.hash.sha1.hash(t+":"+e);return s.hash.sha1.hash(s.bitArray.concat(n,r))},knownGroup:function(t){return"string"!=typeof t&&(t=t.toString()),s.keyexchange.srp._didInitKnownGroups||s.keyexchange.srp._initKnownGroups(),s.keyexchange.srp._knownGroups[t]},_didInitKnownGroups:!1,_initKnownGroups:function(){var t,e,n;for(t=0;t<s.keyexchange.srp._knownGroupSizes.length;t++)e=s.keyexchange.srp._knownGroupSizes[t].toString(),n=s.keyexchange.srp._knownGroups[e],n.N=new s.bn(n.N),n.g=new s.bn(n.g);s.keyexchange.srp._didInitKnownGroups=!0},_knownGroupSizes:[1024,1536,2048],_knownGroups:{1024:{N:"EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",g:2},1536:{N:"9DEF3CAFB939277AB1F12A8617A47BBBDBA51DF499AC4C80BEEEA9614B19CC4D5F4F5F556E27CBDE51C6A94BE4607A291558903BA0D0F84380B655BB9A22E8DCDF028A7CEC67F0D08134B1C8B97989149B609E0BE3BAB63D47548381DBC5B1FC764E3F4B53DD9DA1158BFD3E2B9C8CF56EDF019539349627DB2FD53D24B7C48665772E437D6C7F8CE442734AF7CCB7AE837C264AE3A9BEB87F8A2FE9B8B5292E5A021FFF5E91479E8CE7A28C2442C6F315180F93499A234DCF76E3FED135F9BB",g:2},2048:{N:"AC6BDB41324A9A9BF166DE5E1389582FAF72B6651987EE07FC3192943DB56050A37329CBB4A099ED8193E0757767A13DD52312AB4B03310DCD7F48A9DA04FD50E8083969EDB767B0CF6095179A163AB3661A05FBD5FAAAE82918A9962F0B93B855F97993EC975EEAA80D740ADBF4FF747359D041D5C33EA71D281E446B14773BCA97B43A23FB801676BD207A436C6481F1D2B9078717461A5B9D32E688F87748544523B524B0D57D5EA77A2775D2ECFA032CFBDBF52FB3786160279004E57AE6AF874E7303CE53299CCC041C7BC308D82A5698F3A8D0C38271AE35F8E9DBFBB694B5C803D89F7AE435DE236D525F54759B65E372FCD68EF20FA7111F9E4AFF73",g:2}}},s.ecc.point.prototype.isValidPoint=function(){var t=this,e=t.curve.field.modulus;
return t.isIdentity?!1:new s.bn(1).greaterEquals(t.x)&&!t.x.equals(1)||t.x.greaterEquals(e.sub(1))&&!t.x.equals(1)?!1:new s.bn(1).greaterEquals(t.y)&&!t.y.equals(1)||t.y.greaterEquals(e.sub(1))&&!t.y.equals(1)?!1:t.isOnCurve()?!0:!1},s.ecc.point.prototype.isOnCurve=function(){var t=this,e=(t.curve.r,t.curve.a),n=t.curve.b,r=t.curve.field.modulus,i=t.y.mul(t.y).mod(r),o=t.x.mul(t.x).mul(t.x).add(e.mul(t.x)).add(n).mod(r);return i.equals(o)},s.ecc.point.prototype.toString=function(){return"("+this.x.toString()+", "+this.y.toString()+")"},s.ecc.pointJac.prototype.toString=function(){return"("+this.x.toString()+", "+this.y.toString()+", "+this.z.toString()+")"},s.ecc.curves.c256=new s.ecc.curve(s.bn.pseudoMersennePrime(256,[[0,-1],[4,-1],[6,-1],[7,-1],[8,-1],[9,-1],[32,-1]]),"0x14551231950b75fc4402da1722fc9baee",0,7,"0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),s.ecc.pointJac.prototype.add=function(t){var e=this;if(e.curve!==t.curve)throw"sjcl.ecc.add(): Points must be on the same curve to add them!";if(e.isIdentity)return t.toJac();if(t.isIdentity)return e;var n=e.z.square(),r=t.x.mul(n).subM(e.x),i=t.y.mul(e.z).mul(n);if(r.equals(0))return e.y.equals(t.y.mul(n.mul(e.z)))?e.doubl():new s.ecc.pointJac(e.curve);var o=r.square(),a=o.copy().doubleM().doubleM(),u=r.mul(a),c=i.sub(e.y).doubleM(),l=e.x.mul(a),f=c.square().subM(u).subM(l.copy().doubleM()),h=c.mul(l.sub(f)).subM(e.y.mul(u).doubleM()),p=e.z.add(r).square().subM(n).subM(o);return new s.ecc.pointJac(this.curve,f,h,p)},s.ecc.pointJac.prototype.doubl=function(){if(this.isIdentity)return this;var t=this.x.square(),e=this.y.square(),n=e.square(),r=this.x.add(e).square().subM(t).subM(n).doubleM(),i=t.mul(3),o=i.square(),a=o.sub(r.copy().doubleM()),u=i.mul(r.sub(a)).subM(n.doubleM().doubleM().doubleM()),c=this.z.mul(this.y).doubleM();return new s.ecc.pointJac(this.curve,a,u,c)},s.ecc.point.prototype.toBytesCompressed=function(){var t="0x0"==this.y.mod(2).toString()?2:3;return[t].concat(s.codec.bytes.fromBits(this.x.toBits()))},function(){function t(t,e,n){return t^e^n}function e(t,e,n){return t&e|~t&n}function n(t,e,n){return(t|~e)^n}function r(t,e,n){return t&n|e&~n}function i(t,e,n){return t^(e|~n)}function o(t,e){return t<<e|t>>>32-e}function a(t){return(255&t)<<24|(65280&t)<<8|(t&255<<16)>>>8|(t&255<<24)>>>24}function u(s){for(var a,u=this._h[0],c=this._h[1],h=this._h[2],p=this._h[3],y=this._h[4],b=this._h[0],_=this._h[1],w=this._h[2],$=this._h[3],x=this._h[4],E=0;16>E;++E)a=o(u+t(c,h,p)+s[d[E]]+l[E],m[E])+y,u=y,y=p,p=o(h,10),h=c,c=a,a=o(b+i(_,w,$)+s[v[E]]+f[E],g[E])+x,b=x,x=$,$=o(w,10),w=_,_=a;for(;32>E;++E)a=o(u+e(c,h,p)+s[d[E]]+l[E],m[E])+y,u=y,y=p,p=o(h,10),h=c,c=a,a=o(b+r(_,w,$)+s[v[E]]+f[E],g[E])+x,b=x,x=$,$=o(w,10),w=_,_=a;for(;48>E;++E)a=o(u+n(c,h,p)+s[d[E]]+l[E],m[E])+y,u=y,y=p,p=o(h,10),h=c,c=a,a=o(b+n(_,w,$)+s[v[E]]+f[E],g[E])+x,b=x,x=$,$=o(w,10),w=_,_=a;for(;64>E;++E)a=o(u+r(c,h,p)+s[d[E]]+l[E],m[E])+y,u=y,y=p,p=o(h,10),h=c,c=a,a=o(b+e(_,w,$)+s[v[E]]+f[E],g[E])+x,b=x,x=$,$=o(w,10),w=_,_=a;for(;80>E;++E)a=o(u+i(c,h,p)+s[d[E]]+l[E],m[E])+y,u=y,y=p,p=o(h,10),h=c,c=a,a=o(b+t(_,w,$)+s[v[E]]+f[E],g[E])+x,b=x,x=$,$=o(w,10),w=_,_=a;a=this._h[1]+h+$,this._h[1]=this._h[2]+p+x,this._h[2]=this._h[3]+y+b,this._h[3]=this._h[4]+u+_,this._h[4]=this._h[0]+c+w,this._h[0]=a}s.hash.ripemd160=function(t){t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},s.hash.ripemd160.hash=function(t){return(new s.hash.ripemd160).update(t).finalize()},s.hash.ripemd160.prototype={reset:function(){return this._h=c.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"==typeof t&&(t=s.codec.utf8String.toBits(t));var e,n=this._buffer=s.bitArray.concat(this._buffer,t),r=this._length,i=this._length=r+s.bitArray.bitLength(t);for(e=512+r&-512;i>=e;e+=512){for(var o=n.splice(0,16),c=0;16>c;++c)o[c]=a(o[c]);u.call(this,o)}return this},finalize:function(){var t=s.bitArray.concat(this._buffer,[s.bitArray.partial(1,1)]),e=(this._length+1)%512,n=(e>448?512:448)-e%448,r=n%32;for(r>0&&(t=s.bitArray.concat(t,[s.bitArray.partial(r,0)]));n>=32;n-=32)t.push(0);for(t.push(a(0|this._length)),t.push(a(Math.floor(this._length/4294967296)));t.length;){for(var i=t.splice(0,16),o=0;16>o;++o)i[o]=a(i[o]);u.call(this,i)}var c=this._h;this.reset();for(var o=0;5>o;++o)c[o]=a(c[o]);return c}};for(var c=[1732584193,4023233417,2562383102,271733878,3285377520],l=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0],h=4;h>=0;--h)for(var p=1;16>p;++p)l.splice(h,0,l[h]),f.splice(h,0,f[h]);var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}(),s.bn.ZERO=new s.bn(0),s.bn.prototype.divRem=function(t){"object"!=typeof t&&(t=new this._class(t));var e=this.abs(),n=t.abs(),r=new this._class(0),i=0;if(!e.greaterEquals(n))return[new s.bn(0),this.copy()];if(e.equals(n))return[new s.bn(1),new s.bn(0)];for(;e.greaterEquals(n);i++)n.doubleM();for(;i>0;i--)r.doubleM(),n.halveM(),e.greaterEquals(n)&&(r.addM(1),e.subM(t).normalize());return[r,e]},s.bn.prototype.divRound=function(t){var e=this.divRem(t),n=e[0],r=e[1];return r.doubleM().greaterEquals(t)&&n.addM(1),n},s.bn.prototype.div=function(t){var e=this.divRem(t);return e[0]},s.bn.prototype.sign=function(){return this.greaterEquals(s.bn.ZERO)?1:-1},s.bn.prototype.neg=function(){return s.bn.ZERO.sub(this)},s.bn.prototype.abs=function(){return-1===this.sign()?this.neg():this},s.bn.prototype.shiftRight=function(t){if("number"!=typeof t)throw new Error("shiftRight expects a number");if(t=+t,0>t)return this.shiftLeft(t);for(var e=new s.bn(this);t>=this.radix;)e.limbs.shift(),t-=this.radix;for(;t--;)e.halveM();return e},s.bn.prototype.shiftLeft=function(t){if("number"!=typeof t)throw new Error("shiftLeft expects a number");if(t=+t,0>t)return this.shiftRight(t);for(var e=new s.bn(this);t>=this.radix;)e.limbs.unshift(0),t-=this.radix;for(;t--;)e.doubleM();return e},s.bn.prototype.toNumber=function(){return 0|this.limbs[0]},s.bn.prototype.testBit=function(t){var e=Math.floor(t/this.radix),n=t%this.radix;return e>=this.limbs.length?0:this.limbs[e]>>>n&1},s.bn.prototype.setBitM=function(t){for(var e=Math.floor(t/this.radix),n=t%this.radix;e>=this.limbs.length;)this.limbs.push(0);return this.limbs[e]|=1<<n,this.cnormalize(),this},s.bn.prototype.modInt=function(t){return this.toNumber()%t},s.bn.prototype.invDigit=function(){var t=1+this.radixMask;if(this.limbs.length<1)return 0;var e=this.limbs[0];if(0==(1&e))return 0;var n=3&e;return n=n*(2-(15&e)*n)&15,n=n*(2-(255&e)*n)&255,n=n*(2-((65535&e)*n&65535))&65535,n=n*(2-e*n%t)%t,n>0?t-n:-n},s.bn.prototype.am=function(t,e,n,r,i,o){for(var s=4095&e,a=e>>12;--o>=0;){var u=4095&this.limbs[t],c=this.limbs[t++]>>12,l=a*u+c*s;u=s*u+((4095&l)<<12)+n.limbs[r]+i,i=(u>>24)+(l>>12)+a*c,n.limbs[r++]=16777215&u}return i};var a=function(t){this.m=t,this.mt=t.limbs.length,this.mt2=2*this.mt,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.radix-15)-1};a.prototype.reduce=function(t){for(var e=t.radixMask+1;t.limbs.length<=this.mt2;)t.limbs[t.limbs.length]=0;for(var n=0;n<this.mt;++n){var r=32767&t.limbs[n],i=r*this.mpl+((r*this.mph+(t.limbs[n]>>15)*this.mpl&this.um)<<15)&t.radixMask;for(r=n+this.mt,t.limbs[r]+=this.m.am(0,i,t,n,0,this.mt);t.limbs[r]>=e;)t.limbs[r]-=e,t.limbs[++r]++}return t.trim(),t=t.shiftRight(this.mt*this.m.radix),t.greaterEquals(this.m)&&(t=t.sub(this.m)),t.trim().normalize().reduce()},a.prototype.square=function(t){return this.reduce(t.square())},a.prototype.multiply=function(t,e){return this.reduce(t.mul(e))},a.prototype.convert=function(t){return t.abs().shiftLeft(this.mt*this.m.radix).mod(this.m)},a.prototype.revert=function(t){return this.reduce(t.copy())},s.bn.prototype.powermodMontgomery=function(t,n){var r,i=t.bitLength(),o=new this._class(1);if(0>=i)return o;if(r=18>i?1:48>i?3:144>i?4:768>i?5:6,8>i||!n.testBit(0))return this.powermod(t,n);var s=new a(n);t.trim().normalize();var u=new Array,c=3,l=r-1,f=(1<<r)-1;if(u[1]=s.convert(this),r>1)for(var h=s.square(u[1]);f>=c;)u[c]=s.multiply(h,u[c-2]),c+=2;var p,d,v=t.limbs.length-1,m=!0,g=new this._class;for(i=e(t.limbs[v])-1;v>=0;){for(i>=l?p=t.limbs[v]>>i-l&f:(p=(t.limbs[v]&(1<<i+1)-1)<<l-i,v>0&&(p|=t.limbs[v-1]>>this.radix+i-l)),c=r;0==(1&p);)p>>=1,--c;if((i-=c)<0&&(i+=this.radix,--v),m)o=u[p].copy(),m=!1;else{for(;c>1;)g=s.square(o),o=s.square(g),c-=2;c>0?g=s.square(o):(d=o,o=g,g=d),o=s.multiply(g,u[p])}for(;v>=0&&0==(t.limbs[v]&1<<i);)g=s.square(o),d=o,o=g,g=d,--i<0&&(i=this.radix-1,--v)}return s.revert(o)},s.ecc.ecdsa.secretKey.prototype.sign=function(t,e,n){var r,i=this._curve.r,o=i.bitLength();r="object"==typeof n&&n.length>0&&"number"==typeof n[0]?n:"string"==typeof n&&/^[0-9a-fA-F]+$/.test(n)?s.bn.fromBits(s.codec.hex.toBits(n)):s.bn.random(i.sub(1),e).add(1);var a=this._curve.G.mult(r).x.mod(i),u=s.bn.fromBits(t).add(a.mul(this._exponent)).mul(r.inverseMod(i)).mod(i);return s.bitArray.concat(a.toBits(o),u.toBits(o))},s.ecc.ecdsa.publicKey.prototype.verify=function(t,e){var n=s.bitArray,r=this._curve.r,i=r.bitLength(),o=s.bn.fromBits(n.bitSlice(e,0,i)),a=s.bn.fromBits(n.bitSlice(e,i,2*i)),u=a.inverseMod(r),c=s.bn.fromBits(t).mul(u).mod(r),l=o.mul(u).mod(r),f=this._curve.G.mult2(c,l,this._point).x;if(o.equals(0)||a.equals(0)||o.greaterEquals(r)||a.greaterEquals(r)||!f.equals(o))throw new s.exception.corrupt("signature didn't check out");return!0},s.ecc.ecdsa.secretKey.prototype.canonicalizeSignature=function(t){var e=s.bitArray,n=this._curve.r,r=n.bitLength(),i=s.bn.fromBits(e.bitSlice(t,0,r)),o=s.bn.fromBits(e.bitSlice(t,r,2*r));return n.copy().halveM().greaterEquals(o)||(o=n.sub(o)),e.concat(i.toBits(r),o.toBits(r))},s.ecc.ecdsa.secretKey.prototype.signDER=function(t,e){return this.encodeDER(this.sign(t,e))},s.ecc.ecdsa.secretKey.prototype.encodeDER=function(t){for(var e=s.bitArray,n=this._curve.r,r=n.bitLength(),i=s.codec.bytes.fromBits(e.bitSlice(t,0,r)),o=s.codec.bytes.fromBits(e.bitSlice(t,r,2*r));!i[0]&&i.length;)i.shift();for(;!o[0]&&o.length;)o.shift();128&i[0]&&i.unshift(0),128&o[0]&&o.unshift(0);var a=[].concat(48,4+i.length+o.length,2,i.length,i,2,o.length,o);return s.codec.bytes.toBits(a)};var u;s.ecc.ecdsa.secretKey.prototype.signWithRecoverablePublicKey=function(t,e,i){var o,a=this;if(!("object"==typeof t&&t.length>0&&"number"==typeof t[0]))throw new s.exception.invalid("hash. Must be a bitArray");o=t;var u=a.sign(o,e,i),c=a.canonicalizeSignature(u),l=n(a._curve,c),f=a._curve.G.mult(s.bn.fromBits(a.get())),h=r(a._curve,l.r,l.s,o,f),p=h+27,d=s.bitArray.concat([p],c);return d},s.ecc.ecdsa.publicKey.recoverFromSignature=function(t,e,r){if(!e||e instanceof s.ecc.curve)throw new s.exception.invalid("must supply hash and signature to recover public key");r||(r=s.ecc.curves.c256);var o;if(!("object"==typeof t&&t.length>0&&"number"==typeof t[0]))throw new s.exception.invalid("hash. Must be a bitArray");o=t;var a;if(!("object"==typeof e&&e.length>0&&"number"==typeof e[0]))throw new s.exception.invalid("signature. Must be a bitArray");a=e;var u=a[0]-27;if(0>u||u>3)throw new s.exception.invalid("signature. Signature must be generated with algorithm that prepends the recovery factor in order to recover the public key");var c=n(r,a.slice(1)),l=c.r,f=c.s,h=i(r,l,f,o,u),p=new s.ecc.ecdsa.publicKey(r,h);return p},s.bn.prototype.jacobi=function(t){var e=this;if(t=new s.bn(t),-1!==t.sign()){if(e.equals(0))return 0;if(e.equals(1))return 1;for(var n=0,r=0;!e.testBit(r);)r++;var i=e.shiftRight(r);if(0===(1&r))n=1;else{var o=t.modInt(8);1===o||7===o?n=1:(3===o||5===o)&&(n=-1)}return 3===t.modInt(4)&&3===i.modInt(4)&&(n=-n),i.equals(1)?n:n*t.mod(i).jacobi(i)}}},function(t,e){function n(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function r(){return new n(null)}function i(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i}function o(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],c=this[t++]>>15,l=a*u+c*s;u=s*u+((32767&l)<<15)+n[r]+(1073741823&i),i=(u>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i}function s(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],c=this[t++]>>14,l=a*u+c*s;u=s*u+((16383&l)<<14)+n[r]+i,i=(u>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i}function a(t){return an.charAt(t)}function u(t,e){var n=un[t.charCodeAt(e)];return null==n?-1:n}function c(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function l(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+this.DV:this.t=0}function f(t){var e=r();return e.fromInt(t),e}function h(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==r?255&t[i]:u(t,i);0>a?"-"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&n.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function d(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,u=this.DB-s*this.DB%e;if(s-->0)for(u<this.DB&&(n=this[s]>>u)>0&&(i=!0,o=a(n));s>=0;)e>u?(n=(this[s]&(1<<u)-1)<<e-u,n|=this[--s]>>(u+=this.DB-e)):(n=this[s]>>(u-=e)&r,0>=u&&(u+=this.DB,--s)),n>0&&(i=!0),i&&(o+=a(n));return i?o:"0"}function v(){var t=r();return n.ZERO.subTo(this,t),t}function m(){return this.s<0?this.negate():this}function g(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function y(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function b(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)}function _(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function w(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function $(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function x(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}function E(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);i>n;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=0>r?-1:0,-1>r?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()}function S(t,e){var r=this.abs(),i=t.abs(),o=r.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+r.t]=r.am(0,i[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)}function A(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function T(t,e,i){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var a=r(),u=this.s,c=t.s,l=this.DB-y(o[o.t-1]);l>0?(o.lShiftTo(l,a),s.lShiftTo(l,i)):(o.copyTo(a),s.copyTo(i));var f=a.t,h=a[f-1];if(0!=h){var p=h*(1<<this.F1)+(f>1?a[f-2]>>this.F2:0),d=this.FV/p,v=(1<<this.F1)/p,m=1<<this.F2,g=i.t,b=g-f,_=null==e?r():e;for(a.dlShiftTo(b,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),n.ONE.dlShiftTo(f,_),_.subTo(a,a);a.t<f;)a[a.t++]=0;for(;--b>=0;){var w=i[--g]==h?this.DM:Math.floor(i[g]*d+(i[g-1]+m)*v);if((i[g]+=a.am(0,w,i,b,0,f))<w)for(a.dlShiftTo(b,_),i.subTo(_,i);i[g]<--w;)i.subTo(_,i)}null!=e&&(i.drShiftTo(f,e),u!=c&&n.ZERO.subTo(e,e)),i.t=f,i.clamp(),l>0&&i.rShiftTo(l,i),0>u&&n.ZERO.subTo(i,i)}}}function k(t){var e=r();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e}function C(t){this.m=t}function j(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function I(t){return t}function O(t){t.divRemTo(this.m,null,t)}function B(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function D(t,e){t.squareTo(e),this.reduce(e)}function N(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function R(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function L(t){var e=r();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e}function q(t){var e=r();return t.copyTo(e),this.reduce(e),e}function M(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function F(t,e){t.squareTo(e),this.reduce(e)}function P(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function U(){return 0==(this.t>0?1&this[0]:this.s)}function H(t,e){if(t>4294967295||1>t)return n.ONE;var i=r(),o=r(),s=e.convert(this),a=y(t)-1;for(s.copyTo(i);--a>=0;)if(e.sqrTo(i,o),(t&1<<a)>0)e.mulTo(o,s,i);else{var u=i;i=o,o=u}return e.revert(i)}function z(t,e){var n;return n=256>t||e.isEven()?new C(e):new R(e),this.exp(t,n)}function V(){var t=r();return this.copyTo(t),t}function G(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function W(){return 0==this.t?this.s:this[0]<<24>>24}function K(){return 0==this.t?this.s:this[0]<<16>>16}function X(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function J(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Z(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=f(n),o=r(),s=r(),a="";for(this.divRemTo(i,o,s);o.signum()>0;)a=(n+s.intValue()).toString(t).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(t)+a}function Y(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),o=!1,s=0,a=0,c=0;c<t.length;++c){var l=u(t,c);0>l?"-"==t.charAt(c)&&0==this.signum()&&(o=!0):(a=e*a+l,++s>=r&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),o&&n.ZERO.subTo(this,this)}function Q(t,e,r){if("number"==typeof e)if(2>t)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),ae,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=(t>>3)+1,e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}}function te(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-->0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)8>r?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,0>=r&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function ee(t){return 0==this.compareTo(t)}function ne(t){return this.compareTo(t)<0?this:t}function re(t){return this.compareTo(t)>0?this:t}function ie(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;o>r;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function oe(t,e){return t&e}function se(t){var e=r();return this.bitwiseTo(t,oe,e),e}function ae(t,e){return t|e}function ue(t){var e=r();return this.bitwiseTo(t,ae,e),e}function ce(t,e){return t^e}function le(t){var e=r();return this.bitwiseTo(t,ce,e),e}function fe(t,e){return t&~e}function he(t){var e=r();return this.bitwiseTo(t,fe,e),e}function pe(){for(var t=r(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function de(t){var e=r();return 0>t?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function ve(t){var e=r();return 0>t?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function me(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function ge(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+me(this[t]);return this.s<0?this.t*this.DB:-1}function ye(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function be(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=ye(this[n]^e);return t}function _e(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function we(t,e){var r=n.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function $e(t){return this.changeBit(t,ae)}function xe(t){return this.changeBit(t,fe)}function Ee(t){return this.changeBit(t,ce)}function Se(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);i>n;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=0>r?-1:0,r>0?e[n++]=r:-1>r&&(e[n++]=this.DV+r),e.t=n,e.clamp()}function Ae(t){var e=r();return this.addTo(t,e),e}function Te(t){var e=r();return this.subTo(t,e),e}function ke(t){var e=r();return this.multiplyTo(t,e),e}function Ce(){var t=r();return this.squareTo(t),t}function je(t){var e=r();return this.divRemTo(t,e,null),e}function Ie(t){var e=r();return this.divRemTo(t,null,e),e}function Oe(t){var e=r(),n=r();return this.divRemTo(t,e,n),new Array(e,n)}function Be(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function De(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Ne(){}function Re(t){return t}function Le(t,e,n){t.multiplyTo(e,n)}function qe(t,e){t.squareTo(e)}function Me(t){return this.exp(t,new Ne)}function Fe(t,e,n){var r=Math.min(this.t+t.t,e);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;i>r;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(i=Math.min(t.t,e);i>r;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()}function Pe(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)}function Ue(t){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function He(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=r();return t.copyTo(e),this.reduce(e),e}function ze(t){return t}function Ve(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Ge(t,e){t.squareTo(e),this.reduce(e)}function We(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function Ke(t,e){var n,i,o=t.bitLength(),s=f(1);if(0>=o)return s;n=18>o?1:48>o?3:144>o?4:768>o?5:6,i=8>o?new C(e):e.isEven()?new Ue(e):new R(e);var a=new Array,u=3,c=n-1,l=(1<<n)-1;if(a[1]=i.convert(this),n>1){var h=r();for(i.sqrTo(a[1],h);l>=u;)a[u]=r(),i.mulTo(h,a[u-2],a[u]),u+=2}var p,d,v=t.t-1,m=!0,g=r();for(o=y(t[v])-1;v>=0;){for(o>=c?p=t[v]>>o-c&l:(p=(t[v]&(1<<o+1)-1)<<c-o,v>0&&(p|=t[v-1]>>this.DB+o-c)),u=n;0==(1&p);)p>>=1,--u;if((o-=u)<0&&(o+=this.DB,--v),m)a[p].copyTo(s),m=!1;else{for(;u>1;)i.sqrTo(s,g),i.sqrTo(g,s),u-=2;u>0?i.sqrTo(s,g):(d=s,s=g,g=d),i.mulTo(g,a[p],s)}for(;v>=0&&0==(t[v]&1<<o);)i.sqrTo(s,g),d=s,s=g,g=d,--o<0&&(o=this.DB-1,--v)}return i.revert(s)}function Xe(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(0>o)return e;for(o>i&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function Je(t){if(0>=t)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n}function Ze(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var r=t.clone(),i=this.clone(),o=f(1),s=f(0),a=f(0),u=f(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),e&&o.subTo(a,o),s.subTo(u,s)):(i.subTo(r,i),e&&a.subTo(o,a),u.subTo(s,u))}return 0!=i.compareTo(n.ONE)?n.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}function Ye(t){var e,n=this.abs();if(1==n.t&&n[0]<=cn[cn.length-1]){for(e=0;e<cn.length;++e)if(n[0]==cn[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<cn.length;){for(var r=cn[e],i=e+1;i<cn.length&&ln>r;)r*=cn[i++];for(r=n.modInt(r);i>e;)if(r%cn[e++]==0)return!1}return n.millerRabin(t)}function Qe(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(0>=i)return!1;var o=e.shiftRight(i);t=t+1>>1,t>cn.length&&(t=cn.length);for(var s=r(),a=0;t>a;++a){s.fromInt(cn[Math.floor(Math.random()*cn.length)]);var u=s.modPow(o,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<i&&0!=u.compareTo(e);)if(u=u.modPowInt(2,this),0==u.compareTo(n.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0}// Copyright (c) 2005  Tom Wu
// All Rights Reserved.
// See "LICENSE" for details.
var tn,en=0xdeadbeefcafe,nn=15715070==(16777215&en);nn&&"undefined"!=typeof navigator&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=o,tn=30):nn&&"undefined"!=typeof navigator&&"Netscape"!=navigator.appName?(n.prototype.am=i,tn=26):(n.prototype.am=s,tn=28),n.prototype.DB=tn,n.prototype.DM=(1<<tn)-1,n.prototype.DV=1<<tn;var rn=52;n.prototype.FV=Math.pow(2,rn),n.prototype.F1=rn-tn,n.prototype.F2=2*tn-rn;var on,sn,an="0123456789abcdefghijklmnopqrstuvwxyz",un=new Array;for(on="0".charCodeAt(0),sn=0;9>=sn;++sn)un[on++]=sn;for(on="a".charCodeAt(0),sn=10;36>sn;++sn)un[on++]=sn;for(on="A".charCodeAt(0),sn=10;36>sn;++sn)un[on++]=sn;C.prototype.convert=j,C.prototype.revert=I,C.prototype.reduce=O,C.prototype.mulTo=B,C.prototype.sqrTo=D,R.prototype.convert=L,R.prototype.revert=q,R.prototype.reduce=M,R.prototype.mulTo=P,R.prototype.sqrTo=F,Ne.prototype.convert=Re,Ne.prototype.revert=Re,Ne.prototype.mulTo=Le,Ne.prototype.sqrTo=qe,Ue.prototype.convert=He,Ue.prototype.revert=ze,Ue.prototype.reduce=Ve,Ue.prototype.mulTo=We,Ue.prototype.sqrTo=Ge;var cn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ln=(1<<26)/cn[cn.length-1];n.prototype.chunkSize=X,n.prototype.toRadix=Z,n.prototype.fromRadix=Y,n.prototype.fromNumber=Q,n.prototype.bitwiseTo=ie,n.prototype.changeBit=we,n.prototype.addTo=Se,n.prototype.dMultiply=Be,n.prototype.dAddOffset=De,n.prototype.multiplyLowerTo=Fe,n.prototype.multiplyUpperTo=Pe,n.prototype.modInt=Je,n.prototype.millerRabin=Qe,n.prototype.copyTo=c,n.prototype.fromInt=l,n.prototype.fromString=h,n.prototype.clamp=p,n.prototype.dlShiftTo=_,n.prototype.drShiftTo=w,n.prototype.lShiftTo=$,n.prototype.rShiftTo=x,n.prototype.subTo=E,n.prototype.multiplyTo=S,n.prototype.squareTo=A,n.prototype.divRemTo=T,n.prototype.invDigit=N,n.prototype.isEven=U,n.prototype.exp=H,n.prototype.toString=d,n.prototype.negate=v,n.prototype.abs=m,n.prototype.compareTo=g,n.prototype.bitLength=b,n.prototype.mod=k,n.prototype.modPowInt=z,n.prototype.clone=V,n.prototype.intValue=G,n.prototype.byteValue=W,n.prototype.shortValue=K,n.prototype.signum=J,n.prototype.toByteArray=te,n.prototype.equals=ee,n.prototype.min=ne,n.prototype.max=re,n.prototype.and=se,n.prototype.or=ue,n.prototype.xor=le,n.prototype.andNot=he,n.prototype.not=pe,n.prototype.shiftLeft=de,n.prototype.shiftRight=ve,n.prototype.getLowestSetBit=ge,n.prototype.bitCount=be,n.prototype.testBit=_e,n.prototype.setBit=$e,n.prototype.clearBit=xe,n.prototype.flipBit=Ee,n.prototype.add=Ae,n.prototype.subtract=Te,n.prototype.multiply=ke,n.prototype.divide=je,n.prototype.remainder=Ie,n.prototype.divideAndRemainder=Oe,n.prototype.modPow=Ke,n.prototype.modInverse=Ze,n.prototype.pow=Me,n.prototype.gcd=Xe,n.prototype.isProbablePrime=Ye,n.prototype.square=Ce,n.ZERO=f(0),n.ONE=f(1),n.valueOf=r,e.BigInteger=n},function(t){try{t.exports=WebSocket}catch(e){t.exports=MozWebSocket}var n,r=/Version\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//;"object"==typeof navigator&&"string"==typeof navigator.userAgent&&(n=r.exec(navigator.userAgent))&&2===window.WebSocket.CLOSED&&(/iP(hone|od|ad)/.test(navigator.platform)?+n[1]<5&&(t.exports=void 0):-1!==navigator.appVersion.indexOf("Mac")&&+n[1]<6&&(t.exports=void 0))},function(t){// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var e,r,s,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[t],o(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,a=new Array(s-1),u=1;s>u;u++)a[u-1]=arguments[u];r.apply(this,a)}else if(i(r)){for(s=arguments.length,a=new Array(s-1),u=1;s>u;u++)a[u-1]=arguments[u];for(c=r.slice(),s=c.length,u=0;s>u;u++)c[u].apply(this,a)}return!0},e.prototype.addListener=function(t,r){var s;if(!n(r))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(r.listener)?r.listener:r),this._events[t]?i(this._events[t])?this._events[t].push(r):this._events[t]=[this._events[t],r]:this._events[t]=r,i(this._events[t])&&!this._events[t].warned){var s;s=o(this._maxListeners)?e.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},e.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(a=s;a-->0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(0>o)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},e.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.listenerCount=function(t,e){var r;return r=t._events&&t._events[e]?n(t._events[e])?1:t._events[e].length:0}},function(t,e,n){function r(t,e){return p.isUndefined(e)?""+e:!p.isNumber(e)||!isNaN(e)&&isFinite(e)?p.isFunction(e)||p.isRegExp(e)?e.toString():e:e.toString()}function i(t,e){return p.isString(t)?t.length<e?t:t.slice(0,e):t}function o(t){return i(JSON.stringify(t.actual,r),128)+" "+t.operator+" "+i(JSON.stringify(t.expected,r),128)}function s(t,e,n,r,i){throw new m.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function a(t,e){t||s(t,!0,e,"==",m.ok)}function u(t,e){if(t===e)return!0;if(p.isBuffer(t)&&p.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return p.isDate(t)&&p.isDate(e)?t.getTime()===e.getTime():p.isRegExp(t)&&p.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:p.isObject(t)||p.isObject(e)?l(t,e):t==e}function c(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function l(t,e){if(p.isNullOrUndefined(t)||p.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(c(t))return c(e)?(t=d.call(t),e=d.call(e),u(t,e)):!1;try{var n,r,i=g(t),o=g(e)}catch(s){return!1}if(i.length!=o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!u(t[n],e[n]))return!1;return!0}function f(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function h(t,e,n,r){var i;p.isString(n)&&(r=n,n=null);try{e()}catch(o){i=o}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&s(i,n,"Missing expected exception"+r),!t&&f(i,n)&&s(i,n,"Got unwanted exception"+r),t&&i&&n&&!f(i,n)||!t&&i)throw i}// Copyright (c) 2009 Thomas Robinson <280north.com>
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the 'Software'), to
// deal in the Software without restriction, including without limitation the
// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
// sell copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
var p=n(43),d=Array.prototype.slice,v=Object.prototype.hasOwnProperty,m=t.exports=a;m.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var e=t.stackStartFunction||s;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=e.name,a=r.indexOf("\n"+i);if(a>=0){var u=r.indexOf("\n",a+1);r=r.substring(u+1)}this.stack=r}}},p.inherits(m.AssertionError,Error),m.fail=s,m.ok=a,m.equal=function(t,e,n){t!=e&&s(t,e,n,"==",m.equal)},m.notEqual=function(t,e,n){t==e&&s(t,e,n,"!=",m.notEqual)},m.deepEqual=function(t,e,n){u(t,e)||s(t,e,n,"deepEqual",m.deepEqual)},m.notDeepEqual=function(t,e,n){u(t,e)&&s(t,e,n,"notDeepEqual",m.notDeepEqual)},m.strictEqual=function(t,e,n){t!==e&&s(t,e,n,"===",m.strictEqual)},m.notStrictEqual=function(t,e,n){t===e&&s(t,e,n,"!==",m.notStrictEqual)},m.throws=function(){h.apply(this,[!0].concat(d.call(arguments)))},m.doesNotThrow=function(){h.apply(this,[!1].concat(d.call(arguments)))},m.ifError=function(t){if(t)throw t};var g=Object.keys||function(t){var e=[];for(var n in t)v.call(t,n)&&e.push(n);return e}},function(t){function e(t){this._namespace=t?Array.isArray(t)?t:[""+t]:[],this._prefix=this._namespace.concat([""]).join(": ")}e.prototype.sub=function(t){var n=this._namespace.slice();t&&"string"==typeof t&&n.push(t);var r=new e(n);return r._setParent(this),r},e.prototype._setParent=function(t){this._parent=t},e.makeLevel=function(){return function(){var t=Array.prototype.slice.call(arguments);t[0]=this._prefix+t[0],e.engine.logObject.apply(e,t)}},e.prototype.debug=e.makeLevel(1),e.prototype.info=e.makeLevel(2),e.prototype.warn=e.makeLevel(3),e.prototype.error=e.makeLevel(4);var n={logObject:function(t){var e=Array.prototype.slice.call(arguments,1);e=e.map(function(t){return JSON.stringify(t,null,2)}),e.unshift(t),e.unshift("["+(new Date).toISOString()+"]"),console.log.apply(console,e)}},r={logObject:function(){}};e.engine=r,console&&console.log&&(e.engine=n),t.exports=new e,t.exports.internal=t.exports.sub(),t.exports.Log=e},function(t,e,n){(function(t){function r(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function i(t,e){for(var n in t)e(t[n],n)}var o=n(53);e.createHash=n(54),e.createHmac=n(55),e.randomBytes=function(e,n){if(!n||!n.call)return new t(o(e));try{n.call(this,void 0,new t(o(e)))}catch(r){n(r)}},e.getHashes=function(){return["sha1","sha256","md5","rmd160"]};var s=n(56)(e.createHmac);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync,i(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){r("sorry,",t,"is not implemented yet")}})}).call(e,n(41).Buffer)},function(t,e,n){(function(t){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);var i=typeof e;if("base64"===n&&"string"===i)for(e=T(e);e.length%4!==0;)e+="=";var o;if("number"===i)o=C(e);else if("string"===i)o=t.byteLength(e,n);else{if("object"!==i)throw new Error("First argument needs to be a number, array or string.");o=C(e.length)}var s;t._useTypedArrays?s=t._augment(new Uint8Array(o)):(s=this,s.length=o,s._isBuffer=!0);var a;if(t._useTypedArrays&&"number"==typeof e.byteLength)s._set(e);else if(I(e))for(a=0;o>a;a++)s[a]=t.isBuffer(e)?e.readUInt8(a):e[a];else if("string"===i)s.write(e,0,n);else if("number"===i&&!t._useTypedArrays&&!r)for(a=0;o>a;a++)s[a]=0;return s}function r(e,n,r,i){r=Number(r)||0;var o=e.length-r;i?(i=Number(i),i>o&&(i=o)):i=o;var s=n.length;U(s%2===0,"Invalid hex string"),i>s/2&&(i=s/2);for(var a=0;i>a;a++){var u=parseInt(n.substr(2*a,2),16);U(!isNaN(u),"Invalid hex string"),e[r+a]=u}return t._charsWritten=2*a,a}function i(e,n,r,i){var o=t._charsWritten=L(B(n),e,r,i);return o}function o(e,n,r,i){var o=t._charsWritten=L(D(n),e,r,i);return o}function s(t,e,n,r){return o(t,e,n,r)}function a(e,n,r,i){var o=t._charsWritten=L(R(n),e,r,i);return o}function u(e,n,r,i){var o=t._charsWritten=L(N(n),e,r,i);return o}function c(t,e,n){return H.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function l(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(r+=q(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+q(i)}function f(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function h(t,e,n){return f(t,e,n)}function p(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=O(t[o]);return i}function d(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function v(t,e,n,r){r||(U("boolean"==typeof n,"missing or invalid endian"),U(void 0!==e&&null!==e,"missing offset"),U(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return n?(o=t[e],i>e+1&&(o|=t[e+1]<<8)):(o=t[e]<<8,i>e+1&&(o|=t[e+1])),o}}function m(t,e,n,r){r||(U("boolean"==typeof n,"missing or invalid endian"),U(void 0!==e&&null!==e,"missing offset"),U(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return n?(i>e+2&&(o=t[e+2]<<16),i>e+1&&(o|=t[e+1]<<8),o|=t[e],i>e+3&&(o+=t[e+3]<<24>>>0)):(i>e+1&&(o=t[e+1]<<16),i>e+2&&(o|=t[e+2]<<8),i>e+3&&(o|=t[e+3]),o+=t[e]<<24>>>0),o}}function g(t,e,n,r){r||(U("boolean"==typeof n,"missing or invalid endian"),U(void 0!==e&&null!==e,"missing offset"),U(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o=v(t,e,n,!0),s=32768&o;return s?-1*(65535-o+1):o}}function y(t,e,n,r){r||(U("boolean"==typeof n,"missing or invalid endian"),U(void 0!==e&&null!==e,"missing offset"),U(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o=m(t,e,n,!0),s=2147483648&o;return s?-1*(4294967295-o+1):o}}function b(t,e,n,r){return r||(U("boolean"==typeof n,"missing or invalid endian"),U(e+3<t.length,"Trying to read beyond buffer length")),z.read(t,e,n,23,4)}function _(t,e,n,r){return r||(U("boolean"==typeof n,"missing or invalid endian"),U(e+7<t.length,"Trying to read beyond buffer length")),z.read(t,e,n,52,8)}function w(t,e,n,r,i){i||(U(void 0!==e&&null!==e,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(void 0!==n&&null!==n,"missing offset"),U(n+1<t.length,"trying to write beyond buffer length"),M(e,65535));var o=t.length;if(!(n>=o))for(var s=0,a=Math.min(o-n,2);a>s;s++)t[n+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function $(t,e,n,r,i){i||(U(void 0!==e&&null!==e,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(void 0!==n&&null!==n,"missing offset"),U(n+3<t.length,"trying to write beyond buffer length"),M(e,4294967295));var o=t.length;if(!(n>=o))for(var s=0,a=Math.min(o-n,4);a>s;s++)t[n+s]=e>>>8*(r?s:3-s)&255}function x(t,e,n,r,i){i||(U(void 0!==e&&null!==e,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(void 0!==n&&null!==n,"missing offset"),U(n+1<t.length,"Trying to write beyond buffer length"),F(e,32767,-32768));var o=t.length;n>=o||(e>=0?w(t,e,n,r,i):w(t,65535+e+1,n,r,i))}function E(t,e,n,r,i){i||(U(void 0!==e&&null!==e,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(void 0!==n&&null!==n,"missing offset"),U(n+3<t.length,"Trying to write beyond buffer length"),F(e,2147483647,-2147483648));var o=t.length;n>=o||(e>=0?$(t,e,n,r,i):$(t,4294967295+e+1,n,r,i))}function S(t,e,n,r,i){i||(U(void 0!==e&&null!==e,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(void 0!==n&&null!==n,"missing offset"),U(n+3<t.length,"Trying to write beyond buffer length"),P(e,3.4028234663852886e38,-3.4028234663852886e38));var o=t.length;n>=o||z.write(t,e,n,r,23,4)}function A(t,e,n,r,i){i||(U(void 0!==e&&null!==e,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(void 0!==n&&null!==n,"missing offset"),U(n+7<t.length,"Trying to write beyond buffer length"),P(e,1.7976931348623157e308,-1.7976931348623157e308));var o=t.length;n>=o||z.write(t,e,n,r,52,8)}function T(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function k(t,e,n){return"number"!=typeof t?n:(t=~~t,t>=e?e:t>=0?t:(t+=e,t>=0?t:0))}function C(t){return t=~~Math.ceil(+t),0>t?0:t}function j(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function I(e){return j(e)||t.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function O(t){return 16>t?"0"+t.toString(16):t.toString(16)}function B(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(127>=r)e.push(t.charCodeAt(n));else{var i=n;r>=55296&&57343>=r&&n++;for(var o=encodeURIComponent(t.slice(i,n+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function D(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function N(t){for(var e,n,r,i=[],o=0;o<t.length;o++)e=t.charCodeAt(o),n=e>>8,r=e%256,i.push(r),i.push(n);return i}function R(t){return H.toByteArray(t)}function L(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function q(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function M(t,e){U("number"==typeof t,"cannot write a non-number as a number"),U(t>=0,"specified a negative value for writing an unsigned value"),U(e>=t,"value is larger than maximum value for type"),U(Math.floor(t)===t,"value has a fractional component")}function F(t,e,n){U("number"==typeof t,"cannot write a non-number as a number"),U(e>=t,"value larger than maximum allowed value"),U(t>=n,"value smaller than minimum allowed value"),U(Math.floor(t)===t,"value has a fractional component")}function P(t,e,n){U("number"==typeof t,"cannot write a non-number as a number"),U(e>=t,"value larger than maximum allowed value"),U(t>=n,"value smaller than minimum allowed value")}function U(t,e){if(!t)throw new Error(e||"Failed assertion")}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var H=n(70),z=n(66);e.Buffer=t,e.SlowBuffer=t,e.INSPECT_MAX_BYTES=50,t.poolSize=8192,t._useTypedArrays=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(n){return!1}}(),t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.isBuffer=function(t){return!(null===t||void 0===t||!t._isBuffer)},t.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=B(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=R(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},t.concat=function(e,n){if(U(j(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new t(0);if(1===e.length)return e[0];var r;if("number"!=typeof n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=new t(n),o=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(i,o),o+=s.length}return i},t.prototype.write=function(t,e,n,c){if(isFinite(e))isFinite(n)||(c=n,n=void 0);else{var l=c;c=e,e=n,n=l}e=Number(e)||0;var f=this.length-e;n?(n=Number(n),n>f&&(n=f)):n=f,c=String(c||"utf8").toLowerCase();var h;switch(c){case"hex":h=r(this,t,e,n);break;case"utf8":case"utf-8":h=i(this,t,e,n);break;case"ascii":h=o(this,t,e,n);break;case"binary":h=s(this,t,e,n);break;case"base64":h=a(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":h=u(this,t,e,n);break;default:throw new Error("Unknown encoding")}return h},t.prototype.toString=function(t,e,n){var r=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,n=void 0!==n?Number(n):n=r.length,n===e)return"";var i;switch(t){case"hex":i=p(r,e,n);break;case"utf8":case"utf-8":i=l(r,e,n);break;case"ascii":i=f(r,e,n);break;case"binary":i=h(r,e,n);break;case"base64":i=c(r,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=d(r,e,n);break;default:throw new Error("Unknown encoding")}return i},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.copy=function(e,n,r,i){var o=this;if(r||(r=0),i||0===i||(i=this.length),n||(n=0),i!==r&&0!==e.length&&0!==o.length){U(i>=r,"sourceEnd < sourceStart"),U(n>=0&&n<e.length,"targetStart out of bounds"),U(r>=0&&r<o.length,"sourceStart out of bounds"),U(i>=0&&i<=o.length,"sourceEnd out of bounds"),i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var s=i-r;if(100>s||!t._useTypedArrays)for(var a=0;s>a;a++)e[a+n]=this[a+r];else e._set(this.subarray(r,r+s),n)}},t.prototype.slice=function(e,n){var r=this.length;if(e=k(e,r,0),n=k(n,r,r),t._useTypedArrays)return t._augment(this.subarray(e,n));for(var i=n-e,o=new t(i,void 0,!0),s=0;i>s;s++)o[s]=this[s+e];return o},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.readUInt8=function(t,e){return e||(U(void 0!==t&&null!==t,"missing offset"),U(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},t.prototype.readUInt16LE=function(t,e){return v(this,t,!0,e)},t.prototype.readUInt16BE=function(t,e){return v(this,t,!1,e)},t.prototype.readUInt32LE=function(t,e){return m(this,t,!0,e)},t.prototype.readUInt32BE=function(t,e){return m(this,t,!1,e)},t.prototype.readInt8=function(t,e){if(e||(U(void 0!==t&&null!==t,"missing offset"),U(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var n=128&this[t];return n?-1*(255-this[t]+1):this[t]}},t.prototype.readInt16LE=function(t,e){return g(this,t,!0,e)},t.prototype.readInt16BE=function(t,e){return g(this,t,!1,e)},t.prototype.readInt32LE=function(t,e){return y(this,t,!0,e)},t.prototype.readInt32BE=function(t,e){return y(this,t,!1,e)},t.prototype.readFloatLE=function(t,e){return b(this,t,!0,e)},t.prototype.readFloatBE=function(t,e){return b(this,t,!1,e)},t.prototype.readDoubleLE=function(t,e){return _(this,t,!0,e)},t.prototype.readDoubleBE=function(t,e){return _(this,t,!1,e)},t.prototype.writeUInt8=function(t,e,n){n||(U(void 0!==t&&null!==t,"missing value"),U(void 0!==e&&null!==e,"missing offset"),U(e<this.length,"trying to write beyond buffer length"),M(t,255)),e>=this.length||(this[e]=t)},t.prototype.writeUInt16LE=function(t,e,n){w(this,t,e,!0,n)},t.prototype.writeUInt16BE=function(t,e,n){w(this,t,e,!1,n)},t.prototype.writeUInt32LE=function(t,e,n){$(this,t,e,!0,n)},t.prototype.writeUInt32BE=function(t,e,n){$(this,t,e,!1,n)},t.prototype.writeInt8=function(t,e,n){n||(U(void 0!==t&&null!==t,"missing value"),U(void 0!==e&&null!==e,"missing offset"),U(e<this.length,"Trying to write beyond buffer length"),F(t,127,-128)),e>=this.length||(t>=0?this.writeUInt8(t,e,n):this.writeUInt8(255+t+1,e,n))},t.prototype.writeInt16LE=function(t,e,n){x(this,t,e,!0,n)},t.prototype.writeInt16BE=function(t,e,n){x(this,t,e,!1,n)},t.prototype.writeInt32LE=function(t,e,n){E(this,t,e,!0,n)},t.prototype.writeInt32BE=function(t,e,n){E(this,t,e,!1,n)},t.prototype.writeFloatLE=function(t,e,n){S(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){S(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){A(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){A(this,t,e,!1,n)},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),U("number"==typeof t&&!isNaN(t),"value is not a number"),U(n>=e,"end < start"),n!==e&&0!==this.length){U(e>=0&&e<this.length,"start out of bounds"),U(n>=0&&n<=this.length,"end out of bounds");for(var r=e;n>r;r++)this[r]=t}},t.prototype.inspect=function(){for(var t=[],n=this.length,r=0;n>r;r++)if(t[r]=O(this[r]),r===e.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t._useTypedArrays)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var V=t.prototype;t._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=V.get,t.set=V.set,t.write=V.write,t.toString=V.toString,t.toLocaleString=V.toString,t.toJSON=V.toJSON,t.copy=V.copy,t.slice=V.slice,t.readUInt8=V.readUInt8,t.readUInt16LE=V.readUInt16LE,t.readUInt16BE=V.readUInt16BE,t.readUInt32LE=V.readUInt32LE,t.readUInt32BE=V.readUInt32BE,t.readInt8=V.readInt8,t.readInt16LE=V.readInt16LE,t.readInt16BE=V.readInt16BE,t.readInt32LE=V.readInt32LE,t.readInt32BE=V.readInt32BE,t.readFloatLE=V.readFloatLE,t.readFloatBE=V.readFloatBE,t.readDoubleLE=V.readDoubleLE,t.readDoubleBE=V.readDoubleBE,t.writeUInt8=V.writeUInt8,t.writeUInt16LE=V.writeUInt16LE,t.writeUInt16BE=V.writeUInt16BE,t.writeUInt32LE=V.writeUInt32LE,t.writeUInt32BE=V.writeUInt32BE,t.writeInt8=V.writeInt8,t.writeInt16LE=V.writeInt16LE,t.writeInt16BE=V.writeInt16BE,t.writeInt32LE=V.writeInt32LE,t.writeInt32BE=V.writeInt32BE,t.writeFloatLE=V.writeFloatLE,t.writeFloatBE=V.writeFloatBE,t.writeDoubleLE=V.writeDoubleLE,t.writeDoubleBE=V.writeDoubleBE,t.fill=V.fill,t.inspect=V.inspect,t.toArrayBuffer=V.toArrayBuffer,t}}).call(e,n(41).Buffer)},function(t,e,n){!function(){"use strict";function t(t,e,n){if(t&&"object"==typeof t&&t.href)return t;if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i={},o=t;o=o.trim();var c=u.exec(o);if(c){c=c[0];var l=c.toLowerCase();i.protocol=l,o=o.substr(c.length)}if(n||c||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===o.substr(0,2);!f||c&&b[c]||(o=o.substr(2),i.slashes=!0)}if(!b[c]&&(f||c&&!_[c])){var $=o.indexOf("@");if(-1!==$){for(var x=o.slice(0,$),E=!0,S=0,A=d.length;A>S;S++)if(-1!==x.indexOf(d[S])){E=!1;break}E&&(i.auth=decodeURIComponent(x),o=o.substr($+1))}for(var T=-1,S=0,A=p.length;A>S;S++){var k=o.indexOf(p[S]);-1!==k&&(0>T||T>k)&&(T=k)}-1!==T?(i.host=o.substr(0,T),o=o.substr(T)):(i.host=o,o="");for(var C=s(i.host),j=Object.keys(C),S=0,A=j.length;A>S;S++){var I=j[S];i[I]=C[I]}i.hostname=i.hostname||"";var O="["===i.hostname[0]&&"]"===i.hostname[i.hostname.length-1];if(i.hostname.length>v)i.hostname="";else if(!O)for(var B=i.hostname.split(/\./),S=0,A=B.length;A>S;S++){var D=B[S];if(D&&!D.match(m)){for(var N="",R=0,L=D.length;L>R;R++)N+=D.charCodeAt(R)>127?"x":D[R];if(!N.match(m)){var q=B.slice(0,S),M=B.slice(S+1),F=D.match(g);F&&(q.push(F[1]),M.unshift(F[2])),M.length&&(o="/"+M.join(".")+o),i.hostname=q.join(".");break}}}if(i.hostname=i.hostname.toLowerCase(),!O){for(var P=i.hostname.split("."),U=[],S=0;S<P.length;++S){var H=P[S];U.push(H.match(/[^A-Za-z0-9_-]/)?"xn--"+a.encode(H):H)}i.hostname=U.join(".")}i.host=(i.hostname||"")+(i.port?":"+i.port:""),i.href+=i.host,O&&(i.hostname=i.hostname.substr(1,i.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!y[l])for(var S=0,A=h.length;A>S;S++){var z=h[S],V=encodeURIComponent(z);V===z&&(V=escape(z)),o=o.split(z).join(V)}var G=o.indexOf("#");-1!==G&&(i.hash=o.substr(G),o=o.slice(0,G));var W=o.indexOf("?");return-1!==W?(i.search=o.substr(W),i.query=o.substr(W+1),e&&(i.query=w.parse(i.query)),o=o.slice(0,W)):e&&(i.search="",i.query={}),o&&(i.pathname=o),_[c]&&i.hostname&&!i.pathname&&(i.pathname="/"),(i.pathname||i.search)&&(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=r(i),i}function r(e){"string"==typeof e&&(e=t(e));var n=e.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var r=e.protocol||"",i=e.pathname||"",o=e.hash||"",s=!1,a="";void 0!==e.host?s=n+e.host:void 0!==e.hostname&&(s=n+(-1===e.hostname.indexOf(":")?e.hostname:"["+e.hostname+"]"),e.port&&(s+=":"+e.port)),e.query&&"object"==typeof e.query&&Object.keys(e.query).length&&(a=w.stringify(e.query));var u=e.search||a&&"?"+a||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||_[r])&&s!==!1?(s="//"+(s||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):s||(s=""),o&&"#"!==o.charAt(0)&&(o="#"+o),u&&"?"!==u.charAt(0)&&(u="?"+u),r+s+i+u+o}function i(t,e){return r(o(t,e))}function o(e,n){if(!e)return n;if(e=t(r(e),!1,!0),n=t(r(n),!1,!0),e.hash=n.hash,""===n.href)return e.href=r(e),e;if(n.slashes&&!n.protocol)return n.protocol=e.protocol,_[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=r(n),n;if(n.protocol&&n.protocol!==e.protocol){if(!_[n.protocol])return n.href=r(n),n;if(e.protocol=n.protocol,!n.host&&!b[n.protocol]){for(var i=(n.pathname||"").split("/");i.length&&!(n.host=i.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}return e.pathname=n.pathname,e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.slashes=e.slashes||n.slashes,e.href=r(e),e}var o=e.pathname&&"/"===e.pathname.charAt(0),s=void 0!==n.host||n.pathname&&"/"===n.pathname.charAt(0),a=s||o||e.host&&n.pathname,u=a,c=e.pathname&&e.pathname.split("/")||[],i=n.pathname&&n.pathname.split("/")||[],l=e.protocol&&!_[e.protocol];if(l&&(delete e.hostname,delete e.port,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),delete e.host,n.protocol&&(delete n.hostname,delete n.port,n.host&&(""===i[0]?i[0]=n.host:i.unshift(n.host)),delete n.host),a=a&&(""===i[0]||""===c[0])),s)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,c=i;else if(i.length)c||(c=[]),c.pop(),c=c.concat(i),e.search=n.search,e.query=n.query;else if("search"in n){if(l){e.hostname=e.host=c.shift();var f=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;f&&(e.auth=f.shift(),e.host=e.hostname=f.shift())}return e.search=n.search,e.query=n.query,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=r(e),e}if(!c.length)return delete e.pathname,e.search?delete e.path:e.path="/"+e.search,e.href=r(e),e;for(var h=c.slice(-1)[0],p=(e.host||n.host)&&("."===h||".."===h)||""===h,d=0,v=c.length;v>=0;v--)h=c[v],"."==h?c.splice(v,1):".."===h?(c.splice(v,1),d++):d&&(c.splice(v,1),d--);if(!a&&!u)for(;d--;d)c.unshift("..");!a||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift(""),p&&"/"!==c.join("/").substr(-1)&&c.push("");var m=""===c[0]||c[0]&&"/"===c[0].charAt(0);if(l){e.hostname=e.host=m?"":c.length?c.shift():"";var f=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;f&&(e.auth=f.shift(),e.host=e.hostname=f.shift())}return a=a||e.host&&c.length,a&&!m&&c.unshift(""),e.pathname=c.join("/"),(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=r(e),e}function s(t){var e={},n=c.exec(t);return n&&(n=n[0],":"!==n&&(e.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(e.hostname=t),e}// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
var a=n(67);e.parse=t,e.resolve=i,e.resolveObject=o,e.format=r;var u=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,l=["<",">",'"',"`"," ","\r","\n","	"],f=["{","}","|","\\","^","~","`"].concat(l),h=["'"].concat(l),p=["%","/","?",";","#"].concat(f).concat(h),d=["/","@","?","#"].concat(l),v=255,m=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,g=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=n(68)}()},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t){return t}function a(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&A(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var s=Object.keys(n),v=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(A(n)){var m=n.name?": "+n.name:"";return t.stylize("[Function"+m+"]","special")}if($(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return l(n)}var g="",y=!1,_=["{","}"];if(d(n)&&(y=!0,_=["[","]"]),A(n)){var w=n.name?": "+n.name:"";g=" [Function"+w+"]"}if($(n)&&(g=" "+RegExp.prototype.toString.call(n)),E(n)&&(g=" "+Date.prototype.toUTCString.call(n)),S(n)&&(g=" "+l(n)),0===s.length&&(!y||0==n.length))return _[0]+g+_[1];if(0>r)return $(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=y?f(t,n,r,v,s):s.map(function(e){return h(t,n,r,v,e,y)}),t.seen.pop(),p(x,g,_)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],s=0,a=e.length;a>s;++s)o.push(I(e,String(s))?h(t,e,n,r,String(s),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),I(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=m(n)?u(t,c.value,null):u(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function $(t){return x(t)&&"[object RegExp]"===k(t)}function x(t){return"object"==typeof t&&null!==t}function E(t){return x(t)&&"[object Date]"===k(t)}function S(t){return x(t)&&("[object Error]"===k(t)||t instanceof Error)}function A(t){return"function"==typeof t}function T(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function k(t){return Object.prototype.toString.call(t)}function C(t){return 10>t?"0"+t.toString(10):t.toString(10)}function j(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
var O=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(O,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),a=r[n];o>n;a=r[++n])s+=m(a)||!x(a)?" "+a:" "+i(a);return s},e.deprecate=function(n,i){function o(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var s=!1;return o};var B,D={};e.debuglog=function(t){if(w(B)&&(B=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!D[t])if(new RegExp("\\b"+t+"\\b","i").test(B)){var n=r.pid;D[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else D[t]=function(){};return D[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=m,e.isNullOrUndefined=g,e.isNumber=y,e.isString=b,e.isSymbol=_,e.isUndefined=w,e.isRegExp=$,e.isObject=x,e.isDate=E,e.isError=S,e.isFunction=A,e.isPrimitive=T,e.isBuffer=n(57);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",j(),e.format.apply(e,arguments))},e.inherits=n(69),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(62))},function(t){function e(t){if(!t||"[object Object]"!==r.call(t)||t.nodeType||t.setInterval)return!1;var e=n.call(t,"constructor"),i=n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var o;for(o in t);return void 0===o||n.call(t,o)}var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function i(){var t,n,r,o,s,a,u=arguments[0]||{},c=1,l=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},c=2),"object"!=typeof u&&"function"!=typeof u&&(u={});l>c;c++)if(null!=(t=arguments[c]))for(n in t)r=u[n],o=t[n],u!==o&&(f&&o&&(e(o)||(s=Array.isArray(o)))?(s?(s=!1,a=r&&Array.isArray(r)?r:[]):a=r&&e(r)?r:{},u[n]=i(f,a,o)):void 0!==o&&(u[n]=o));return u}},function(t,e,n){function r(){this._queue=[],this._idCache=i(),this._sequenceCache=i()}var i=n(48),o=n(5).Transaction;r.prototype.addReceivedSequence=function(t){this._sequenceCache.set(String(t),!0)},r.prototype.hasSequence=function(t){return this._sequenceCache.has(String(t))},r.prototype.addReceivedId=function(t,e){this._idCache.set(t,e)},r.prototype.getReceived=function(t){return this._idCache.get(t)},r.prototype.getSubmission=function(t){for(var e,n=void 0,r=0;e=this._queue[r];r++)if(~e.submittedIDs.indexOf(t)){n=e;break}return n},r.prototype.remove=function(t){var e=this._queue.length;if("string"==typeof t&&(t=this.getSubmission(t)),t instanceof o)for(;e--;)if(this._queue[e]===t){this._queue.splice(e,1);break}},r.prototype.push=function(t){this._queue.push(t)},r.prototype.forEach=function(t){this._queue.forEach(t)},r.prototype.length=r.prototype.getLength=function(){return this._queue.length},e.TransactionQueue=r},function(t,e,n){var r=n(19),i=n(44),o=n(29).UInt,s=i(function(){this._value=0/0},o);s.width=16,s.prototype=i({},o.prototype),s.prototype.constructor=s;{var a=s.HEX_ZERO="00000000000000000000000000000000",u=s.HEX_ONE="00000000000000000000000000000000";s.STR_ZERO=r.hexToString(a),s.STR_ONE=r.hexToString(u)}e.UInt128=s},function(t,e,n){function r(t){if(i(t)){var e,n={},o=Object.keys(t).sort();for(var s in o)e=o[s],Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=r(t[e]));return n}return Array.isArray(t)?t.map(r):t}function i(t){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString;if(!t||"[object Object]"!==n.call(t)||t.nodeType||t.setInterval)return!1;var r=e.call(t,"constructor"),i=e.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!i)return!1;var o;for(o in t);return void 0===o||e.call(t,o)}var o=n(32).Crypt,s=n(14).Message,a=n(42),u=n(52),c=n(44),l=function(t){this.config=c(!0,{},t),this.config.data||(this.config.data={})};l.prototype.getStringToSign=function(t,e,n){var i=JSON.stringify(r(this.config.data)),s=[this.config.method||"GET",t.pathname||"",t.search||"","","",o.hashSha512(i).toLowerCase()].join("\n");return[n,e,o.hashSha512(s).toLowerCase()].join("\n")},l.prototype.signHmac=function(t,e){var n=c(!0,{},this.config),r=a.parse(n.url),i=f(),s="RIPPLE1-HMAC-SHA512",l=this.getStringToSign(r,i,s),h=o.signString(t,l),p=u.stringify({signature:o.base64ToBase64Url(h),signature_date:i,signature_blob_id:e,signature_type:s});return n.url+=(r.search?"&":"?")+p,n},l.prototype.signAsymmetric=function(t,e,n){var r=c(!0,{},this.config),i=a.parse(r.url),l=f(),h="RIPPLE1-ECDSA-SHA512",p=this.getStringToSign(i,l,h),d=s.signMessage(p,t),v=u.stringify({signature:o.base64ToBase64Url(d),signature_date:l,signature_blob_id:n,signature_account:e,signature_type:h});return r.url+=(i.search?"&":"?")+v,r},l.prototype.signAsymmetricRecovery=function(t,e){var n=c(!0,{},this.config),r=a.parse(n.url),i=f(),l="RIPPLE1-ECDSA-SHA512",h=this.getStringToSign(r,i,l),p=s.signMessage(h,t),d=u.stringify({signature:o.base64ToBase64Url(p),signature_date:i,signature_username:e,signature_type:l});return n.url+=(r.search?"&":"?")+d,n};var f=function(){function t(t){return(0>t||t>9?"":"0")+t}return function(){var e=new Date;return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+".000Z"}}();e.SignedRequest=l},function(t){!function(){function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(){return 1}function r(t){return this instanceof r?("number"==typeof t&&(t={max:t}),t||(t={}),this._max=t.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=t.length||n,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=n),this._allowStale=t.stale||!1,this._maxAge=t.maxAge||null,this._dispose=t.dispose,void this.reset()):new r(t)}function i(t,e,n){var r=t._cache[e];return r&&(t._maxAge&&Date.now()-r.now>t._maxAge?(u(t,r),t._allowStale||(r=void 0)):n&&o(t,r),r&&(r=r.value)),r}function o(t,e){a(t,e),e.lu=t._mru++,t._lruList[e.lu]=e}function s(t){for(;t._lru<t._mru&&t._length>t._max;)u(t,t._lruList[t._lru])}function a(t,e){for(delete t._lruList[e.lu];t._lru<t._mru&&!t._lruList[t._lru];)t._lru++}function u(t,e){e&&(t._dispose&&t._dispose(e.key,e.value),t._length-=e.length,t._itemCount--,delete t._cache[e.key],a(t,e))}function c(t,e,n,r,i){this.key=t,this.value=e,this.lu=n,this.length=r,this.now=i}"object"==typeof t&&t.exports?t.exports=r:this.LRUCache=r,Object.defineProperty(r.prototype,"max",{set:function(t){(!t||"number"!=typeof t||0>=t)&&(t=1/0),this._max=t,this._length>this._max&&s(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(r.prototype,"lengthCalculator",{set:function(t){if("function"!=typeof t){this._lengthCalculator=n,this._length=this._itemCount;for(var e in this._cache)this._cache[e].length=1}else{this._lengthCalculator=t,this._length=0;for(var e in this._cache)this._cache[e].length=this._lengthCalculator(this._cache[e].value),this._length+=this._cache[e].length}this._length>this._max&&s(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),r.prototype.forEach=function(t,e){e=e||this;for(var n=0,r=this._mru-1;r>=0&&n<this._itemCount;r--)if(this._lruList[r]){n++;var i=this._lruList[r];this._maxAge&&Date.now()-i.now>this._maxAge&&(u(this,i),this._allowStale||(i=void 0)),i&&t.call(e,i.value,i.key,this)}},r.prototype.keys=function(){for(var t=new Array(this._itemCount),e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];t[e++]=r.key}return t},r.prototype.values=function(){for(var t=new Array(this._itemCount),e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];t[e++]=r.value}return t},r.prototype.reset=function(){if(this._dispose&&this._cache)for(var t in this._cache)this._dispose(t,this._cache[t].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},r.prototype.dump=function(){return this._cache},r.prototype.dumpLru=function(){return this._lruList},r.prototype.set=function(t,n){if(e(this._cache,t))return this._dispose&&this._dispose(t,this._cache[t].value),this._maxAge&&(this._cache[t].now=Date.now()),this._cache[t].value=n,this.get(t),!0;var r=this._lengthCalculator(n),i=this._maxAge?Date.now():0,o=new c(t,n,this._mru++,r,i);return o.length>this._max?(this._dispose&&this._dispose(t,n),!1):(this._length+=o.length,this._lruList[o.lu]=this._cache[t]=o,this._itemCount++,this._length>this._max&&s(this),!0)},r.prototype.has=function(t){if(!e(this._cache,t))return!1;var n=this._cache[t];return this._maxAge&&Date.now()-n.now>this._maxAge?!1:!0},r.prototype.get=function(t){return i(this,t,!0)},r.prototype.peek=function(t){return i(this,t,!1)},r.prototype.pop=function(){var t=this._lruList[this._lru];return u(this,t),t||null},r.prototype.del=function(t){u(this,this._cache[t])}}()},function(t,e,n){var r,i;(function(e){/*!
	 * async
	 * https://github.com/caolan/async
	 *
	 * Copyright 2010-2014 Caolan McMahon
	 * Released under the MIT license
	 */
!function(){function n(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(o,arguments)}}var o,s,a={};o=this,null!=o&&(s=o.async),a.noConflict=function(){return o.async=s,a};var u=Object.prototype.toString,c=Array.isArray||function(t){return"[object Array]"===u.call(t)},l=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},f=function(t,e){if(t.map)return t.map(e);var n=[];return l(t,function(t,r,i){n.push(e(t,r,i))}),n},h=function(t,e,n){return t.reduce?t.reduce(e,n):(l(t,function(t,r,i){n=e(n,t,r,i)}),n)},p=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof e&&e.nextTick?(a.nextTick=e.nextTick,a.setImmediate="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:a.nextTick):"function"==typeof setImmediate?(a.nextTick=function(t){setImmediate(t)},a.setImmediate=a.nextTick):(a.nextTick=function(t){setTimeout(t,0)},a.setImmediate=a.nextTick),a.each=function(t,e,r){function i(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;l(t,function(t){e(t,n(i))})},a.forEach=a.each,a.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,i=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n():i())})};i()},a.forEachSeries=a.eachSeries,a.eachLimit=function(t,e,n,r){var i=d(e);i.apply(null,[t,n,r])},a.forEachLimit=a.eachLimit;var d=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var i=0,o=0,s=0;!function a(){if(i>=e.length)return r();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(r(t),r=function(){}):(i+=1,s-=1,i>=e.length?r():a())})}()}},v=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[a.each].concat(e))}},m=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[d(t)].concat(n))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[a.eachSeries].concat(e))}},y=function(t,e,n,r){if(e=f(e,function(t,e){return{index:e,value:t}}),r){var i=[];t(e,function(t,e){n(t.value,function(n,r){i[t.index]=r,e(n)})},function(t){r(t,i)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};a.map=v(y),a.mapSeries=g(y),a.mapLimit=function(t,e,n,r){return b(e)(t,n,r)};var b=function(t){return m(t,y)};a.reduce=function(t,e,n,r){a.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},a.inject=a.reduce,a.foldl=a.reduce,a.reduceRight=function(t,e,n,r){var i=f(t,function(t){return t}).reverse();a.reduce(i,e,n,r)},a.foldr=a.reduceRight;var _=function(t,e,n,r){var i=[];e=f(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&i.push(t),e()})},function(){r(f(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};a.filter=v(_),a.filterSeries=g(_),a.select=a.filter,a.selectSeries=a.filterSeries;var w=function(t,e,n,r){var i=[];e=f(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||i.push(t),e()})},function(){r(f(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};a.reject=v(w),a.rejectSeries=g(w);var $=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(){r()})};a.detect=v($),a.detectSeries=g($),a.some=function(t,e,n){a.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(){n(!1)})},a.any=a.some,a.every=function(t,e,n){a.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(){n(!0)})},a.all=a.every,a.sortBy=function(t,e,n){a.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0};n(null,f(e.sort(r),function(t){return t.value}))})},a.auto=function(t,e){e=e||function(){};var n=p(t),r=n.length;if(!r)return e();var i={},o=[],s=function(t){o.unshift(t)},u=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},f=function(){r--,l(o.slice(0),function(t){t()})};s(function(){if(!r){var t=e;e=function(){},t(null,i)}}),l(n,function(n){var r=c(t[n])?t[n]:[t[n]],o=function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),t){var o={};l(p(i),function(t){o[t]=i[t]}),o[n]=r,e(t,o),e=function(){}}else i[n]=r,a.setImmediate(f)},d=r.slice(0,Math.abs(r.length-1))||[],v=function(){return h(d,function(t,e){return t&&i.hasOwnProperty(e)},!0)&&!i.hasOwnProperty(n)};if(v())r[r.length-1](o,i);else{var m=function(){v()&&(u(m),r[r.length-1](o,i))};s(m)}})},a.retry=function(t,e,n){var r=5,i=[];"function"==typeof t&&(n=e,e=t,t=r),t=parseInt(t,10)||r;var o=function(r,o){for(var s=function(t,e){return function(n){t(function(t,r){n(!t||e,{err:t,result:r})},o)}};t;)i.push(s(e,!(t-=1)));a.series(i,function(t,e){e=e[e.length-1],(r||n)(e.err,e.result)})};return n?o():o},a.waterfall=function(t,e){if(e=e||function(){},!c(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=t.next();i.push(o?r(o):e),a.setImmediate(function(){t.apply(null,i)})}}};r(a.iterator(t))()};var x=function(t,e,n){if(n=n||function(){},c(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(p(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(t){n(t,r)})}};a.parallel=function(t,e){x({map:a.map,each:a.each},t,e)},a.parallelLimit=function(t,e,n){x({map:b(e),each:d(e)},t,n)},a.series=function(t,e){if(e=e||function(){},c(t))a.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};a.eachSeries(p(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(t){e(t,n)})}},a.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)},a.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var E=function(t,e,n,r){var i=[];t(e,function(t,e){n(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){r(t,i)})};a.concat=v(E),a.concatSeries=g(E),a.whilst=function(t,e,n){t()?e(function(r){return r?n(r):void a.whilst(t,e,n)}):n()},a.doWhilst=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?a.doWhilst(t,e,n):n()})},a.until=function(t,e,n){t()?n():e(function(r){return r?n(r):void a.until(t,e,n)})},a.doUntil=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?n():a.doUntil(t,e,n)})},a.queue=function(t,e){function r(t,e,n,r){return t.started||(t.started=!0),c(e)||(e=[e]),0==e.length?a.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var i={data:e,callback:"function"==typeof r?r:null};n?t.tasks.unshift(i):t.tasks.push(i),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),a.setImmediate(t.process)})}void 0===e&&(e=1);var i=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(!o.paused&&i<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),i+=1;var r=function(){i-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+i===0&&o.drain(),o.process()},s=n(r);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return i},idle:function(){return o.tasks.length+i===0},pause:function(){o.paused!==!0&&(o.paused=!0,o.process())},resume:function(){o.paused!==!1&&(o.paused=!1,o.process())}};return o},a.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){c(t)||(t=[t]),l(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===e&&i.saturated()}),a.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var s="number"==typeof e?r.splice(0,e):r.splice(0,r.length),a=f(s,function(t){return t.data});i.empty&&i.empty(),n=!0,t(a,function(){n=!1;var t=arguments;l(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var S=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&l(n,function(e){console[t](e)}))}]))}};a.log=S("log"),a.dir=S("dir"),a.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),s=e.apply(null,i);s in n?a.nextTick(function(){o.apply(null,n[s])}):s in r?r[s].push(o):(r[s]=[o],t.apply(null,i.concat([function(){n[s]=arguments;var t=r[s];delete r[s];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},a.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},a.times=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return a.map(r,e,n)},a.timesSeries=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return a.mapSeries(r,e,n)},a.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();a.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}},a.compose=function(){return a.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};a.applyEach=v(A),a.applyEachSeries=g(A),a.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},"undefined"!=typeof t&&t.exports?t.exports=a:(r=[],i=function(){return a}.apply(null,r),!(void 0!==i&&(t.exports=i)))}()}).call(e,n(62))},function(t,e,n){t.exports=function(t){function e(t){return o.bitArray.bitSlice(o.hash.sha512.hash(o.codec.bytes.toBits(t)),0,256)}function r(t,e){return[].concat(t,e>>24,e>>16&255,e>>8&255,255&e)}function i(t){if(this.secret=t,!this.secret)throw"Invalid secret."}var o=t.sjcl,s=n(58)({sjcl:t.sjcl}),a=n(59)({sjcl:t.sjcl}),u=n(60)({sjcl:t.sjcl}),c=n(61)({sjcl:t.sjcl});return i.prototype={getPrivateKey:function(){var t=this;return s.decode_base_check(33,t.secret)},getPrivateGenerator:function(t){var n=0;do privateGenerator=o.bn.fromBits(e(r(t,n))),n++;while(!o.ecc.curves.c256.r.greaterEquals(privateGenerator));return privateGenerator},getPublicGenerator:function(){var t=this.getPrivateKey(this.secret),e=this.getPrivateGenerator(t);return c.fromPrivateGenerator(e)},getPublicKey:function(t){var n,i=0;do n=o.bn.fromBits(e(r(r(t.toBytesCompressed(),0),i))),i++;while(!o.ecc.curves.c256.r.greaterEquals(n));return o.ecc.curves.c256.G.mult(n).toJac().add(t).toAffine()},getAddress:function(){var t=this.getPrivateKey(this.secret),e=this.getPrivateGenerator(t),n=c.fromPrivateGenerator(e).value,r=this.getPublicKey(n);return u.fromPublicKey(r)}},i.getRandom=function(){var t=a.getRandom().value;return new i(t)},i.generate=function(){var t=a.getRandom().value,e=new i(t);return{address:e.getAddress().value,secret:t}},i}},function(t,e,n){function r(){}function i(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(){if(g.XMLHttpRequest&&("file:"!=g.location.protocol||!g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function s(t){return t===Object(t)}function a(t){if(!s(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function u(t){for(var e,n,r={},i=t.split("&"),o=0,s=i.length;s>o;++o)n=i[o],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function c(t){var e,n,r,i,o=t.split(/\r?\n/),s={};o.pop();for(var a=0,u=o.length;u>a;++a)n=o[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=y(n.slice(e+1)),s[r]=i;return s}function l(t){return t.split(/ *; */).shift()}function f(t){return m(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=c(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function p(t,e){var n=this;v.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=new h(n);"HEAD"==t&&(e.text=null),n.callback(null,e)})}function d(t,e){return"function"==typeof e?new p("GET",t).end(e):1==arguments.length?new p("GET",t):new p(t,e)}var v=n(73),m=n(74),g="undefined"==typeof window?this:window,y="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};d.serializeObject=a,d.parseString=u,d.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=l(t);var e=f(t);for(var n in e)this[n]=e[n]},h.prototype.parseBody=function(t){var e=d.parse[this.type];return e?e(t):null},h.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},d.Response=h,v(p.prototype),p.prototype.use=function(t){return t(this),this},p.prototype.timeout=function(t){return this._timeout=t,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},p.prototype.set=function(t,e){if(s(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},p.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},p.prototype.type=function(t){return this.set("Content-Type",d.types[t]||t),this},p.prototype.accept=function(t){return this.set("Accept",d.types[t]||t),this},p.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},p.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},p.prototype.field=function(t,e){return this._formData||(this._formData=new FormData),this._formData.append(t,e),this},p.prototype.attach=function(t,e,n){return this._formData||(this._formData=new FormData),this._formData.append(t,e,n),this},p.prototype.send=function(t){var e=s(t),n=this.getHeader("Content-Type");if(e&&s(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(n||this.type("json"),this):this},p.prototype.callback=function(t,e){var n=this._callback;return 2==n.length?n(t,e):t?this.emit("error",t):void n(e)},p.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},p.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(t){var e=this,n=this.xhr=o(),s=this._query.join("&"),a=this._timeout,u=this._formData||this._data;if(this._callback=t||r,n.onreadystatechange=function(){return 4==n.readyState?0==n.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},n.upload&&(n.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),a&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},a)),s&&(s=d.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof u&&!i(u)){var c=d.serialize[this.getHeader("Content-Type")];c&&(u=c(u))}for(var l in this.header)null!=this.header[l]&&n.setRequestHeader(l,this.header[l]);return this.emit("request",this),n.send(u),this},d.Request=p,d.get=function(t,e,n){var r=d("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},d.head=function(t,e,n){var r=d("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},d.del=function(t,e){var n=d("DELETE",t);return e&&n.end(e),n},d.patch=function(t,e,n){var r=d("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},d.post=function(t,e,n){var r=d("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},d.put=function(t,e,n){var r=d("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},t.exports=d},function(t,e,n){"use strict";e.decode=e.parse=n(64),e.encode=e.stringify=n(65)},function(t,e,n){(function(e){!function(){var n,r,i=this;n=function(t){for(var n,n,r=new e(t),i=0;t>i;i++)0==(3&i)&&(n=4294967296*Math.random()),r[i]=n>>>((3&i)<<3)&255;return r},i.crypto&&crypto.getRandomValues&&(r=function(t){var n=new e(t);return crypto.getRandomValues(n),n}),t.exports=r||n}()}).call(e,n(41).Buffer)},function(t,e,n){(function(e){function r(t){return function(){var n=[],r={update:function(t,r){return e.isBuffer(t)||(t=new e(t,r)),n.push(t),this},digest:function(r){var i=e.concat(n),o=t(i);return n=null,r?o.toString(r):o}};return r}}var i=n(71),o=r(n(63)),s=r(n(75));t.exports=function(t){return"md5"===t?new o:"rmd160"===t?new s:i(t)}}).call(e,n(41).Buffer)},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);this._opad=u,this._alg=t,n=this._key=e.isBuffer(n)?n:new e(n),n.length>o?n=i(t).update(n).digest():n.length<o&&(n=e.concat([n,s],o));for(var a=this._ipad=new e(o),u=this._opad=new e(o),c=0;o>c;c++)a[c]=54^n[c],u[c]=92^n[c];this._hash=i(t).update(a)}var i=n(54),o=64,s=new e(o);s.fill(0),t.exports=r,r.prototype.update=function(t,e){return this._hash.update(t,e),this},r.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)}}).call(e,n(41).Buffer)},function(t,e,n){(function(e){// Licensed under LGPL v3
// Copyright (c) 2013 jduncanator
var n=64,r=new e(n);r.fill(0),t.exports=function(t,i){return i=i||{},i.pbkdf2=function(t,e,n,r,o){if("function"!=typeof o)throw new Error("No callback provided to pbkdf2");setTimeout(function(){o(null,i.pbkdf2Sync(t,e,n,r))})},i.pbkdf2Sync=function(i,o,s,a){if("number"!=typeof s)throw new TypeError("Iterations not a number");if(0>s)throw new TypeError("Bad iterations");if("number"!=typeof a)throw new TypeError("Key length not a number");if(0>a)throw new TypeError("Bad key length");var i=e.isBuffer(i)?i:new e(i);i.length>n?i=createHash(alg).update(i).digest():i.length<n&&(i=e.concat([i,r],n));var u,c,l,f=0,h=1,p=new e(4),d=new e(a);for(d.fill(0);a;){c=a>20?20:a,p[0]=h>>24&255,p[1]=h>>16&255,p[2]=h>>8&255,p[3]=255&h,u=t("sha1",i),u.update(o),u.update(p),l=u.digest(),l.copy(d,f,0,c);for(var v=1;s>v;v++){u=t("sha1",i),u.update(l),l=u.digest();for(var m=0;c>m;m++)d[m]^=l[m]}a-=c,h++,f+=c}return d},i}}).call(e,n(41).Buffer)},function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t){t.exports=function(t){var e=t.sjcl,n=function(){var t={ripple:"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz",bitcoin:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"},r=function(t){return e.codec.bytes.fromBits(e.hash.sha256.hash(e.codec.bytes.toBits(t)))};return{encode_base:function(n,r){for(var i=t[r||"ripple"],o=new e.bn(i.length),s=e.bn.fromBits(e.codec.bytes.toBits(n)),a=[];s.greaterEquals(o);){var u=s.mod(o);a.push(i[u.limbs[0]]),s=s.div(o)}a.push(i[s.limbs[0]]);for(var c=0;c!=n.length&&!n[c];c+=1)a.push(i[0]);return a.reverse().join("")},decode_base:function(n,r){for(var i,o=t[r||"ripple"],s=new e.bn(o.length),a=new e.bn(0);i!=n.length&&n[i]===o[0];)i+=1;for(i=0;i!=n.length;i+=1){var u=o.indexOf(n[i]);if(0>u)return null;a=a.mul(s).addM(u)}for(var c=e.codec.bytes.fromBits(a.toBits()).reverse();0===c[c.length-1];)c.pop();for(i=0;n[i]===o[0];i++)c.push(0);return c.reverse(),c},encode_base_check:function(t,e,i){var o=[].concat(t,e),s=r(r(o)).slice(0,4);return n.encode_base([].concat(o,s),i)},decode_base_check:function(t,e,i){var o=n.decode_base(e,i);if(!o||o[0]!==t||o.length<5)return 0/0;var s,a=r(r(o.slice(0,-4))).slice(0,4),u=o.slice(-4);for(s=0;4!=s;s+=1)if(a[s]!==u[s])return 0/0;return o.slice(1,-4)}}}();return n}},function(t,e,n){t.exports=function(t){function e(t){this.value=t}var r=t.sjcl,i=n(58)({sjcl:r});return e.fromBytes=function(t){return new e(i.encode_base_check(33,t))},e.getRandom=function(){for(var t=0;8>t;t++)r.random.addEntropy(Math.random(),32,"Math.random()");var n=r.codec.bytes.fromBits(r.random.randomWords(4));return e.fromBytes(n)},e}},function(t,e,n){t.exports=function(t){function e(t){return i.hash.ripemd160.hash(i.hash.sha256.hash(t))}function r(t){this.value=t}var i=t.sjcl,o=n(58)({sjcl:i});return r.fromPublicKey=function(t){var n=i.codec.bytes.fromBits(e(i.codec.bytes.toBits(t.toBytesCompressed())));return new this(o.encode_base_check(0,n))},r}},function(t){t.exports=function(t){function e(t){if(!(t instanceof n.ecc.point))throw new Error("eccPoint must be a sjcl.ecc.point");this.value=t}var n=t.sjcl;return e.fromPrivateGenerator=function(t){return new this(n.ecc.curves.c256.G.mult(t))},e.prototype={toString:function(){return this.value.toString()}},e}},function(t){function e(){}var n=t.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=e,n.once=e,n.off=e,n.emit=e,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},function(t,e,n){function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,f=0;f<t.length;f+=16){var h=n,p=r,d=i,v=l;n=o(n,r,i,l,t[f+0],7,-680876936),l=o(l,n,r,i,t[f+1],12,-389564586),i=o(i,l,n,r,t[f+2],17,606105819),r=o(r,i,l,n,t[f+3],22,-1044525330),n=o(n,r,i,l,t[f+4],7,-176418897),l=o(l,n,r,i,t[f+5],12,1200080426),i=o(i,l,n,r,t[f+6],17,-1473231341),r=o(r,i,l,n,t[f+7],22,-45705983),n=o(n,r,i,l,t[f+8],7,1770035416),l=o(l,n,r,i,t[f+9],12,-1958414417),i=o(i,l,n,r,t[f+10],17,-42063),r=o(r,i,l,n,t[f+11],22,-1990404162),n=o(n,r,i,l,t[f+12],7,1804603682),l=o(l,n,r,i,t[f+13],12,-40341101),i=o(i,l,n,r,t[f+14],17,-1502002290),r=o(r,i,l,n,t[f+15],22,1236535329),n=s(n,r,i,l,t[f+1],5,-165796510),l=s(l,n,r,i,t[f+6],9,-1069501632),i=s(i,l,n,r,t[f+11],14,643717713),r=s(r,i,l,n,t[f+0],20,-373897302),n=s(n,r,i,l,t[f+5],5,-701558691),l=s(l,n,r,i,t[f+10],9,38016083),i=s(i,l,n,r,t[f+15],14,-660478335),r=s(r,i,l,n,t[f+4],20,-405537848),n=s(n,r,i,l,t[f+9],5,568446438),l=s(l,n,r,i,t[f+14],9,-1019803690),i=s(i,l,n,r,t[f+3],14,-187363961),r=s(r,i,l,n,t[f+8],20,1163531501),n=s(n,r,i,l,t[f+13],5,-1444681467),l=s(l,n,r,i,t[f+2],9,-51403784),i=s(i,l,n,r,t[f+7],14,1735328473),r=s(r,i,l,n,t[f+12],20,-1926607734),n=a(n,r,i,l,t[f+5],4,-378558),l=a(l,n,r,i,t[f+8],11,-2022574463),i=a(i,l,n,r,t[f+11],16,1839030562),r=a(r,i,l,n,t[f+14],23,-35309556),n=a(n,r,i,l,t[f+1],4,-1530992060),l=a(l,n,r,i,t[f+4],11,1272893353),i=a(i,l,n,r,t[f+7],16,-155497632),r=a(r,i,l,n,t[f+10],23,-1094730640),n=a(n,r,i,l,t[f+13],4,681279174),l=a(l,n,r,i,t[f+0],11,-358537222),i=a(i,l,n,r,t[f+3],16,-722521979),r=a(r,i,l,n,t[f+6],23,76029189),n=a(n,r,i,l,t[f+9],4,-640364487),l=a(l,n,r,i,t[f+12],11,-421815835),i=a(i,l,n,r,t[f+15],16,530742520),r=a(r,i,l,n,t[f+2],23,-995338651),n=u(n,r,i,l,t[f+0],6,-198630844),l=u(l,n,r,i,t[f+7],10,1126891415),i=u(i,l,n,r,t[f+14],15,-1416354905),r=u(r,i,l,n,t[f+5],21,-57434055),n=u(n,r,i,l,t[f+12],6,1700485571),l=u(l,n,r,i,t[f+3],10,-1894986606),i=u(i,l,n,r,t[f+10],15,-1051523),r=u(r,i,l,n,t[f+1],21,-2054922799),n=u(n,r,i,l,t[f+8],6,1873313359),l=u(l,n,r,i,t[f+15],10,-30611744),i=u(i,l,n,r,t[f+6],15,-1560198380),r=u(r,i,l,n,t[f+13],21,1309151649),n=u(n,r,i,l,t[f+4],6,-145523070),l=u(l,n,r,i,t[f+11],10,-1120210379),i=u(i,l,n,r,t[f+2],15,718787259),r=u(r,i,l,n,t[f+9],21,-343485551),n=c(n,h),r=c(r,p),i=c(i,d),l=c(l,v)}return Array(n,r,i,l)}function i(t,e,n,r,i,o){return c(l(c(c(e,t),c(r,o)),i),n)}function o(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)}function s(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)}function a(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)}function u(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function l(t,e){return t<<e|t>>>32-e}/*
	 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
	 * Digest Algorithm, as defined in RFC 1321.
	 * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
	 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
	 * Distributed under the BSD License
	 * See http://pajhome.org.uk/crypt/md5 for more info.
	 */
var f=n(72);t.exports=function(t){return f.hash(t,r,16)}},function(t){// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,i,o){r=r||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(r);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var f,h,p,d,v=t[l].replace(a,"%20"),m=v.indexOf(i);m>=0?(f=v.substr(0,m),h=v.substr(m+1)):(f=v,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),e(s,p)?n(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t){// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";function e(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,o,s,a){return o=o||"&",s=s||"=",null===t&&(t=void 0),"object"==typeof t?e(i(t),function(i){var a=encodeURIComponent(n(i))+s;return r(t[i])?e(t[i],function(t){return a+encodeURIComponent(n(t))}).join(o):a+encodeURIComponent(n(t[i]))}).join(o):a?encodeURIComponent(n(a))+s+encodeURIComponent(n(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+p]=255&s,p+=d,s/=256,c-=8);t[n+p-d]|=128*v}},function(t,e,n){var r,i;(function(t){!function(o){function s(t){throw RangeError(B[t])}function a(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function u(t,e){var n=".";return a(t.split(n),e).join(n)}function c(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),55296==(63488&e)&&(n=t.charCodeAt(i++),(55296!=(64512&e)||56320!=(64512&n))&&s("ucs2decode"),e=((1023&e)<<10)+(1023&n)+65536),r.push(e);return r}function l(t){return a(t,function(t){var e="";return 55296==(63488&t)&&s("ucs2encode"),t>65535&&(t-=65536,e+=R(t>>>10&1023|55296),t=56320|1023&t),e+=R(t)}).join("")}function f(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:x}function h(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?N(t/T):t>>1,t+=N(t/e);t>D*S>>1;r+=x)t=N(t/D);return N(r+(D+1)*t/(t+A))}function d(t){var e,n,r,i,o,a,u,c,h,d,v=[],m=t.length,g=0,y=C,b=k;for(n=t.lastIndexOf(j),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&s("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;m>i;){for(o=g,a=1,u=x;i>=m&&s("invalid-input"),c=f(t.charCodeAt(i++)),(c>=x||c>N(($-g)/a))&&s("overflow"),g+=c*a,h=b>=u?E:u>=b+S?S:u-b,!(h>c);u+=x)d=x-h,a>N($/d)&&s("overflow"),a*=d;e=v.length+1,b=p(g-o,e,0==o),N(g/e)>$-y&&s("overflow"),y+=N(g/e),g%=e,v.splice(g++,0,y)}return l(v)}function v(t){var e,n,r,i,o,a,u,l,f,d,v,m,g,y,b,_=[];for(t=c(t),m=t.length,e=C,n=0,o=k,a=0;m>a;++a)v=t[a],128>v&&_.push(R(v));for(r=i=_.length,i&&_.push(j);m>r;){for(u=$,a=0;m>a;++a)v=t[a],v>=e&&u>v&&(u=v);for(g=r+1,u-e>N(($-n)/g)&&s("overflow"),n+=(u-e)*g,e=u,a=0;m>a;++a)if(v=t[a],e>v&&++n>$&&s("overflow"),v==e){for(l=n,f=x;d=o>=f?E:f>=o+S?S:f-o,!(d>l);f+=x)b=l-d,y=x-d,_.push(R(h(d+b%y,0))),l=N(b/y);_.push(R(h(l,0))),o=p(n,g,r==i),n=0,++r}++n,++e}return _.join("")}function m(t){return u(t,function(t){return O.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return u(t,function(t){return I.test(t)?"xn--"+v(t):t})}var y,b,_=(n(79),"object"==typeof e&&e),w="object"==typeof t&&t,$=2147483647,x=36,E=1,S=26,A=38,T=700,k=72,C=128,j="-",I=/[^ -~]/,O=/^xn--/,B={overflow:"Overflow: input needs wider integers to process.",ucs2decode:"UCS-2(decode): illegal sequence",ucs2encode:"UCS-2(encode): illegal value","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=x-E,N=Math.floor,R=String.fromCharCode;if(y={version:"1.0.0",ucs2:{decode:c,encode:l},decode:d,encode:v,toASCII:g,toUnicode:m},_)if(w&&w.exports==_)w.exports=y;else for(b in y)y.hasOwnProperty(b)&&(_[b]=y[b]);else n(79)?(r=y,!("function"==typeof r?(i=r.call(e,n,e,t),void 0!==i&&(t.exports=i)):t.exports=r)):o.punycode=y}(this)}).call(e,n(80)(t))},function(t,e,n){var r;r=function(t,e,n,r){"use strict";var i=e;i.unescape=decodeURIComponent,i.escape=encodeURIComponent;var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};i.stringify=i.encode=function(t,e,n,s){switch(e=e||"&",n=n||"=",t=null===t?r:t,typeof t){case"object":return Object.keys(t).map(function(r){return Array.isArray(t[r])?t[r].map(function(t){return i.escape(o(r))+n+i.escape(o(t))}).join(e):i.escape(o(r))+n+i.escape(o(t[r]))}).join(e);default:return s?i.escape(o(s))+n+i.escape(o(t)):""}},i.parse=i.decode=function(t,e,n){e=e||"&",n=n||"=";var r={};return"string"!=typeof t||0===t.length?r:(t.split(e).forEach(function(t){var e=t.split(n),o=i.unescape(e[0],!0),s=i.unescape(e.slice(1).join(n),!0);o in r?Array.isArray(r[o])?r[o].push(s):r[o]=[r[o],s]:r[o]=s}),r)}}.call(e,n,e,t),// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
!(void 0!==r&&(t.exports=r))},function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s?62:e===a?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function r(t){function n(t){c[f++]=t}var r,i,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var f=0;for(r=0,i=0;s>r;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;s>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=r(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0);t.toByteArray=r,t.fromByteArray=i}("undefined"==typeof e?this.base64js={}:e)},function(t,e,n){var e=t.exports=function(t){var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n},r=n(82).Buffer,i=n(76)(r);e.sha=e.sha1=n(77)(r,i),e.sha256=n(78)(r,i)},function(t,e,n){(function(e){function n(t,n){if(t.length%o!==0){var r=t.length+(o-t.length%o);t=e.concat([t,s],r)}for(var i=[],a=n?t.readInt32BE:t.readInt32LE,u=0;u<t.length;u+=o)i.push(a.call(t,u));return i}function r(t,n,r){for(var i=new e(n),o=r?i.writeInt32BE:i.writeInt32LE,s=0;s<t.length;s++)o.call(i,t[s],4*s,!0);return i}function i(t,i,o,s){e.isBuffer(t)||(t=new e(t));var u=i(n(t,s),t.length*a);return r(u,o,s)}var o=4,s=new e(o);s.fill(0);var a=8;t.exports={hash:i}}).call(e,n(41).Buffer)},function(t){function e(t){return t?n(t):void 0}function n(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t){t.exports=function(t,e,n){for(var r=0,i=t.length,o=3==arguments.length?n:t[r++];i>r;)o=e.call(null,o,t[r],++r,t);return o}},function(t,e,n){(function(e){function n(t,e,n){return t^e^n}function r(t,e,n){return t&e|~t&n}function i(t,e,n){return(t|~e)^n}function o(t,e,n){return t&n|e&~n}function s(t,e,n){return t^(e|~n)}function a(t,e){return t<<e|t>>>32-e}function u(t){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var r=v(t),i=8*t.length,o=8*t.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var s=0;s<r.length;s+=16)g(n,r,s);for(var s=0;5>s;s++){var a=n[s];n[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var u=m(n);return new e(u)}t.exports=u;/*
	CryptoJS v3.1.2
	code.google.com/p/crypto-js
	(c) 2009-2013 by Jeff Mott. All rights reserved.
	code.google.com/p/crypto-js/wiki/License
	*/
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0],v=function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},m=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},g=function(t,e,u){for(var v=0;16>v;v++){var m=u+v,g=e[m];e[m]=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8)}var y,b,_,w,$,x,E,S,A,T;x=y=t[0],E=b=t[1],S=_=t[2],A=w=t[3],T=$=t[4];for(var k,v=0;80>v;v+=1)k=y+e[u+c[v]]|0,k+=16>v?n(b,_,w)+p[0]:32>v?r(b,_,w)+p[1]:48>v?i(b,_,w)+p[2]:64>v?o(b,_,w)+p[3]:s(b,_,w)+p[4],k=0|k,k=a(k,f[v]),k=k+$|0,y=$,$=w,w=a(_,10),_=b,b=k,k=x+e[u+l[v]]|0,k+=16>v?s(E,S,A)+d[0]:32>v?o(E,S,A)+d[1]:48>v?i(E,S,A)+d[2]:64>v?r(E,S,A)+d[3]:n(E,S,A)+d[4],k=0|k,k=a(k,h[v]),k=k+T|0,x=T,T=A,A=a(S,10),S=E,E=k;k=t[1]+_+A|0,t[1]=t[2]+w+T|0,t[2]=t[3]+$+x|0,t[3]=t[4]+y+E|0,t[4]=t[0]+b+S|0,t[0]=k}}).call(e,n(41).Buffer)},function(t,e,n){var r=n(81),i=r.write,o=r.zeroFill;t.exports=function(t){function e(e,n){this._block=new t(e),this._finalSize=n,this._blockSize=e,this._len=0,this._s=0}function n(t,e){return null==e?t.byteLength||t.length:"ascii"==e||"binary"==e?t.length:"hex"==e?t.length/2:"base64"==e?t.length/3:void 0}return e.prototype.init=function(){this._s=0,this._len=0},e.prototype.update=function(e,r){var o,s=this._blockSize;r||"string"!=typeof e||(r="utf8"),r?("utf-8"===r&&(r="utf8"),("base64"===r||"utf8"===r)&&(e=new t(e,r),r=null),o=n(e,r)):o=e.byteLength||e.length;for(var a=this._len+=o,u=this._s=this._s||0,c=0,l=this._block;a>u;){var f=Math.min(o,c+s);i(l,e,r,u%s,c,f);var h=f-c;u+=h,c+=h,u%s||this._update(l)}return this._s=u,this},e.prototype.digest=function(t){var e=this._blockSize,n=this._finalSize,i=8*this._len,s=this._block,a=i%(8*e);s[this._len%e]=128,o(this._block,this._len%e+1),a>=8*n&&(this._update(this._block),r.zeroFill(this._block,0)),s.writeInt32BE(i,n+4);var u=this._update(this._block)||this._hash();return null==t?u:u.toString(t)},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e}},function(t,e,n){/*
	 * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined
	 * in FIPS PUB 180-1
	 * Version 2.1a Copyright Paul Johnston 2000 - 2002.
	 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
	 * Distributed under the BSD License
	 * See http://pajhome.org.uk/crypt/md5 for details.
	 */
t.exports=function(t,e){function r(){return v.length?v.pop().init():this instanceof r?(this._w=d,e.call(this,64,56),this._h=null,void this.init()):new r}function i(t,e,n,r){return 20>t?e&n|~e&r:40>t?e^n^r:60>t?e&n|e&r|n&r:e^n^r}function o(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function s(t,e){return t+e|0}function a(t,e){return t<<e|t>>>32-e}var u=n(43).inherits;u(r,e);var c=0,l=4,f=8,h=12,p=16,d=new Int32Array(80),v=[];r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,e.prototype.init.call(this),this},r.prototype._POOL=v;new t(1)instanceof DataView;return r.prototype._update=function(){{var t,e,n,r,u,c,l,f,h,p,d=this._block;this._h}t=c=this._a,e=l=this._b,n=f=this._c,r=h=this._d,u=p=this._e;for(var v=this._w,m=0;80>m;m++){var g=v[m]=16>m?d.readInt32BE(4*m):a(v[m-3]^v[m-8]^v[m-14]^v[m-16],1),y=s(s(a(t,5),i(m,e,n,r)),s(s(u,g),o(m)));u=r,r=n,n=a(e,30),e=t,t=y}this._a=s(t,c),this._b=s(e,l),this._c=s(n,f),this._d=s(r,h),this._e=s(u,p)},r.prototype._hash=function(){v.length<100&&v.push(this);var e=new t(20);return e.writeInt32BE(0|this._a,c),e.writeInt32BE(0|this._b,l),e.writeInt32BE(0|this._c,f),e.writeInt32BE(0|this._d,h),e.writeInt32BE(0|this._e,p),e},r}},function(t,e,n){/**
	 * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined
	 * in FIPS 180-2
	 * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.
	 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
	 *
	 */
{var r=n(43).inherits;n(81)}t.exports=function(t,e){function n(){d.length,this.init(),this._w=p,e.call(this,64,56)}function i(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function s(t,e,n){return t&e^~t&n}function a(t,e,n){return t&e^t&n^e&n}function u(t){return i(t,2)^i(t,13)^i(t,22)}function c(t){return i(t,6)^i(t,11)^i(t,25)}function l(t){return i(t,7)^i(t,18)^o(t,3)}function f(t){return i(t,17)^i(t,19)^o(t,10)}var h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];r(n,e);var p=new Array(64),d=[];n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this};return n.prototype._update=function(){var t,e,n,r,i,o,p,d,v,m,g=this._block,y=this._w;t=0|this._a,e=0|this._b,n=0|this._c,r=0|this._d,i=0|this._e,o=0|this._f,p=0|this._g,d=0|this._h;for(var b=0;64>b;b++){var _=y[b]=16>b?g.readInt32BE(4*b):f(y[b-2])+y[b-7]+l(y[b-15])+y[b-16];v=d+c(i)+s(i,o,p)+h[b]+_,m=u(t)+a(t,e,n),d=p,p=o,o=i,i=r+v,r=n,n=e,e=t,t=v+m}this._a=t+this._a|0,this._b=e+this._b|0,this._c=n+this._c|0,this._d=r+this._d|0,this._e=i+this._e|0,this._f=o+this._f|0,this._g=p+this._g|0,this._h=d+this._h|0},n.prototype._hash=function(){d.length<10&&d.push(this);var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},n}},function(t){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function n(t,e,n,r,i,o){var s=o-i;if("ascii"===n||"binary"===n)for(var a=0;s>a;a++)t[r+a]=e.charCodeAt(a+i);else if(null==n)for(var a=0;s>a;a++)t[r+a]=e[a+i];else{if("hex"!==n)throw new Error("base64"===n?"base64 encoding not yet supported":n+" encoding not yet supported");for(var a=0;s>a;a++){var u=i+a;t[r+a]=parseInt(e[2*u]+e[2*u+1],16)}}}function r(t,e){for(var n=e;n<t.length;n++)t[n]=0}e.write=n,e.zeroFill=r,e.toString=toString},function(t,e,n){(function(t){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);var i=typeof e;"base64"===n&&"string"===i&&(e=T(e));var o;if("number"===i)o=j(e);else if("string"===i)o=t.byteLength(e,n);else{if("object"!==i)throw new Error("First argument needs to be a number, array or string.");o=j(e.length)}var s;t._useTypedArrays?s=t._augment(new Uint8Array(o)):(s=this,s.length=o,s._isBuffer=!0);var a;if(t._useTypedArrays&&"number"==typeof e.byteLength)s._set(e);else if(O(e))if(t.isBuffer(e))for(a=0;o>a;a++)s[a]=e.readUInt8(a);else for(a=0;o>a;a++)s[a]=(e[a]%256+256)%256;else if("string"===i)s.write(e,0,n);else if("number"===i&&!t._useTypedArrays&&!r)for(a=0;o>a;a++)s[a]=0;return s}function r(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;H(o%2===0,"Invalid hex string"),r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);H(!isNaN(a),"Invalid hex string"),t[n+s]=a}return s}function i(t,e,n,r){var i=q(D(e),t,n,r);return i}function o(t,e,n,r){var i=q(N(e),t,n,r);return i}function s(t,e,n,r){return o(t,e,n,r)}function a(t,e,n,r){var i=q(L(e),t,n,r);return i}function u(t,e,n,r){var i=q(R(e),t,n,r);return i}function c(t,e,n){return z.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function l(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(r+=M(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+M(i)}function f(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function h(t,e,n){return f(t,e,n)}function p(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=B(t[o]);return i}function d(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function v(t,e,n,r){r||(H("boolean"==typeof n,"missing or invalid endian"),H(void 0!==e&&null!==e,"missing offset"),H(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return n?(o=t[e],i>e+1&&(o|=t[e+1]<<8)):(o=t[e]<<8,i>e+1&&(o|=t[e+1])),o}}function m(t,e,n,r){r||(H("boolean"==typeof n,"missing or invalid endian"),H(void 0!==e&&null!==e,"missing offset"),H(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return n?(i>e+2&&(o=t[e+2]<<16),i>e+1&&(o|=t[e+1]<<8),o|=t[e],i>e+3&&(o+=t[e+3]<<24>>>0)):(i>e+1&&(o=t[e+1]<<16),i>e+2&&(o|=t[e+2]<<8),i>e+3&&(o|=t[e+3]),o+=t[e]<<24>>>0),o}}function g(t,e,n,r){r||(H("boolean"==typeof n,"missing or invalid endian"),H(void 0!==e&&null!==e,"missing offset"),H(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o=v(t,e,n,!0),s=32768&o;return s?-1*(65535-o+1):o}}function y(t,e,n,r){r||(H("boolean"==typeof n,"missing or invalid endian"),H(void 0!==e&&null!==e,"missing offset"),H(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o=m(t,e,n,!0),s=2147483648&o;return s?-1*(4294967295-o+1):o}}function b(t,e,n,r){return r||(H("boolean"==typeof n,"missing or invalid endian"),H(e+3<t.length,"Trying to read beyond buffer length")),V.read(t,e,n,23,4)}function _(t,e,n,r){return r||(H("boolean"==typeof n,"missing or invalid endian"),H(e+7<t.length,"Trying to read beyond buffer length")),V.read(t,e,n,52,8)}function w(t,e,n,r,i){i||(H(void 0!==e&&null!==e,"missing value"),H("boolean"==typeof r,"missing or invalid endian"),H(void 0!==n&&null!==n,"missing offset"),H(n+1<t.length,"trying to write beyond buffer length"),F(e,65535));var o=t.length;if(!(n>=o)){for(var s=0,a=Math.min(o-n,2);a>s;s++)t[n+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s);return n+2}}function $(t,e,n,r,i){i||(H(void 0!==e&&null!==e,"missing value"),H("boolean"==typeof r,"missing or invalid endian"),H(void 0!==n&&null!==n,"missing offset"),H(n+3<t.length,"trying to write beyond buffer length"),F(e,4294967295));var o=t.length;if(!(n>=o)){for(var s=0,a=Math.min(o-n,4);a>s;s++)t[n+s]=e>>>8*(r?s:3-s)&255;return n+4}}function x(t,e,n,r,i){i||(H(void 0!==e&&null!==e,"missing value"),H("boolean"==typeof r,"missing or invalid endian"),H(void 0!==n&&null!==n,"missing offset"),H(n+1<t.length,"Trying to write beyond buffer length"),P(e,32767,-32768));var o=t.length;if(!(n>=o))return e>=0?w(t,e,n,r,i):w(t,65535+e+1,n,r,i),n+2}function E(t,e,n,r,i){i||(H(void 0!==e&&null!==e,"missing value"),H("boolean"==typeof r,"missing or invalid endian"),H(void 0!==n&&null!==n,"missing offset"),H(n+3<t.length,"Trying to write beyond buffer length"),P(e,2147483647,-2147483648));var o=t.length;if(!(n>=o))return e>=0?$(t,e,n,r,i):$(t,4294967295+e+1,n,r,i),n+4}function S(t,e,n,r,i){i||(H(void 0!==e&&null!==e,"missing value"),H("boolean"==typeof r,"missing or invalid endian"),H(void 0!==n&&null!==n,"missing offset"),H(n+3<t.length,"Trying to write beyond buffer length"),U(e,3.4028234663852886e38,-3.4028234663852886e38));var o=t.length;if(!(n>=o))return V.write(t,e,n,r,23,4),n+4}function A(t,e,n,r,i){i||(H(void 0!==e&&null!==e,"missing value"),H("boolean"==typeof r,"missing or invalid endian"),H(void 0!==n&&null!==n,"missing offset"),H(n+7<t.length,"Trying to write beyond buffer length"),U(e,1.7976931348623157e308,-1.7976931348623157e308));var o=t.length;if(!(n>=o))return V.write(t,e,n,r,52,8),n+8}function T(t){for(t=k(t).replace(W,"");t.length%4!==0;)t+="=";return t}function k(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function C(t,e,n){return"number"!=typeof t?n:(t=~~t,t>=e?e:t>=0?t:(t+=e,t>=0?t:0))}function j(t){return t=~~Math.ceil(+t),0>t?0:t}function I(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function O(e){return I(e)||t.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function B(t){return 16>t?"0"+t.toString(16):t.toString(16)}function D(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(127>=r)e.push(r);else{var i=n;r>=55296&&57343>=r&&n++;for(var o=encodeURIComponent(t.slice(i,n+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function N(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function R(t){for(var e,n,r,i=[],o=0;o<t.length;o++)e=t.charCodeAt(o),n=e>>8,r=e%256,i.push(r),i.push(n);return i}function L(t){return z.toByteArray(t)}function q(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function M(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function F(t,e){H("number"==typeof t,"cannot write a non-number as a number"),H(t>=0,"specified a negative value for writing an unsigned value"),H(e>=t,"value is larger than maximum value for type"),H(Math.floor(t)===t,"value has a fractional component")}function P(t,e,n){H("number"==typeof t,"cannot write a non-number as a number"),H(e>=t,"value larger than maximum allowed value"),H(t>=n,"value smaller than minimum allowed value"),H(Math.floor(t)===t,"value has a fractional component")}function U(t,e,n){H("number"==typeof t,"cannot write a non-number as a number"),H(e>=t,"value larger than maximum allowed value"),H(t>=n,"value smaller than minimum allowed value")}function H(t,e){if(!t)throw new Error(e||"Failed assertion")}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var z=n(84),V=n(83);e.Buffer=t,e.SlowBuffer=t,e.INSPECT_MAX_BYTES=50,t.poolSize=8192,t._useTypedArrays=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(n){return!1}}(),t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.byteLength=function(t,e){var n;switch(t=t.toString(),e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=D(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=L(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},t.concat=function(e,n){if(H(I(e),"Usage: Buffer.concat(list[, length])"),0===e.length)return new t(0);if(1===e.length)return e[0];var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=new t(n),o=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(i,o),o+=s.length}return i},t.compare=function(e,n){H(t.isBuffer(e)&&t.isBuffer(n),"Arguments must be Buffers");for(var r=e.length,i=n.length,o=0,s=Math.min(r,i);s>o&&e[o]===n[o];o++);return o!==s&&(r=e[o],i=n[o]),i>r?-1:r>i?1:0},t.prototype.write=function(t,e,n,c){if(isFinite(e))isFinite(n)||(c=n,n=void 0);else{var l=c;c=e,e=n,n=l}e=Number(e)||0;var f=this.length-e;n?(n=Number(n),n>f&&(n=f)):n=f,c=String(c||"utf8").toLowerCase();var h;switch(c){case"hex":h=r(this,t,e,n);break;case"utf8":case"utf-8":h=i(this,t,e,n);break;case"ascii":h=o(this,t,e,n);break;case"binary":h=s(this,t,e,n);break;case"base64":h=a(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":h=u(this,t,e,n);break;default:throw new Error("Unknown encoding")}return h},t.prototype.toString=function(t,e,n){var r=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,n=void 0===n?r.length:Number(n),n===e)return"";var i;switch(t){case"hex":i=p(r,e,n);break;case"utf8":case"utf-8":i=l(r,e,n);break;case"ascii":i=f(r,e,n);break;case"binary":i=h(r,e,n);break;case"base64":i=c(r,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=d(r,e,n);break;default:throw new Error("Unknown encoding")}return i},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.equals=function(e){return H(t.isBuffer(e),"Argument must be a Buffer"),0===t.compare(this,e)},t.prototype.compare=function(e){return H(t.isBuffer(e),"Argument must be a Buffer"),t.compare(this,e)},t.prototype.copy=function(e,n,r,i){var o=this;if(r||(r=0),i||0===i||(i=this.length),n||(n=0),i!==r&&0!==e.length&&0!==o.length){H(i>=r,"sourceEnd < sourceStart"),H(n>=0&&n<e.length,"targetStart out of bounds"),H(r>=0&&r<o.length,"sourceStart out of bounds"),H(i>=0&&i<=o.length,"sourceEnd out of bounds"),i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var s=i-r;if(100>s||!t._useTypedArrays)for(var a=0;s>a;a++)e[a+n]=this[a+r];else e._set(this.subarray(r,r+s),n)}},t.prototype.slice=function(e,n){var r=this.length;if(e=C(e,r,0),n=C(n,r,r),t._useTypedArrays)return t._augment(this.subarray(e,n));for(var i=n-e,o=new t(i,void 0,!0),s=0;i>s;s++)o[s]=this[s+e];return o},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.readUInt8=function(t,e){return e||(H(void 0!==t&&null!==t,"missing offset"),H(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},t.prototype.readUInt16LE=function(t,e){return v(this,t,!0,e)},t.prototype.readUInt16BE=function(t,e){return v(this,t,!1,e)},t.prototype.readUInt32LE=function(t,e){return m(this,t,!0,e)},t.prototype.readUInt32BE=function(t,e){return m(this,t,!1,e)},t.prototype.readInt8=function(t,e){if(e||(H(void 0!==t&&null!==t,"missing offset"),H(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var n=128&this[t];return n?-1*(255-this[t]+1):this[t]}},t.prototype.readInt16LE=function(t,e){return g(this,t,!0,e)},t.prototype.readInt16BE=function(t,e){return g(this,t,!1,e)},t.prototype.readInt32LE=function(t,e){return y(this,t,!0,e)},t.prototype.readInt32BE=function(t,e){return y(this,t,!1,e)},t.prototype.readFloatLE=function(t,e){return b(this,t,!0,e)},t.prototype.readFloatBE=function(t,e){return b(this,t,!1,e)},t.prototype.readDoubleLE=function(t,e){return _(this,t,!0,e)},t.prototype.readDoubleBE=function(t,e){return _(this,t,!1,e)},t.prototype.writeUInt8=function(t,e,n){return n||(H(void 0!==t&&null!==t,"missing value"),H(void 0!==e&&null!==e,"missing offset"),H(e<this.length,"trying to write beyond buffer length"),F(t,255)),e>=this.length?void 0:(this[e]=t,e+1)},t.prototype.writeUInt16LE=function(t,e,n){return w(this,t,e,!0,n)},t.prototype.writeUInt16BE=function(t,e,n){return w(this,t,e,!1,n)},t.prototype.writeUInt32LE=function(t,e,n){return $(this,t,e,!0,n)},t.prototype.writeUInt32BE=function(t,e,n){return $(this,t,e,!1,n)},t.prototype.writeInt8=function(t,e,n){return n||(H(void 0!==t&&null!==t,"missing value"),H(void 0!==e&&null!==e,"missing offset"),H(e<this.length,"Trying to write beyond buffer length"),P(t,127,-128)),e>=this.length?void 0:(t>=0?this.writeUInt8(t,e,n):this.writeUInt8(255+t+1,e,n),e+1)},t.prototype.writeInt16LE=function(t,e,n){return x(this,t,e,!0,n)},t.prototype.writeInt16BE=function(t,e,n){return x(this,t,e,!1,n)},t.prototype.writeInt32LE=function(t,e,n){return E(this,t,e,!0,n)},t.prototype.writeInt32BE=function(t,e,n){return E(this,t,e,!1,n)},t.prototype.writeFloatLE=function(t,e,n){return S(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return S(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return A(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return A(this,t,e,!1,n)},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),H(n>=e,"end < start"),n!==e&&0!==this.length){H(e>=0&&e<this.length,"start out of bounds"),H(n>=0&&n<=this.length,"end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=D(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},t.prototype.inspect=function(){for(var t=[],n=this.length,r=0;n>r;r++)if(t[r]=B(this[r]),r===e.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t._useTypedArrays)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var G=t.prototype;t._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=G.get,t.set=G.set,t.write=G.write,t.toString=G.toString,t.toLocaleString=G.toString,t.toJSON=G.toJSON,t.equals=G.equals,t.compare=G.compare,t.copy=G.copy,t.slice=G.slice,t.readUInt8=G.readUInt8,t.readUInt16LE=G.readUInt16LE,t.readUInt16BE=G.readUInt16BE,t.readUInt32LE=G.readUInt32LE,t.readUInt32BE=G.readUInt32BE,t.readInt8=G.readInt8,t.readInt16LE=G.readInt16LE,t.readInt16BE=G.readInt16BE,t.readInt32LE=G.readInt32LE,t.readInt32BE=G.readInt32BE,t.readFloatLE=G.readFloatLE,t.readFloatBE=G.readFloatBE,t.readDoubleLE=G.readDoubleLE,t.readDoubleBE=G.readDoubleBE,t.writeUInt8=G.writeUInt8,t.writeUInt16LE=G.writeUInt16LE,t.writeUInt16BE=G.writeUInt16BE,t.writeUInt32LE=G.writeUInt32LE,t.writeUInt32BE=G.writeUInt32BE,t.writeInt8=G.writeInt8,t.writeInt16LE=G.writeInt16LE,t.writeInt16BE=G.writeInt16BE,t.writeInt32LE=G.writeInt32LE,t.writeInt32BE=G.writeInt32BE,t.writeFloatLE=G.writeFloatLE,t.writeFloatBE=G.writeFloatBE,t.writeDoubleLE=G.writeDoubleLE,t.writeDoubleBE=G.writeDoubleBE,t.fill=G.fill,t.inspect=G.inspect,t.toArrayBuffer=G.toArrayBuffer,t};var W=/[^+\/0-9A-z]/g}).call(e,n(41).Buffer)},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+p]=255&s,p+=d,s/=256,c-=8);t[n+p-d]|=128*v}},function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s?62:e===a?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function r(t){function n(t){c[f++]=t}var r,i,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var f=0;for(r=0,i=0;s>r;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;s>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=r(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0);t.toByteArray=r,t.fromByteArray=i}("undefined"==typeof e?this.base64js={}:e)}]);(function(){function t(t,e,n){for(var r=(n||0)-1,i=t?t.length:0;++r<i;)if(t[r]===e)return r;return-1}function e(e,n){var r=typeof n;if(e=e.cache,"boolean"==r||null==n)return e[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:b+n;return e=(e=e[r])&&e[i],"object"==r?e&&t(e,n)>-1?0:-1:e?0:-1}function n(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:b+t,i=e[n]||(e[n]={});"object"==n?(i[r]||(i[r]=[])).push(t):i[r]=!0}}function r(t){return t.charCodeAt(0)}function i(t,e){for(var n=t.criteria,r=e.criteria,i=-1,o=n.length;++i<o;){var s=n[i],a=r[i];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return t.index-e.index}function o(t){var e=-1,r=t.length,i=t[0],o=t[r/2|0],s=t[r-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&s&&"object"==typeof s)return!1;var a=u();a["false"]=a["null"]=a["true"]=a.undefined=!1;var c=u();for(c.array=t,c.cache=a,c.push=n;++e<r;)c.push(t[e]);return c}function s(t){return"\\"+Q[t]}function a(){return v.pop()||[]}function u(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function c(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function l(t){t.length=0,v.length<w&&v.push(t)}function f(t){var e=t.cache;e&&f(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,m.length<w&&m.push(t)}function h(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(0>i?0:i);++r<i;)o[r]=t[e+r];return o}function p(n){function v(t){return t&&"object"==typeof t&&!fi(t)&&zr.call(t,"__wrapped__")?t:new m(t)}function m(t,e){this.__chain__=!!e,this.__wrapped__=t}function w(t){function e(){if(r){var t=h(r);Vr.apply(t,arguments)}if(this instanceof e){var o=ee(n.prototype),s=n.apply(o,t||arguments);return Le(s)?s:o}return n.apply(i,t||arguments)}var n=t[0],r=t[2],i=t[4];return li(e,t),e}function Q(t,e,n,r,i){if(n){var o=n(t);if("undefined"!=typeof o)return o}var s=Le(t);if(!s)return t;var u=Lr.call(t);if(!K[u]||!ui.nodeClass&&c(t))return t;var f=si[u];switch(u){case F:case P:return new f(+t);case z:case W:return new f(t);case G:return o=f(t.source,T.exec(t)),o.lastIndex=t.lastIndex,o}var p=fi(t);if(e){var d=!r;r||(r=a()),i||(i=a());for(var v=r.length;v--;)if(r[v]==t)return i[v];o=p?f(t.length):{}}else o=p?h(t):$i({},t);return p&&(zr.call(t,"index")&&(o.index=t.index),zr.call(t,"input")&&(o.input=t.input)),e?(r.push(t),i.push(o),(p?wi:Si)(t,function(t,s){o[s]=Q(t,e,n,r,i)}),d&&(l(r),l(i)),o):o}function ee(t){return Le(t)?Zr(t):{}}function ne(t,e,n){if("function"!=typeof t)return or;if("undefined"==typeof e||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(ui.funcNames&&(r=!t.name),r=r||!ui.funcDecomp,!r)){var i=Ur.call(t);ui.funcNames||(r=!C.test(i)),r||(r=B.test(i),li(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return Un(t,e)}function re(t){function e(){var t=u?s:this;if(i){var d=h(i);Vr.apply(d,arguments)}if((o||l)&&(d||(d=h(arguments)),o&&Vr.apply(d,o),l&&d.length<a))return r|=16,re([n,f?r:-4&r,d,null,s,a]);if(d||(d=arguments),c&&(n=t[p]),this instanceof e){t=ee(n.prototype);var v=n.apply(t,d);return Le(v)?v:t}return n.apply(t,d)}var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=1&r,c=2&r,l=4&r,f=8&r,p=n;return li(e,t),e}function ie(n,r){var i=-1,s=ve(),a=n?n.length:0,u=a>=_&&s===t,c=[];if(u){var l=o(r);l?(s=e,r=l):u=!1}for(;++i<a;){var h=n[i];s(r,h)<0&&c.push(h)}return u&&f(r),c}function se(t,e,n,r){for(var i=(r||0)-1,o=t?t.length:0,s=[];++i<o;){var a=t[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(fi(a)||be(a))){e||(a=se(a,e,n));var u=-1,c=a.length,l=s.length;for(s.length+=c;++u<c;)s[l++]=a[u]}else n||s.push(a)}return s}function ae(t,e,n,r,i,o){if(n){var s=n(t,e);if("undefined"!=typeof s)return!!s}if(t===e)return 0!==t||1/t==1/e;var u=typeof t,f=typeof e;if(!(t!==t||t&&Y[u]||e&&Y[f]))return!1;if(null==t||null==e)return t===e;var h=Lr.call(t),p=Lr.call(e);if(h==q&&(h=V),p==q&&(p=V),h!=p)return!1;switch(h){case F:case P:return+t==+e;case z:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case G:case W:return t==jr(e)}var d=h==M;if(!d){var v=zr.call(t,"__wrapped__"),m=zr.call(e,"__wrapped__");if(v||m)return ae(v?t.__wrapped__:t,m?e.__wrapped__:e,n,r,i,o);if(h!=V||!ui.nodeClass&&(c(t)||c(e)))return!1;var g=!ui.argsObject&&be(t)?kr:t.constructor,y=!ui.argsObject&&be(e)?kr:e.constructor;if(g!=y&&!(Re(g)&&g instanceof g&&Re(y)&&y instanceof y)&&"constructor"in t&&"constructor"in e)return!1}var b=!i;i||(i=a()),o||(o=a());for(var _=i.length;_--;)if(i[_]==t)return o[_]==e;var w=0;if(s=!0,i.push(t),o.push(e),d){if(_=t.length,w=e.length,s=w==_,s||r)for(;w--;){var $=_,x=e[w];if(r)for(;$--&&!(s=ae(t[$],x,n,r,i,o)););else if(!(s=ae(t[w],x,n,r,i,o)))break}}else Ei(e,function(e,a,u){return zr.call(u,a)?(w++,s=zr.call(t,a)&&ae(t[a],e,n,r,i,o)):void 0}),s&&!r&&Ei(t,function(t,e,n){return zr.call(n,e)?s=--w>-1:void 0});return i.pop(),o.pop(),b&&(l(i),l(o)),s}function ue(t,e,n,r,i){(fi(e)?rn:Si)(e,function(e,o){var s,a,u=e,c=t[o];if(e&&((a=fi(e))||Ai(e))){for(var l=r.length;l--;)if(s=r[l]==e){c=i[l];break}if(!s){var f;n&&(u=n(c,e),(f="undefined"!=typeof u)&&(c=u)),f||(c=a?fi(c)?c:[]:Ai(c)?c:{}),r.push(e),i.push(c),f||ue(c,e,n,r,i)}}else n&&(u=n(c,e),"undefined"==typeof u&&(u=e)),"undefined"!=typeof u&&(c=u);t[o]=c})}function ce(t,e){return t+Pr(oi()*(e-t+1))}function le(n,r,i){var s=-1,u=ve(),c=n?n.length:0,h=[],p=!r&&c>=_&&u===t,d=i||p?a():h;if(p){var v=o(d);u=e,d=v}for(;++s<c;){var m=n[s],g=i?i(m,s,n):m;(r?!s||d[d.length-1]!==g:u(d,g)<0)&&((i||p)&&d.push(g),h.push(m))}return p?(l(d.array),f(d)):i&&l(d),h}function fe(t){return function(e,n,r){var i={};if(n=v.createCallback(n,r,3),fi(e))for(var o=-1,s=e.length;++o<s;){var a=e[o];t(i,a,n(a,o,e),e)}else wi(e,function(e,r,o){t(i,e,n(e,r,o),o)});return i}}function he(t,e,n,r,i,o){var s=1&e,a=2&e,u=4&e,c=16&e,l=32&e;if(!a&&!Re(t))throw new Ir;c&&!n.length&&(e&=-17,c=n=!1),l&&!r.length&&(e&=-33,l=r=!1);var f=t&&t.__bindData__;if(f&&f!==!0)return f=h(f),f[2]&&(f[2]=h(f[2])),f[3]&&(f[3]=h(f[3])),!s||1&f[1]||(f[4]=i),!s&&1&f[1]&&(e|=8),!u||4&f[1]||(f[5]=o),c&&Vr.apply(f[2]||(f[2]=[]),n),l&&Xr.apply(f[3]||(f[3]=[]),r),f[1]|=e,he.apply(null,f);var p=1==e||17===e?w:re;return p([t,e,n,r,i,o])}function pe(){Z.shadowedProps=R,Z.array=Z.bottom=Z.loop=Z.top="",Z.init="iterable",Z.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var n in t)Z[n]=t[n];var r=Z.args;Z.firstArg=/^[^,]+/.exec(r)[0];var i=Sr("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+ci(Z)+"\n}");return i(ne,U,Br,zr,y,be,fi,Ue,Z.keys,Dr,Y,ai,W,Nr,Lr)}function de(t){return gi[t]}function ve(){var e=(e=v.indexOf)===Sn?t:e;return e}function me(t){return"function"==typeof t&&qr.test(t)}function ge(t){var e,n;return!t||Lr.call(t)!=V||(e=t.constructor,Re(e)&&!(e instanceof e))||!ui.argsClass&&be(t)||!ui.nodeClass&&c(t)?!1:ui.ownLast?(Ei(t,function(t,e,r){return n=zr.call(r,e),!1}),n!==!1):(Ei(t,function(t,e){n=e}),"undefined"==typeof n||zr.call(t,n))}function ye(t){return yi[t]}function be(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Lr.call(t)==q||!1}function _e(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n=e,e=!1),Q(t,e,"function"==typeof n&&ne(n,r,1))}function we(t,e,n){return Q(t,!0,"function"==typeof e&&ne(e,n,1))}function $e(t,e){var n=ee(t);return e?$i(n,e):n}function xe(t,e,n){var r;return e=v.createCallback(e,n,3),Si(t,function(t,n,i){return e(t,n,i)?(r=n,!1):void 0}),r}function Ee(t,e,n){var r;return e=v.createCallback(e,n,3),Ae(t,function(t,n,i){return e(t,n,i)?(r=n,!1):void 0}),r}function Se(t,e,n){var r=[];Ei(t,function(t,e){r.push(e,t)});var i=r.length;for(e=ne(e,n,3);i--&&e(r[i--],r[i],t)!==!1;);return t}function Ae(t,e,n){var r=pi(t),i=r.length;for(e=ne(e,n,3);i--;){var o=r[i];if(e(t[o],o,t)===!1)break}return t}function Te(t){var e=[];return Ei(t,function(t,n){Re(t)&&e.push(n)}),e.sort()}function ke(t,e){return t?zr.call(t,e):!1}function Ce(t){for(var e=-1,n=pi(t),r=n.length,i={};++e<r;){var o=n[e];i[t[o]]=o}return i}function je(t){return t===!0||t===!1||t&&"object"==typeof t&&Lr.call(t)==F||!1}function Ie(t){return t&&"object"==typeof t&&Lr.call(t)==P||!1}function Oe(t){return t&&1===t.nodeType||!1}function Be(t){var e=!0;if(!t)return e;var n=Lr.call(t),r=t.length;return n==M||n==W||(ui.argsClass?n==q:be(t))||n==V&&"number"==typeof r&&Re(t.splice)?!r:(Si(t,function(){return e=!1}),e)}function De(t,e,n,r){return ae(t,e,"function"==typeof n&&ne(n,r,2))}function Ne(t){return Qr(t)&&!ti(parseFloat(t))}function Re(t){return"function"==typeof t}function Le(t){return!(!t||!Y[typeof t])}function qe(t){return Fe(t)&&t!=+t}function Me(t){return null===t}function Fe(t){return"number"==typeof t||t&&"object"==typeof t&&Lr.call(t)==z||!1}function Pe(t){return t&&Y[typeof t]&&Lr.call(t)==G||!1}function Ue(t){return"string"==typeof t||t&&"object"==typeof t&&Lr.call(t)==W||!1}function He(t){return"undefined"==typeof t}function ze(t,e,n){var r={};return e=v.createCallback(e,n,3),Si(t,function(t,n,i){r[n]=e(t,n,i)}),r}function Ve(t){var e=arguments,n=2;if(!Le(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var r=ne(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(r=e[--n]);for(var i=h(arguments,1,n),o=-1,s=a(),u=a();++o<n;)ue(t,i[o],r,s,u);return l(s),l(u),t}function Ge(t,e,n){var r={};if("function"!=typeof e){var i=[];Ei(t,function(t,e){i.push(e)}),i=ie(i,se(arguments,!0,!1,1));for(var o=-1,s=i.length;++o<s;){var a=i[o];r[a]=t[a]}}else e=v.createCallback(e,n,3),Ei(t,function(t,n,i){e(t,n,i)||(r[n]=t)});return r}function We(t){for(var e=-1,n=pi(t),r=n.length,i=wr(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function Ke(t,e,n){var r={};if("function"!=typeof e)for(var i=-1,o=se(arguments,!0,!1,1),s=Le(t)?o.length:0;++i<s;){var a=o[i];a in t&&(r[a]=t[a])}else e=v.createCallback(e,n,3),Ei(t,function(t,n,i){e(t,n,i)&&(r[n]=t)});return r}function Xe(t,e,n,r){var i=fi(t);if(null==n)if(i)n=[];else{var o=t&&t.constructor,s=o&&o.prototype;n=ee(s)}return e&&(e=v.createCallback(e,r,4),(i?wi:Si)(t,function(t,r,i){return e(n,t,r,i)})),n}function Je(t){for(var e=-1,n=pi(t),r=n.length,i=wr(r);++e<r;)i[e]=t[n[e]];return i}function Ze(t){var e=arguments,n=-1,r=se(e,!0,!1,1),i=e[2]&&e[2][e[1]]===t?1:r.length,o=wr(i);for(ui.unindexedChars&&Ue(t)&&(t=t.split(""));++n<i;)o[n]=t[r[n]];return o}function Ye(t,e,n){var r=-1,i=ve(),o=t?t.length:0,s=!1;return n=(0>n?ni(0,o+n):n)||0,fi(t)?s=i(t,e,n)>-1:"number"==typeof o?s=(Ue(t)?t.indexOf(e,n):i(t,e,n))>-1:wi(t,function(t){return++r>=n?!(s=t===e):void 0}),s}function Qe(t,e,n){var r=!0;if(e=v.createCallback(e,n,3),fi(t))for(var i=-1,o=t.length;++i<o&&(r=!!e(t[i],i,t)););else wi(t,function(t,n,i){return r=!!e(t,n,i)});return r}function tn(t,e,n){var r=[];if(e=v.createCallback(e,n,3),fi(t))for(var i=-1,o=t.length;++i<o;){var s=t[i];e(s,i,t)&&r.push(s)}else wi(t,function(t,n,i){e(t,n,i)&&r.push(t)});return r}function en(t,e,n){if(e=v.createCallback(e,n,3),!fi(t)){var r;return wi(t,function(t,n,i){return e(t,n,i)?(r=t,!1):void 0}),r}for(var i=-1,o=t.length;++i<o;){var s=t[i];if(e(s,i,t))return s}}function nn(t,e,n){var r;return e=v.createCallback(e,n,3),on(t,function(t,n,i){return e(t,n,i)?(r=t,!1):void 0}),r}function rn(t,e,n){if(e&&"undefined"==typeof n&&fi(t))for(var r=-1,i=t.length;++r<i&&e(t[r],r,t)!==!1;);else wi(t,e,n);return t}function on(t,e,n){var r=t,i=t?t.length:0;if(e=e&&"undefined"==typeof n?e:ne(e,n,3),fi(t))for(;i--&&e(t[i],i,t)!==!1;);else{if("number"!=typeof i){var o=pi(t);i=o.length}else ui.unindexedChars&&Ue(t)&&(r=t.split(""));wi(t,function(t,n,s){return n=o?o[--i]:--i,e(r[n],n,s)})}return t}function sn(t,e){var n=h(arguments,2),r=-1,i="function"==typeof e,o=t?t.length:0,s=wr("number"==typeof o?o:0);return rn(t,function(t){s[++r]=(i?e:t[e]).apply(t,n)}),s}function an(t,e,n){var r=-1,i=t?t.length:0,o=wr("number"==typeof i?i:0);if(e=v.createCallback(e,n,3),fi(t))for(;++r<i;)o[r]=e(t[r],r,t);else wi(t,function(t,n,i){o[++r]=e(t,n,i)});return o}function un(t,e,n){var i=-1/0,o=i;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&fi(t))for(var s=-1,a=t.length;++s<a;){var u=t[s];u>o&&(o=u)}else e=null==e&&Ue(t)?r:v.createCallback(e,n,3),wi(t,function(t,n,r){var s=e(t,n,r);s>i&&(i=s,o=t)});return o}function cn(t,e,n){var i=1/0,o=i;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&fi(t))for(var s=-1,a=t.length;++s<a;){var u=t[s];o>u&&(o=u)}else e=null==e&&Ue(t)?r:v.createCallback(e,n,3),wi(t,function(t,n,r){var s=e(t,n,r);i>s&&(i=s,o=t)});return o}function ln(t,e,n,r){var i=arguments.length<3;if(e=v.createCallback(e,r,4),fi(t)){var o=-1,s=t.length;for(i&&(n=t[++o]);++o<s;)n=e(n,t[o],o,t)}else wi(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)});return n}function fn(t,e,n,r){var i=arguments.length<3;return e=v.createCallback(e,r,4),on(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function hn(t,e,n){return e=v.createCallback(e,n,3),tn(t,function(t,n,r){return!e(t,n,r)})}function pn(t,e,n){if(t&&"number"!=typeof t.length?t=Je(t):ui.unindexedChars&&Ue(t)&&(t=t.split("")),null==e||n)return t?t[ce(0,t.length-1)]:d;var r=dn(t);return r.length=ri(ni(0,e),r.length),r}function dn(t){var e=-1,n=t?t.length:0,r=wr("number"==typeof n?n:0);return rn(t,function(t){var n=ce(0,++e);r[e]=r[n],r[n]=t}),r}function vn(t){var e=t?t.length:0;return"number"==typeof e?e:pi(t).length}function mn(t,e,n){var r;if(e=v.createCallback(e,n,3),fi(t))for(var i=-1,o=t.length;++i<o&&!(r=e(t[i],i,t)););else wi(t,function(t,n,i){return!(r=e(t,n,i))});return!!r}function gn(t,e,n){var r=-1,o=fi(e),s=t?t.length:0,c=wr("number"==typeof s?s:0);for(o||(e=v.createCallback(e,n,3)),rn(t,function(t,n,i){var s=c[++r]=u();o?s.criteria=an(e,function(e){return t[e]}):(s.criteria=a())[0]=e(t,n,i),s.index=r,s.value=t}),s=c.length,c.sort(i);s--;){var h=c[s];c[s]=h.value,o||l(h.criteria),f(h)}return c}function yn(t){return t&&"number"==typeof t.length?ui.unindexedChars&&Ue(t)?t.split(""):h(t):Je(t)}function bn(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function _n(t){return ie(t,se(arguments,!0,!0,1))}function wn(t,e,n){var r=-1,i=t?t.length:0;for(e=v.createCallback(e,n,3);++r<i;)if(e(t[r],r,t))return r;return-1}function $n(t,e,n){var r=t?t.length:0;for(e=v.createCallback(e,n,3);r--;)if(e(t[r],r,t))return r;return-1}function xn(t,e,n){var r=0,i=t?t.length:0;if("number"!=typeof e&&null!=e){var o=-1;for(e=v.createCallback(e,n,3);++o<i&&e(t[o],o,t);)r++}else if(r=e,null==r||n)return t?t[0]:d;return h(t,0,ri(ni(0,r),i))}function En(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(t=an(t,n,r)),se(t,e)}function Sn(e,n,r){if("number"==typeof r){var i=e?e.length:0;r=0>r?ni(0,i+r):r||0}else if(r){var o=Dn(e,n);return e[o]===n?o:-1}return t(e,n,r)}function An(t,e,n){var r=0,i=t?t.length:0;if("number"!=typeof e&&null!=e){var o=i;for(e=v.createCallback(e,n,3);o--&&e(t[o],o,t);)r++}else r=null==e||n?1:e||r;return h(t,0,ri(ni(0,i-r),i))}function Tn(){for(var n=[],r=-1,i=arguments.length,s=a(),u=ve(),c=u===t,h=a();++r<i;){var p=arguments[r];(fi(p)||be(p))&&(n.push(p),s.push(c&&p.length>=_&&o(r?n[r]:h)))}var d=n[0],v=-1,m=d?d.length:0,g=[];t:for(;++v<m;){var y=s[0];if(p=d[v],(y?e(y,p):u(h,p))<0){for(r=i,(y||h).push(p);--r;)if(y=s[r],(y?e(y,p):u(n[r],p))<0)continue t;g.push(p)}}for(;i--;)y=s[i],y&&f(y);return l(s),l(h),g}function kn(t,e,n){var r=0,i=t?t.length:0;if("number"!=typeof e&&null!=e){var o=i;for(e=v.createCallback(e,n,3);o--&&e(t[o],o,t);)r++}else if(r=e,null==r||n)return t?t[i-1]:d;return h(t,ni(0,i-r))}function Cn(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?ni(0,r+n):ri(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function jn(t){for(var e=arguments,n=0,r=e.length,i=t?t.length:0;++n<r;)for(var o=-1,s=e[n];++o<i;)t[o]===s&&(Kr.call(t,o--,1),i--);return t}function In(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var r=-1,i=ni(0,Mr((e-t)/(n||1))),o=wr(i);++r<i;)o[r]=t,t+=n;return o}function On(t,e,n){var r=-1,i=t?t.length:0,o=[];for(e=v.createCallback(e,n,3);++r<i;){var s=t[r];e(s,r,t)&&(o.push(s),Kr.call(t,r--,1),i--)}return o}function Bn(t,e,n){if("number"!=typeof e&&null!=e){var r=0,i=-1,o=t?t.length:0;for(e=v.createCallback(e,n,3);++i<o&&e(t[i],i,t);)r++}else r=null==e||n?1:ni(0,e);return h(t,r)}function Dn(t,e,n,r){var i=0,o=t?t.length:i;for(n=n?v.createCallback(n,r,1):or,e=n(e);o>i;){var s=i+o>>>1;n(t[s])<e?i=s+1:o=s}return i}function Nn(){return le(se(arguments,!0,!0))}function Rn(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(n=v.createCallback(n,r,3)),le(t,e,n)}function Ln(t){return ie(t,h(arguments,1))}function qn(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(fi(n)||be(n))var r=r?le(ie(r,n).concat(ie(n,r))):n}return r||[]}function Mn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?un(ji(t,"length")):0,r=wr(0>n?0:n);++e<n;)r[e]=ji(t,e);return r}function Fn(t,e){var n=-1,r=t?t.length:0,i={};for(e||!r||fi(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Pn(t,e){if(!Re(e))throw new Ir;return function(){return--t<1?e.apply(this,arguments):void 0}}function Un(t,e){return arguments.length>2?he(t,17,h(arguments,2),null,e):he(t,1,null,null,e)}function Hn(t){for(var e=arguments.length>1?se(arguments,!0,!1,1):Te(t),n=-1,r=e.length;++n<r;){var i=e[n];t[i]=he(t[i],1,null,null,t)}return t}function zn(t,e){return arguments.length>2?he(e,19,h(arguments,2),null,t):he(e,3,null,null,t)}function Vn(){for(var t=arguments,e=t.length;e--;)if(!Re(t[e]))throw new Ir;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Gn(t,e){return e="number"==typeof e?e:+e||t.length,he(t,4,null,null,null,e)}function Wn(t,e,n){var r,i,o,s,a,u,c,l=0,f=!1,h=!0;if(!Re(t))throw new Ir;if(e=ni(0,e)||0,n===!0){var p=!0;h=!1}else Le(n)&&(p=n.leading,f="maxWait"in n&&(ni(e,n.maxWait)||0),h="trailing"in n?n.trailing:h);var v=function(){var n=e-(Oi()-s);if(0>=n){i&&Fr(i);var f=c;i=u=c=d,f&&(l=Oi(),o=t.apply(a,r),u||i||(r=a=null))}else u=Wr(v,n)},m=function(){u&&Fr(u),i=u=c=d,(h||f!==e)&&(l=Oi(),o=t.apply(a,r),u||i||(r=a=null))};return function(){if(r=arguments,s=Oi(),a=this,c=h&&(u||!p),f===!1)var n=p&&!u;else{i||p||(l=s);var d=f-(s-l),g=0>=d;g?(i&&(i=Fr(i)),l=s,o=t.apply(a,r)):i||(i=Wr(m,d))}return g&&u?u=Fr(u):u||e===f||(u=Wr(v,e)),n&&(g=!0,o=t.apply(a,r)),!g||u||i||(r=a=null),o}}function Kn(t){if(!Re(t))throw new Ir;var e=h(arguments,1);return Wr(function(){t.apply(d,e)},1)}function Xn(t,e){if(!Re(t))throw new Ir;var n=h(arguments,2);return Wr(function(){t.apply(d,n)},e)}function Jn(t,e){if(!Re(t))throw new Ir;var n=function(){var r=n.cache,i=e?e.apply(this,arguments):b+arguments[0];return zr.call(r,i)?r[i]:r[i]=t.apply(this,arguments)};return n.cache={},n}function Zn(t){var e,n;if(!Re(t))throw new Ir;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Yn(t){return he(t,16,h(arguments,1))}function Qn(t){return he(t,32,null,h(arguments,1))}function tr(t,e,n){var r=!0,i=!0;if(!Re(t))throw new Ir;return n===!1?r=!1:Le(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),X.leading=r,X.maxWait=e,X.trailing=i,Wn(t,e,X)}function er(t,e){return he(e,16,[t])}function nr(t){return function(){return t}}function rr(t,e,n){var r=typeof t;if(null==t||"function"==r)return ne(t,e,n);if("object"!=r)return cr(t);var i=pi(t),o=i[0],s=t[o];return 1!=i.length||s!==s||Le(s)?function(e){for(var n=i.length,r=!1;n--&&(r=ae(e[i[n]],t[i[n]],null,!0)););return r}:function(t){var e=t[o];return s===e&&(0!==s||1/s==1/e)}}function ir(t){return null==t?"":jr(t).replace(_i,de)}function or(t){return t}function sr(t,e,n){var r=!0,i=e&&Te(e);e&&(n||i.length)||(null==n&&(n=e),o=m,e=t,t=v,i=Te(e)),n===!1?r=!1:Le(n)&&"chain"in n&&(r=n.chain);var o=t,s=Re(o);rn(i,function(n){var i=t[n]=e[n];s&&(o.prototype[n]=function(){var e=this.__chain__,n=this.__wrapped__,s=[n];Vr.apply(s,arguments);var a=i.apply(t,s);if(r||e){if(n===a&&Le(a))return this;a=new o(a),a.__chain__=e}return a})})}function ar(){return n._=Rr,this}function ur(){}function cr(t){return function(e){return e[t]}}function lr(t,e,n){var r=null==t,i=null==e;if(null==n&&("boolean"==typeof t&&i?(n=t,t=1):i||"boolean"!=typeof e||(n=e,i=!0)),r&&i&&(e=1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=oi();return ri(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return ce(t,e)}function fr(t,e){if(t){var n=t[e];return Re(n)?t[e]():n}}function hr(t,e,n){var r=v.templateSettings;t=jr(t||""),n=xi({},n,r);var i,o=xi({},n.imports,r.imports),a=pi(o),u=Je(o),c=0,l=n.interpolate||O,f="__p += '",h=Cr((n.escape||O).source+"|"+l.source+"|"+(l===j?A:O).source+"|"+(n.evaluate||O).source+"|$","g");t.replace(h,function(e,n,r,o,a,u){return r||(r=o),f+=t.slice(c,u).replace(D,s),n&&(f+="' +\n__e("+n+") +\n'"),a&&(i=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var p=n.variable,m=p;m||(p="obj",f="with ("+p+") {\n"+f+"\n}\n"),f=(i?f.replace(x,""):f).replace(E,"$1").replace(S,"$1;"),f="function("+p+") {\n"+(m?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";
var g="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+L++ +"]")+"\n*/";try{var y=Sr(a,"return "+f+g).apply(d,u)}catch(b){throw b.source=f,b}return e?y(e):(y.source=f,y)}function pr(t,e,n){t=(t=+t)>-1?t:0;var r=-1,i=wr(t);for(e=ne(e,n,1);++r<t;)i[r]=e(r);return i}function dr(t){return null==t?"":jr(t).replace(bi,ye)}function vr(t){var e=++g;return jr(null==t?"":t)+e}function mr(t){return t=new m(t),t.__chain__=!0,t}function gr(t,e){return e(t),t}function yr(){return this.__chain__=!0,this}function br(){return jr(this.__wrapped__)}function _r(){return this.__wrapped__}n=n?oe.defaults(te.Object(),n,oe.pick(te,N)):te;var wr=n.Array,$r=n.Boolean,xr=n.Date,Er=n.Error,Sr=n.Function,Ar=n.Math,Tr=n.Number,kr=n.Object,Cr=n.RegExp,jr=n.String,Ir=n.TypeError,Or=[],Br=Er.prototype,Dr=kr.prototype,Nr=jr.prototype,Rr=n._,Lr=Dr.toString,qr=Cr("^"+jr(Lr).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Mr=Ar.ceil,Fr=n.clearTimeout,Pr=Ar.floor,Ur=Sr.prototype.toString,Hr=me(Hr=kr.getPrototypeOf)&&Hr,zr=Dr.hasOwnProperty,Vr=Or.push,Gr=Dr.propertyIsEnumerable,Wr=n.setTimeout,Kr=Or.splice,Xr=Or.unshift,Jr=function(){try{var t={},e=me(e=kr.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),Zr=me(Zr=kr.create)&&Zr,Yr=me(Yr=wr.isArray)&&Yr,Qr=n.isFinite,ti=n.isNaN,ei=me(ei=kr.keys)&&ei,ni=Ar.max,ri=Ar.min,ii=n.parseInt,oi=Ar.random,si={};si[M]=wr,si[F]=$r,si[P]=xr,si[H]=Sr,si[V]=kr,si[z]=Tr,si[G]=Cr,si[W]=jr;var ai={};ai[M]=ai[P]=ai[z]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ai[F]=ai[W]={constructor:!0,toString:!0,valueOf:!0},ai[U]=ai[H]=ai[G]={constructor:!0,toString:!0},ai[V]={constructor:!0},function(){for(var t=R.length;t--;){var e=R[t];for(var n in ai)zr.call(ai,n)&&!zr.call(ai[n],e)&&(ai[n][e]=!1)}}(),m.prototype=v.prototype;var ui=v.support={};!function(){var t=function(){this.x=1},e={0:1,length:1},r=[];t.prototype={valueOf:1,y:1};for(var i in new t)r.push(i);for(i in arguments);ui.argsClass=Lr.call(arguments)==q,ui.argsObject=arguments.constructor==kr&&!(arguments instanceof wr),ui.enumErrorProps=Gr.call(Br,"message")||Gr.call(Br,"name"),ui.enumPrototypes=Gr.call(t,"prototype"),ui.funcDecomp=!me(n.WinRTError)&&B.test(p),ui.funcNames="string"==typeof Sr.name,ui.nonEnumArgs=0!=i,ui.nonEnumShadows=!/valueOf/.test(r),ui.ownLast="x"!=r[0],ui.spliceObjects=(Or.splice.call(e,0,1),!e[0]),ui.unindexedChars="x"[0]+kr("x")[0]!="xx";try{ui.nodeClass=!(Lr.call(document)==V&&!({toString:0}+""))}catch(o){ui.nodeClass=!0}}(1),v.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:j,variable:"",imports:{_:v}};var ci=function(t){var e="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(e+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",ui.unindexedChars&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):ui.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),ui.enumPrototypes&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),ui.enumErrorProps&&(e+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(ui.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),ui.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }  ";else if(e+="\n  for (index in iterable) {\n",t.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }    ",ui.nonEnumShadows){for(e+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)e+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(e+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),e+=") {\n      "+t.loop+";\n    }      ";e+="\n  }    "}return(t.array||ui.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"};Zr||(ee=function(){function t(){}return function(e){if(Le(e)){t.prototype=e;var r=new t;t.prototype=null}return r||n.Object()}}());var li=Jr?function(t,e){J.value=e,Jr(t,"__bindData__",J)}:ur;ui.argsClass||(be=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&zr.call(t,"callee")&&!Gr.call(t,"callee")||!1});var fi=Yr||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Lr.call(t)==M||!1},hi=pe({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),pi=ei?function(t){return Le(t)?ui.enumPrototypes&&"function"==typeof t||ui.nonEnumArgs&&t.length&&be(t)?hi(t):ei(t):[]}:hi,di={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:pi,loop:"if (callback(iterable[index], index, collection) === false) return result"},vi={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:pi,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},mi={top:"if (!objectTypes[typeof iterable]) return result;\n"+di.top,array:!1},gi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yi=Ce(gi),bi=Cr("("+pi(yi).join("|")+")","g"),_i=Cr("["+pi(gi).join("")+"]","g"),wi=pe(di),$i=pe(vi,{top:vi.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),xi=pe(vi),Ei=pe(di,mi,{useHas:!1}),Si=pe(di,mi);Re(/x/)&&(Re=function(t){return"function"==typeof t&&Lr.call(t)==H});var Ai=Hr?function(t){if(!t||Lr.call(t)!=V||!ui.argsClass&&be(t))return!1;var e=t.valueOf,n=me(e)&&(n=Hr(e))&&Hr(n);return n?t==n||Hr(t)==n:ge(t)}:ge,Ti=fe(function(t,e,n){zr.call(t,n)?t[n]++:t[n]=1}),ki=fe(function(t,e,n){(zr.call(t,n)?t[n]:t[n]=[]).push(e)}),Ci=fe(function(t,e,n){t[n]=e}),ji=an,Ii=tn,Oi=me(Oi=xr.now)&&Oi||function(){return(new xr).getTime()},Bi=8==ii($+"08")?ii:function(t,e){return ii(Ue(t)?t.replace(I,""):t,e||0)};return v.after=Pn,v.assign=$i,v.at=Ze,v.bind=Un,v.bindAll=Hn,v.bindKey=zn,v.chain=mr,v.compact=bn,v.compose=Vn,v.constant=nr,v.countBy=Ti,v.create=$e,v.createCallback=rr,v.curry=Gn,v.debounce=Wn,v.defaults=xi,v.defer=Kn,v.delay=Xn,v.difference=_n,v.filter=tn,v.flatten=En,v.forEach=rn,v.forEachRight=on,v.forIn=Ei,v.forInRight=Se,v.forOwn=Si,v.forOwnRight=Ae,v.functions=Te,v.groupBy=ki,v.indexBy=Ci,v.initial=An,v.intersection=Tn,v.invert=Ce,v.invoke=sn,v.keys=pi,v.map=an,v.mapValues=ze,v.max=un,v.memoize=Jn,v.merge=Ve,v.min=cn,v.omit=Ge,v.once=Zn,v.pairs=We,v.partial=Yn,v.partialRight=Qn,v.pick=Ke,v.pluck=ji,v.property=cr,v.pull=jn,v.range=In,v.reject=hn,v.remove=On,v.rest=Bn,v.shuffle=dn,v.sortBy=gn,v.tap=gr,v.throttle=tr,v.times=pr,v.toArray=yn,v.transform=Xe,v.union=Nn,v.uniq=Rn,v.values=Je,v.where=Ii,v.without=Ln,v.wrap=er,v.xor=qn,v.zip=Mn,v.zipObject=Fn,v.collect=an,v.drop=Bn,v.each=rn,v.eachRight=on,v.extend=$i,v.methods=Te,v.object=Fn,v.select=tn,v.tail=Bn,v.unique=Rn,v.unzip=Mn,sr(v),v.clone=_e,v.cloneDeep=we,v.contains=Ye,v.escape=ir,v.every=Qe,v.find=en,v.findIndex=wn,v.findKey=xe,v.findLast=nn,v.findLastIndex=$n,v.findLastKey=Ee,v.has=ke,v.identity=or,v.indexOf=Sn,v.isArguments=be,v.isArray=fi,v.isBoolean=je,v.isDate=Ie,v.isElement=Oe,v.isEmpty=Be,v.isEqual=De,v.isFinite=Ne,v.isFunction=Re,v.isNaN=qe,v.isNull=Me,v.isNumber=Fe,v.isObject=Le,v.isPlainObject=Ai,v.isRegExp=Pe,v.isString=Ue,v.isUndefined=He,v.lastIndexOf=Cn,v.mixin=sr,v.noConflict=ar,v.noop=ur,v.now=Oi,v.parseInt=Bi,v.random=lr,v.reduce=ln,v.reduceRight=fn,v.result=fr,v.runInContext=p,v.size=vn,v.some=mn,v.sortedIndex=Dn,v.template=hr,v.unescape=dr,v.uniqueId=vr,v.all=Qe,v.any=mn,v.detect=en,v.findWhere=en,v.foldl=ln,v.foldr=fn,v.include=Ye,v.inject=ln,sr(function(){var t={};return Si(v,function(e,n){v.prototype[n]||(t[n]=e)}),t}(),!1),v.first=xn,v.last=kn,v.sample=pn,v.take=xn,v.head=xn,Si(v,function(t,e){var n="sample"!==e;v.prototype[e]||(v.prototype[e]=function(e,r){var i=this.__chain__,o=t(this.__wrapped__,e,r);return i||null!=e&&(!r||n&&"function"==typeof e)?new m(o,i):o})}),v.VERSION="2.4.1",v.prototype.chain=yr,v.prototype.toString=br,v.prototype.value=_r,v.prototype.valueOf=_r,wi(["join","pop","shift"],function(t){var e=Or[t];v.prototype[t]=function(){var t=this.__chain__,n=e.apply(this.__wrapped__,arguments);return t?new m(n,t):n}}),wi(["push","reverse","sort","unshift"],function(t){var e=Or[t];v.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),wi(["concat","slice","splice"],function(t){var e=Or[t];v.prototype[t]=function(){return new m(e.apply(this.__wrapped__,arguments),this.__chain__)}}),ui.spliceObjects||wi(["pop","shift","splice"],function(t){var e=Or[t],n="splice"==t;v.prototype[t]=function(){var t=this.__chain__,r=this.__wrapped__,i=e.apply(r,arguments);return 0===r.length&&delete r[0],t||n?new m(i,t):i}}),v}var d,v=[],m=[],g=0,y={},b=+new Date+"",_=75,w=40,$=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",x=/\b__p \+= '';/g,E=/\b(__p \+=) '' \+/g,S=/(__e\(.*?\)|\b__t\)) \+\n'';/g,A=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,C=/^\s*function[ \n\r\t]+\w/,j=/<%=([\s\S]+?)%>/g,I=RegExp("^["+$+"]*0+(?=.$)"),O=/($^)/,B=/\bthis\b/,D=/['\n\r\t\u2028\u2029\\]/g,N=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],R=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],L=0,q="[object Arguments]",M="[object Array]",F="[object Boolean]",P="[object Date]",U="[object Error]",H="[object Function]",z="[object Number]",V="[object Object]",G="[object RegExp]",W="[object String]",K={};K[H]=!1,K[q]=K[M]=K[F]=K[P]=K[z]=K[V]=K[G]=K[W]=!0;var X={leading:!1,maxWait:0,trailing:!1},J={configurable:!1,enumerable:!1,value:null,writable:!1},Z={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},Y={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Q={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},te=Y[typeof window]&&window||this,ee=Y[typeof exports]&&exports&&!exports.nodeType&&exports,ne=Y[typeof module]&&module&&!module.nodeType&&module,re=ne&&ne.exports===ee&&ee,ie=Y[typeof global]&&global;!ie||ie.global!==ie&&ie.window!==ie||(te=ie);var oe=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(te._=oe,define(function(){return oe})):ee&&ne?re?(ne.exports=oe)._=oe:ee._=oe:te._=oe}).call(this),/*!
angular-xeditable - 0.1.8
Edit-in-place for angular.js
Build date: 2014-01-10 
*/
angular.module("xeditable",[]).value("editableOptions",{theme:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus"}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(t){return t({directiveName:"editableBsdate",inputTpl:'<input type="text">'})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(t){return t({directiveName:"editableBstime",inputTpl:"<timepicker></timepicker>",render:function(){this.parent.render.call(this);var t=angular.element('<div class="well well-small" style="display:inline-block;"></div>');t.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(t.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(t)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(t){return t({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.after(angular.element("<span></span>").text(this.attrs.eTitle)))},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(t,e){return t({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var t=e(this.attrs.eNgOptions),n='<label ng-repeat="'+t.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$data" checklist-value="'+t.locals.valueFn+'"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)}})}]),function(){var t="text|email|tel|number|url|search|color|date|datetime|time|month|week".split("|");angular.forEach(t,function(t){var e="editable"+t.charAt(0).toUpperCase()+t.slice(1);angular.module("xeditable").directive(e,["editableDirectiveFactory",function(n){return n({directiveName:e,inputTpl:'<input type="'+t+'">'})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(t){return t({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(t,e){return t({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var t=e(this.attrs.eNgOptions),n='<label ng-repeat="'+t.ngRepeat+'"><input type="radio" ng-model="$parent.$data" value="{{'+t.locals.valueFn+'}}"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(t){return t({directiveName:"editableSelect",inputTpl:"<select></select>",autosubmit:function(){var t=this;t.inputEl.bind("change",function(){t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(t){return t({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){var t=this;t.parent.addListeners.call(t),t.single&&"no"!==t.buttons&&t.autosubmit()},autosubmit:function(){var t=this;t.inputEl.bind("keydown",function(e){(e.ctrlKey||e.metaKey)&&13===e.keyCode&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(t,e){function n(t,n,r,i,o,s,a,u,c){var l,f,h=this;h.scope=t,h.elem=r,h.attrs=n,h.inputEl=null,h.editorEl=null,h.single=!0,h.error="",h.theme=o[s.theme]||o["default"],h.parent={},h.inputTpl="",h.directiveName="",h.useCopy=!1,h.single=null,h.buttons="right",h.init=function(e){if(h.single=e,h.name=n.eName||n[h.directiveName],!n[h.directiveName])throw"You should provide value for `"+h.directiveName+"` in editable element!";l=i(n[h.directiveName]),h.buttons=h.single?h.attrs.buttons||s.buttons:"no",n.eName&&h.scope.$watch("$data",function(t){h.scope.$form.$data[n.eName]=t}),n.onshow&&(h.onshow=function(){return h.catchError(i(n.onshow)(t))}),n.onhide&&(h.onhide=function(){return i(n.onhide)(t)}),n.oncancel&&(h.oncancel=function(){return i(n.oncancel)(t)}),n.onbeforesave&&(h.onbeforesave=function(){return h.catchError(i(n.onbeforesave)(t))}),n.onaftersave&&(h.onaftersave=function(){return h.catchError(i(n.onaftersave)(t))}),t.$parent.$watch(n[h.directiveName],function(){h.handleEmpty()})},h.render=function(){var t=h.theme;h.inputEl=angular.element(h.inputTpl),h.controlsEl=angular.element(t.controlsTpl),h.controlsEl.append(h.inputEl),"no"!==h.buttons&&(h.buttonsEl=angular.element(t.buttonsTpl),h.submitEl=angular.element(t.submitTpl),h.cancelEl=angular.element(t.cancelTpl),h.buttonsEl.append(h.submitEl).append(h.cancelEl),h.controlsEl.append(h.buttonsEl),h.inputEl.addClass("editable-has-buttons")),h.errorEl=angular.element(t.errorTpl),h.controlsEl.append(h.errorEl),h.editorEl=angular.element(h.single?t.formTpl:t.noformTpl),h.editorEl.append(h.controlsEl);for(var r in n.$attr)if(!(r.length<=1)){var i=!1,o=r.substring(1,2);if("e"===r.substring(0,1)&&o===o.toUpperCase()&&(i=r.substring(1),"Form"!==i&&"NgSubmit"!==i)){i=i.substring(0,1).toLowerCase()+e.camelToDash(i.substring(1));var a=""===n[r]?i:n[r];h.inputEl.attr(i,a)}}h.inputEl.addClass("editable-input"),h.inputEl.attr("ng-model","$data"),h.editorEl.addClass(e.camelToDash(h.directiveName)),h.single&&(h.editorEl.attr("editable-form","$form"),h.editorEl.attr("blur",h.attrs.blur||("no"===h.buttons?"cancel":s.blurElem))),angular.isFunction(t.postrender)&&t.postrender.call(h)},h.setLocalValue=function(){h.scope.$data=h.useCopy?angular.copy(l(t.$parent)):l(t.$parent)},h.show=function(){return h.setLocalValue(),h.render(),r.after(h.editorEl),u(h.editorEl)(t),h.addListeners(),r.addClass("editable-hide"),h.onshow()},h.hide=function(){return h.editorEl.remove(),r.removeClass("editable-hide"),h.onhide()},h.cancel=function(){h.oncancel()},h.addListeners=function(){h.inputEl.bind("keyup",function(t){if(h.single)switch(t.keyCode){case 27:h.scope.$apply(function(){h.scope.$form.$cancel()})}}),h.single&&"no"===h.buttons&&h.autosubmit(),h.editorEl.bind("click",function(t){1===t.which&&h.scope.$form.$visible&&(h.scope.$form._clicked=!0)})},h.setWaiting=function(t){t?(f=!h.inputEl.attr("disabled")&&!h.inputEl.attr("ng-disabled")&&!h.inputEl.attr("ng-enabled"),f&&(h.inputEl.attr("disabled","disabled"),h.buttonsEl&&h.buttonsEl.find("button").attr("disabled","disabled"))):f&&(h.inputEl.removeAttr("disabled"),h.buttonsEl&&h.buttonsEl.find("button").removeAttr("disabled"))},h.activate=function(){setTimeout(function(){var t=h.inputEl[0];"focus"===s.activate&&t.focus&&t.focus(),"select"===s.activate&&t.select&&t.select()},0)},h.setError=function(e){angular.isObject(e)||(t.$error=e,h.error=e)},h.catchError=function(t,e){return angular.isObject(t)&&e!==!0?c.when(t).then(angular.bind(this,function(t){this.catchError(t,!0)}),angular.bind(this,function(t){this.catchError(t,!0)})):e&&angular.isObject(t)&&t.status&&200!==t.status&&t.data&&angular.isString(t.data)?(this.setError(t.data),t=t.data):angular.isString(t)&&this.setError(t),t},h.save=function(){l.assign(t.$parent,angular.copy(h.scope.$data))},h.handleEmpty=function(){var e=l(t.$parent),n=null===e||void 0===e||""===e||angular.isArray(e)&&0===e.length;r.toggleClass("editable-empty",n)},h.autosubmit=angular.noop,h.onshow=angular.noop,h.onhide=angular.noop,h.oncancel=angular.noop,h.onbeforesave=angular.noop,h.onaftersave=angular.noop}return n.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableOptions","$rootScope","$compile","$q"],n}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController",function(t,e,n,r,i,o,s){return function(e){return{restrict:"A",scope:!0,require:[e.directiveName,"?^form"],controller:o,link:function(n,o,a,u){var c,l=u[0],f=!1;if(u[1])c=u[1],f=!0;else if(a.eForm){var h=t(a.eForm)(n);if(h)c=h,f=!0;else for(var p=0;p<i[0].forms.length;p++)if(i[0].forms[p].name===a.eForm){c=null,f=!0;break}}if(angular.forEach(e,function(t,e){void 0!==l[e]&&(l.parent[e]=l[e])}),angular.extend(l,e),l.init(!f),n.$editable=l,o.addClass("editable"),f)if(c){if(n.$form=c,!n.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";n.$form.$addEditable(l)}else r.$$editableBuffer=r.$$editableBuffer||{},r.$$editableBuffer[a.eForm]=r.$$editableBuffer[a.eForm]||[],r.$$editableBuffer[a.eForm].push(l),n.$form=null;else n.$form=s(),n.$form.$addEditable(l),a.eForm&&(n.$parent[a.eForm]=n.$form),a.eForm||(o.addClass("editable-click"),o.bind("click",function(t){t.preventDefault(),t.editable=l,n.$apply(function(){n.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(t,e,n,r,i){var o=[];e.bind("click",function(t){if(1===t.which){for(var e=[],r=[],i=0;i<o.length;i++)o[i]._clicked?o[i]._clicked=!1:o[i].$waiting||("cancel"===o[i]._blur&&e.push(o[i]),"submit"===o[i]._blur&&r.push(o[i]));(e.length||r.length)&&n.$apply(function(){angular.forEach(e,function(t){t.$cancel()}),angular.forEach(r,function(t){t.$submit()})})}});var s={$addEditable:function(t){this.$editables.push(t),t.elem.bind("$destroy",angular.bind(this,this.$removeEditable,t)),t.scope.$form||(t.scope.$form=this),this.$visible&&t.catchError(t.show())},$removeEditable:function(t){for(var e=0;e<this.$editables.length;e++)if(this.$editables[e]===t)return void this.$editables.splice(e,1)},$show:function(){if(!this.$visible){this.$visible=!0;var t=r();t.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(e){t.when(e.show())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===i.indexOf(o,this)&&o.push(this)}),0)}},$activate:function(t){var e;if(this.$editables.length){if(angular.isString(t))for(e=0;e<this.$editables.length;e++)if(this.$editables[e].name===t)return void this.$editables[e].activate();for(e=0;e<this.$editables.length;e++)if(this.$editables[e].error)return void this.$editables[e].activate();this.$editables[0].activate()}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(t){t.hide()}),i.arrayRemove(o,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(t){t.cancel()}),this.$hide())},$setWaiting:function(t){this.$waiting=!!t,angular.forEach(this.$editables,function(e){e.setWaiting(!!t)})},$setError:function(t,e){angular.forEach(this.$editables,function(n){t&&n.name!==t||n.setError(e)})},$submit:function(){function t(t){var e=r();e.when(this.$onbeforesave()),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:t?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var e=r();angular.forEach(this.$editables,function(t){e.when(t.onbeforesave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,t,!0),onFalse:angular.bind(this,t,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(t){t.save()});var t=r();t.when(this.$onaftersave()),angular.forEach(this.$editables,function(e){t.when(e.onaftersave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},s)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(t,e,n,r){return{restrict:"A",require:["form"],compile:function(){return{pre:function(e,r,i,o){var s,a=o[0];i.editableForm?e[i.editableForm]&&e[i.editableForm].$show?(s=e[i.editableForm],angular.extend(a,s)):(s=n(),e[i.editableForm]=s,angular.extend(s,a)):(s=n(),angular.extend(a,s));var u=t.$$editableBuffer,c=a.$name;c&&u&&u[c]&&(angular.forEach(u[c],function(t){s.$addEditable(t)}),delete u[c])},post:function(t,n,i,o){var s;s=i.editableForm&&t[i.editableForm]&&t[i.editableForm].$show?t[i.editableForm]:o[0],i.onshow&&(s.$onshow=angular.bind(s,e(i.onshow),t)),i.onhide&&(s.$onhide=angular.bind(s,e(i.onhide),t)),i.oncancel&&(s.$oncancel=angular.bind(s,e(i.oncancel),t)),i.shown&&e(i.shown)(t)&&s.$show(),s._blur=i.blur||r.blurForm,i.ngSubmit||i.submit||(i.onbeforesave&&(s.$onbeforesave=function(){return e(i.onbeforesave)(t,{$data:s.$data})}),i.onaftersave&&(s.$onaftersave=function(){return e(i.onaftersave)(t,{$data:s.$data})}),n.bind("submit",function(e){e.preventDefault(),t.$apply(function(){s.$submit()})})),n.bind("click",function(t){1===t.which&&s.$visible&&(s._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(t){function e(){return{promises:[],hasFalse:!1,hasString:!1,when:function(e,n){if(e===!1)this.hasFalse=!0;else if(!n&&angular.isObject(e))this.promises.push(t.when(e));else{if(!angular.isString(e))return;this.hasString=!0}},then:function(e){function n(){a.hasString||a.hasFalse?!a.hasString&&a.hasFalse?i():o():r()}e=e||{};var r=e.onTrue||angular.noop,i=e.onFalse||angular.noop,o=e.onString||angular.noop,s=e.onWait||angular.noop,a=this;this.promises.length?(s(!0),t.all(this.promises).then(function(t){s(!1),angular.forEach(t,function(t){a.when(t,!0)}),n()},function(){s(!1),o()})):n()}}}return e}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},arrayRemove:function(t,e){var n=this.indexOf(t,e);return n>=0&&t.splice(n,1),e},camelToDash:function(t){var e=/[A-Z]/g;return t.replace(e,function(t,e){return(e?"-":"")+t.toLowerCase()})},dashToCamel:function(t){var e=/([\:\-\_]+(.))/g,n=/^moz([A-Z])/;return t.replace(e,function(t,e,n,r){return r?n.toUpperCase():n}).replace(n,"Moz$1")}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function t(t){var n;if(!(n=t.match(e)))throw"ng-options parse error";var r,i=n[2]||n[1],o=n[4]||n[6],s=n[5],a=(n[3]||"",n[2]?n[1]:o),u=n[7],c=n[8],l=c?n[8]:null;return void 0===s?(r=o+" in "+u,void 0!==c&&(r+=" track by "+l)):r="("+s+", "+o+") in "+u,{ngRepeat:r,locals:{valueName:o,keyName:s,valueFn:a,displayFn:i}}}var e=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return t}]),angular.module("xeditable").factory("editableThemes",function(){var t={"default":{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="icon-ok icon-white"></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span class="icon-remove"></span></button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span class="glyphicon glyphicon-remove"></span></button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}};return t});